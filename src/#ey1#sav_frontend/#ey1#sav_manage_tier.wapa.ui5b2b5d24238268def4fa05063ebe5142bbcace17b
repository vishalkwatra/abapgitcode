//@ui5-bundle ey/sap/fin/cs/managetiers/Component-preload.js                                                                                                                                                                                                   
jQuery.sap.registerPreloadedModules({                                                                                                                                                                                                                          
"version":"2.0",                                                                                                                                                                                                                                               
"modules":{                                                                                                                                                                                                                                                    
	"ey/sap/fin/cs/managetiers/Component.js":function(){sap.ui.define(["sap/ui/core/UIComponent","sap/ui/Device","./model/models","./controller/ErrorHandler"],function(t,e,s,i){"use strict";return t.extend("ey.sap.fin.cs.managetiers.Component",{metadata:{ma+
nifest:"json"},init:function(){t.prototype.init.apply(this,arguments);this.setModel(s.createDeviceModel(),"device");this.setModel(s.createFLPModel(),"FLP");this.getRouter().initialize()},destroy:function(){t.prototype.destroy.apply(this,arguments)},getCo+
ntentDensityClass:function(){if(this._sContentDensityClass===undefined){if(document.body.classList.contains("sapUiSizeCozy")||document.body.classList.contains("sapUiSizeCompact")){this._sContentDensityClass=""}else if(!e.support.touch){this._sContentDens+
ityClass="sapUiSizeCompact"}else{this._sContentDensityClass="sapUiSizeCozy"}}return this._sContentDensityClass}})});                                                                                                                                           
},                                                                                                                                                                                                                                                             
	"ey/sap/fin/cs/managetiers/controller/App.controller.js":function(){sap.ui.define(["./BaseController","sap/ui/model/json/JSONModel"],function(e,t){"use strict";return e.extend("ey.sap.fin.cs.managetiers.controller.App",{onInit:function(){var e,n,s=this.+
getView().getBusyIndicatorDelay();e=new t({busy:true,delay:0});this.setModel(e,"appView");n=function(){e.setProperty("/busy",false);e.setProperty("/delay",s)};this.getOwnerComponent().getModel().metadataLoaded().then(n);this.getOwnerComponent().getModel(+
).attachMetadataFailed(n);this.getView().addStyleClass(this.getOwnerComponent().getContentDensityClass())}})});                                                                                                                                                
},                                                                                                                                                                                                                                                             
	"ey/sap/fin/cs/managetiers/controller/BaseController.js":function(){sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/UIComponent","sap/m/library","sap/m/MessageToast"],function(e,t,n,r){"use strict";var i=n.URLHelper;var o=null;return e.extend("+
ey.sap.fin.cs.managetiers.controller.BaseController",{getRouter:function(){return t.getRouterFor(this)},getModel:function(e){return this.getView().getModel(e)},setModel:function(e,t){return this.getView().setModel(e,t)},getResourceBundle:function(){retur+
n this.getOwnerComponent().getModel("i18n").getResourceBundle()},setFilterBar:function(e){o=e},getFilterBar:function(){return o},getBusyDialog:function(){var e=this.getView().getParent();var t=this.getOwnerComponent();if(!t._oBusyDialog){t._oBusyDialog=s+
ap.ui.xmlfragment("manageTierBusyDialog","ey.sap.fin.cs.managetiers.fragment.BusyDialog",this);e.addDependent(t._oBusyDialog)}return t._oBusyDialog},performCrossAppNavigation:function(e,t,n,i){var o=sap.ushell.Container.getService("CrossApplicationNaviga+
tion");var a=this;var s=e+"-"+t;i=i||{};o.isIntentSupported([s]).done(function(e){}).fail(function(e){r.show(a.getResourceBundle().getText("invalidIntentNavigation"))});var u=o&&o.hrefForExternal({target:{semanticObject:e,action:t},params:i})||"";var l=w+
indow.location.href.split("#")[0]+u;sap.m.URLHelper.redirect(l,n)},onShareEmailPress:function(){var e=this.getModel("objectView")||this.getModel("worklistView");i.triggerEmail(null,e.getProperty("/shareSendEmailSubject"),e.getProperty("/shareSendEmailMes+
sage"))},addHistoryEntry:function(){var e=[];return function(t,n){if(n){e=[]}var r=e.some(function(e){return e.intent===t.intent});if(!r){e.push(t);this.getOwnerComponent().getService("ShellUIService").then(function(t){t.setHierarchy(e)})}}}()})});       
},                                                                                                                                                                                                                                                             
	"ey/sap/fin/cs/managetiers/controller/ErrorHandler.js":function(){sap.ui.define(["sap/ui/base/Object","sap/m/MessageBox"],function(e,s){"use strict";return e.extend("ey.sap.fin.cs.profitrecon.controller.ErrorHandler",{constructor:function(e){this._oReso+
urceBundle=e.getModel("i18n").getResourceBundle();this._oComponent=e;this._oModel=e.getModel();this._bMessageOpen=false;this._sErrorText=this._oResourceBundle.getText("errorText");this._oModel.attachMetadataFailed(function(e){var s=e.getParameters();this+
._showServiceError(s.response)},this);this._oModel.attachRequestFailed(function(e){var s=e.getParameters();if(s.response.statusCode!=="404"||s.response.statusCode===404&&s.response.responseText.indexOf("Cannot POST")===0){this._showServiceError(s.respons+
e)}},this)},_showServiceError:function(e){if(this._bMessageOpen){return}this._bMessageOpen=true;s.error(this._sErrorText,{id:"serviceErrorMessageBox",details:e,styleClass:this._oComponent.getContentDensityClass(),actions:[s.Action.CLOSE],onClose:function+
(){this._bMessageOpen=false}.bind(this)})}})});                                                                                                                                                                                                                
},                                                                                                                                                                                                                                                             
	"ey/sap/fin/cs/managetiers/controller/Tiers.controller.js":function(){sap.ui.define(["./BaseController","sap/ui/model/json/JSONModel","sap/m/MessageToast","sap/m/MessageBox","sap/ui/model/Filter","sap/ui/model/FilterOperator","../model/formatter","sap/u+
i/core/routing/History","sap/ui/generic/app/navigation/service/NavigationHandler"],function(e,t,n,i,r,a,s,o,l){"use strict";let d=sap.ui.getCore();const g="Original",u="Create",c="Update";return e.extend("ey.sap.fin.cs.managetiers.controller.Tiers",{form+
atter:s,onInit:function(){let e=this.getView(),n=new t({edit:false}),i=new t,r=new t;let a=e.byId("idTiersTable"),s=new t;a.setModel(s,"tiersTableModel");this.oNavigationHandler=new l(this);e.byId("idHeadText").setText(this.getResourceBundle().getText("t+
iersTableTitle",[0]));e.setModel(n,"editTierModel");e.setModel(i,"deleteModel");e.setModel(r,"message");if(!this.oMessagePopover){this.oMessagePopover=sap.ui.xmlfragment("ey.sap.fin.cs.managetiers.fragment.MessagePopover",this);this.oView.addDependent(th+
is.oMessagePopover)}this.bAllEntriesValidated=true;this.oRouter=this.getOwnerComponent().getRouter();this.oRouter.getRoute("TargetTiers").attachMatched(this._onRouteMatched,this)},_onRouteMatched:function(e){let t=this,n=this.getView();this._getAuthData(+
);this.getOwnerComponent().getService("ShellUIService").then(function(e){e.setBackNavigation(t._onPressShellNavBack.bind(t))});var r=this.oNavigationHandler.parseNavigation();r.done(function(e,i,r){if(r!==sap.ui.generic.app.navigation.service.NavType.ini+
tial){if(i.Country&&i.Country[0]&&i.ConsolidationUnit&&i.ConsolidationUnit[0]){n.byId("idFilterCountryCode").setSelectedKey(i.ConsolidationUnit)}if(i.FiscalYear&&i.FiscalYear[0]){n.byId("idFilterFiscalYear").setValue(i.FiscalYear)}if(i.Intention&&i.Inten+
tion[0]){let e=[i.ConsolidationUnit,i.FiscalYear,i.Country,i.Intention];t._fetchIntentionStatus(e)}else{let e=[i.ConsolidationUnit,i.FiscalYear,i.Country];t._fetchIntentionStatus(e)}}});r.fail(jQuery.proxy(function(e,n,r){i.error(t.getI18nText("navigatio+
nError"))},this))},_getAuthData:function(){let e=this,n=this.getOwnerComponent().getModel();this.getBusyDialog().open();n.read("/AUTHSet",{method:"GET",success:function(n){e.getBusyDialog().close();e.getView().setModel(new t(n.results[0]),"authModel");co+
nsole.log(n)},error:function(t){e.getBusyDialog().close();i.error(e.getI18nText("errorFetchingAuthData"))}})},_fetchIntentionStatus:function(e){let n=this.getModel();let s=e[0],o=e[1],l="/xEY1xSAV_C_IntentionsStatus(p_bunit='"+s+"')/Set",d=new r("Gjahr",+
a.EQ,o),g=this,u=g.getView(),c=u.byId("idIntentionComboBox"),h=u.byId("idTiersTable");this.getBusyDialog().open();n.read(l,{method:"GET",sorters:[new sap.ui.model.Sorter("SerialNumber")],filters:[d],success:function(n,i){g.getBusyDialog().close();n.resul+
ts.splice(n.results.map(e=>e.Intention).indexOf("PER"),1);let r=new t(n);g.getView().setModel(r,"intentionVHModel");if(e[3]){c.setSelectedKey(e[3]);let t=c.getSelectedItem(),n=t.getBindingContext("intentionVHModel").getObject();g._manageIntentionStatus(n+
);g._fetchTiersData(e[2])}else{c.setSelectedKey("");h.getModel("tiersTableModel").setData([]);g._disableButton(false)}},error:function(e){g.getBusyDialog().close();i.error(g.getI18nText("errorFetchingIntentions"))}})},_manageIntentionStatus:function(e){i+
f(e.status==="Open"){this._disableButton(true)}else{this._disableButton(false)}},_disableButton:function(e){let t=this.getView();t.byId("idEditToggleBtn").setEnabled(e);t.byId("rollOverBtnId").setEnabled(e)},_onPressShellNavBack:function(){let e=false,t=+
this.getView().byId("idTiersTable").getModel("tiersTableModel");if(t){let r=t.getData().results,a=jQuery.extend(true,[],this._getOriginalTiersData().getData());if(r.length===a.length){for(var n=0;n<r.length;n++){for(var i=0;i<a.length;i++){if(r[n].Countr+
yKey===a[i].CountryKey&&r[n].FiscalYear===a[i].FiscalYear&&r[n].Intention===a[i].Intention&&parseInt(r[n].Sequence,[10])===parseInt(a[i].Sequence,[10])&&(r[n].TierAmount!==a[i].TierAmount||r[n].TaxRate!==a[i].TaxRate)){e=true}}}}else if(r.length<a.length+
){e=true}else if(r.length>a.length){e=true}else{e=false}if(e){this._unsavedChangesWarning()}else{window.history.go(-1)}}else{window.history.go(-1)}},_unsavedChangesWarning:function(){let e=this.getResourceBundle().getText("btnTextLeavePage");i.warning(th+
is.getResourceBundle().getText("errorMsgLeaveManageTiersScreen"),{actions:[e,i.Action.CANCEL],emphasizedAction:e,onClose:function(t){if(t===e){window.history.go(-1)}}})},_getMaxTier:function(e){let t=1;if(e.results.length>0){t=Math.max(...e.results.map(e+
=>parseInt(e.Sequence,[10])))+1}return String(t)},_fetchTiersData:function(e){let t=this.getView(),n=this.getOwnerComponent().getModel(),s=t.byId("idTiersTable"),o=t.byId("idFilterFiscalYear").getValue(),l=t.byId("idFilterCountryCode").getSelectedItem()?+
t.byId("idFilterCountryCode").getSelectedItem().getBindingContext().getObject().Country:e,d=t.byId("idIntentionComboBox").getSelectedKey(),u=this,c=new r({filters:[new r("CountryKey",a.EQ,l),new r("FiscalYear",a.EQ,o),new r("Intention",a.EQ,d)],and:true}+
);this.getBusyDialog().open();n.read("/xEY1xSAV_C_TIERS",{filters:[c],sorters:[new sap.ui.model.Sorter("Sequence")],method:"GET",success:function(e){u.getBusyDialog().close();e.results.map(e=>{e.editFlag=g});s.getModel("tiersTableModel").setData(e);s.get+
Model("tiersTableModel").setDefaultBindingMode("TwoWay");u.getView().byId("idHeadText").setText(u.getResourceBundle().getText("tiersTableTitle",[s.getBinding("items").getLength()]));u._setOriginalTiersData(e)},error:function(e){u.getBusyDialog().close();+
i.error(u.getI18nText("TierGetServiceCallError"))}})},_closeMessagePopovers:function(){if(this.oMessagePopover){this.oMessagePopover.close()}},_setOriginalTiersData:function(e){let n=jQuery.extend(true,[],e.results);n.map(e=>delete e.__metadata);this.get+
View().setModel(new t(n),"modelOriginalTiersData")},_getOriginalTiersData:function(){return this.getView().getModel("modelOriginalTiersData")},_setUpdatedEntries:function(e,t){let n=e.getSource(),i=n.getValue(),r=n.getParent().getBindingContextPath(),a=n+
.getModel("tiersTableModel"),s=new RegExp(/[^0-9.-]/gi),o=new RegExp(/.*\..*\..*/),l,d,g,u=this.getView().byId("idFilterCountryCode").getSelectedItem().getBindingContext().getObject().Currency;if(t==="TierAmount"){g=u}else{g="%"}l=i.toUpperCase().indexOf+
(g);if(l>=0){let e=i.replace(/\s/g,"");d=e.substr(0,e.length-g.length)}else{d=i}if(s.exec(d)!==null){n.setValue("");this._validateInvalidEntry(e,t);return}if(o.exec(d)!==null){n.setValue("");this._validateInvalidEntry(e,t);return}let h=n.getParent().getB+
indingContext("tiersTableModel").getObject();a.setProperty(r+"/"+t,i.toUpperCase());if(h.editFlag===c){a.setProperty(r+"/editFlag",c)}this._validateInvalidEntry(e,t)},_setUpdatedFragmentAmount:function(e,t){let n=e.getSource(),i=n.getValue(),r=new RegExp+
(/[^0-9.-]/gi),a=new RegExp(/.*\..*\..*/),s,o,l,d,g=this.getView().byId("idFilterCountryCode").getSelectedItem().getBindingContext().getObject().Currency;if(t==="TierAmount"){l=g}else{l="%"}s=i.toUpperCase().indexOf(l);if(s>=0){let e=i.replace(/\s/g,"");+
o=e.substr(0,e.length-l.length)}else{o=i}if(r.exec(o)!==null){n.setValue("");this._validateInvalidEntry(e,t);return}if(a.exec(o)!==null){n.setValue("");this._validateInvalidEntry(e,t);return}if(t==="TaxRate"){d=this.formatter.appendPercentageSign(i)}else+
{d=this.formatter.formatTierAmountDisplayAndEdit(i,true,l)}n.setValue(d);this._validateInvalidEntry(e,t)},_validateInvalidEntry:function(e,t){let n=e.getSource(),i=n.getValue();if(t==="TaxRate"&&(!i||parseFloat(i,[10])<0||parseFloat(i,[10])>100)){n.setVa+
lueState("Error");this.bAllEntriesValidated=false;return}n.setValueState("None");this.bAllEntriesValidated=true;if(!i||parseFloat(i,[10])===0){n.setValueState("Error");this.bAllEntriesValidated=false}},_setScreenToDisplayMode:function(){let e=this.getVie+
w();e.getModel("deleteModel").setData([]);e.getModel("editTierModel").setProperty("/edit",false);e.byId("idEditToggleBtn").setVisible(true);e.byId("rollOverBtnId").setEnabled(true);this._fetchTiersData()},_clearMessagesPopover:function(){let e=this.getVi+
ew().getModel("message");e.setData([]);e.refresh();d.getMessageManager().removeAllMessages()},getI18nText:function(e){return this.getResourceBundle().getText(e)},_serviceCallDeleteTiers:function(e){let t=this.getOwnerComponent().getModel(),i=this;for(var+
 r=0;r<e.length;r++){let n="/xEY1xSAV_C_TIERS(CountryKey='"+e[r].CountryKey+"',FiscalYear='"+e[r].FiscalYear+"',Intention='"+e[r].Intention+"',Sequence='"+e[r].Sequence+"')";t.remove(n,{groupId:"groupIdRollOver"})}return new Promise(function(e,r){t.submi+
tChanges({groupId:"groupIdRollOver",success:function(t,a){let s;if(!t.__batchResponses){i._setScreenToDisplayMode();r(t);return}s=t.__batchResponses[0].__changeResponses;if(!s||s.length<=0){i._setScreenToDisplayMode();r(t);return}let o=JSON.parse(s.find(+
e=>e.headers["sap-message"]).headers["sap-message"]);if(o&&o.severity.toUpperCase()==="SUCCESS"){e(t)}else if(o&&o.message){n.show(i.getI18nText("genericMsgBatchRollOverError"));r(t)}},error:function(e){i._setScreenToDisplayMode();r(oData)}})})},_sServic+
eCreateTiers:function(e){let t=this.getOwnerComponent().getModel(),i=this.getView().byId("idTiersTable").getModel("tiersTableModel").getData().results,r=this,a=[];if(i.length>0){e.map(e=>{i.map(t=>{t.TierAmount=parseFloat(t.TierAmount,[10]).toFixed(2);de+
lete t.__metadata;delete t.editFlag;delete t.Tier;t.TaxRate=parseFloat(t.TaxRate).toFixed(2);var n=Object.assign({},t,{Intention:e.Intention});a.push(n)})});for(var s=0;s<a.length;s++){t.create("/xEY1xSAV_C_TIERS",a[s],{groupId:"groupIdRollOver"})}t.subm+
itChanges({groupId:"groupIdRollOver",success:function(e,t){let i;if(!e.__batchResponses){r._setScreenToDisplayMode();return}i=e.__batchResponses[0].__changeResponses;if(!i||i.length<=0){r._setScreenToDisplayMode();return}let a=JSON.parse(i.find(e=>e.head+
ers["sap-message"]).headers["sap-message"]);if(a&&a.severity.toUpperCase()==="SUCCESS"){n.show(r.getI18nText("genericMsgBatchRollOverSuccess"));r._setScreenToDisplayMode()}else if(a&&a.message){n.show(r.getI18nText("genericMsgBatchError"))}},error:functi+
on(e){r._setScreenToDisplayMode()}})}else{n.show(r.getI18nText("genericMsgBatchRollOverSuccess"))}},onChangeDatePickerFilter:function(e){let t=this.getView(),n=e.getSource(),i=t.byId("idFilterCountryCode").getSelectedKey(),r=t.getModel("authModel").getPr+
operty("/changeAllowed");if(e.getParameter("valid")){n.setValueState("None");let e=n.getDateValue().getFullYear(),a=[i,e];this._fetchIntentionStatus(a);t.getModel("deleteModel").setData([]);t.getModel("editTierModel").setProperty("/edit",false);if(r){t.b+
yId("idEditToggleBtn").setVisible(true)}}else{n.setValueState("Error")}},onPressAddNewTier:function(e){let t=this.getView();if(!this._oTierCreateFragment){this._oTierCreateFragment=sap.ui.xmlfragment("tierCreate","ey.sap.fin.cs.managetiers.fragment.TierC+
reate",this);t.addDependent(this._oTierCreateFragment)}this._oTierCreateFragment.open();let n=t.byId("idTiersTable").getModel("tiersTableModel").getData(),i=this._getMaxTier(n);d.byId("tierCreate--IdTier").setText("Tier "+i);let r=d.byId("tierCreate--IdT+
ierAmnt"),a=d.byId("tierCreate--IdTaxRate");r.setValue("");a.setValue("");r.setValueState("None");a.setValueState("None")},onPressDeleteTier:function(){let e=this.getView(),i=e.byId("idTiersTable"),r=i.getSelectedItems();if(!r.length){return}let a=e.getM+
odel("deleteModel"),s=i.getModel("tiersTableModel"),o=[],l=i.getModel("tiersTableModel").getData(),d=new t;if(i.getSelectedItems().length===i.getItems().length){let e=[];l.results.map(t=>{if(t.editFlag!==u){e.push(t)}});d.setData([]);d.setData(e);s.setDa+
ta({results:[]})}else{d.setData({});o=r.map(e=>i.indexOfItem(e));o.sort(function(e,t){return t-e});for(var g=0;g<o.length;g++){let e=parseInt(this._getMaxTier(l),[10])-1;if(e>parseInt(l.results[o[g]].Sequence,[10])){n.show(this.getI18nText("deletTierErro+
r"));break}else{let e=l.results.splice(o[g],1),t=d.getData();if(e[0].editFlag!==u){delete e[0].editFlag;if(Object.keys(t).length===0&&t.constructor===Object){t=e}else{t.push(e[0])}}d.setData(t);s.setData(l);s.refresh()}}}let c=a.getData();if(Object.keys(+
c).length===0&&c.constructor===Object){c=d.getData()}else{for(var h=0;h<d.getData().length;h++){c.push(d.getData()[h])}}a.setData(c);s.refresh()},onPressCloseDialog:function(){this._oTierCreateFragment.close()},onPressEditToggleBtn:function(e){let t=this+
.getView();t.getModel("editTierModel").setProperty("/edit",true);t.byId("idEditToggleBtn").setVisible(false);t.byId("rollOverBtnId").setEnabled(false);this._clearMessagesPopover()},onPressSaveBtnAddTier:function(){let e=d.byId("tierCreate--IdTierAmnt"),t+
=e.getValue(),n=d.byId("tierCreate--IdTaxRate"),i=n.getValue();if(!t){e.setValueState("Error")}else if(!i){n.setValueState("Error")}if(e.getValueState()==="Error"||n.getValueState()==="Error"){return}let r=this.getView(),a=r.byId("idTiersTable").getModel+
("tiersTableModel"),s=d.byId("tierCreate--IdTier").getText(),o=r.byId("idFilterFiscalYear").getValue(),l=r.byId("idFilterCountryCode").getSelectedItem().getBindingContext().getObject().Country,h=r.byId("idFilterCountryCode").getSelectedItem().getBindingC+
ontext().getObject().Currency,T=r.byId("idIntentionComboBox").getSelectedKey(),f=a.getData(),I=this._getMaxTier(f),p=r.getModel("deleteModel").getData(),y={CountryKey:l,FiscalYear:o,Sequence:I,Tier:s,TierAmount:t,TaxRate:i,editFlag:u,LocalCurrency:h,Inte+
ntion:T};for(var S=0;S<p.length;S++){if(p[S].CountryKey===y.CountryKey&&p[S].FiscalYear===y.FiscalYear&&p[S].Intention===y.Intention&&parseInt(p[S].Sequence,[10])===parseInt(y.Sequence,[10])&&parseFloat(p[S].TierAmount).toFixed(2)===parseFloat(y.TierAmou+
nt).toFixed(2)||parseFloat(p[S].TaxRate).toFixed(2)===parseFloat(y.TaxRate).toFixed(2)){p.splice(S,1);y.editFlag=g}else if(p[S].CountryKey===y.CountryKey&&p[S].FiscalYear===y.FiscalYear&&p[S].Intention===y.Intention&&parseInt(p[S].Sequence,[10])===parseI+
nt(y.Sequence,[10])){p.splice(S,1);y.editFlag=c}}f.results.push(y);a.setData(f);a.refresh();this._oTierCreateFragment.close()},onSearchButtonPressed:function(){this._fetchTiersData()},onChangeTierTaxRate:function(e){this._setUpdatedEntries(e,"TaxRate")},+
onChangeTierAmount:function(e){this._setUpdatedEntries(e,"TierAmount")},onPressSaveTier:function(){if(!this.bAllEntriesValidated){i.error(this.getI18nText("errorMsgInvalidTableData"));return}let e=this.getOwnerComponent(),t=e.getModel(),r=this,a=this.get+
View().byId("idTiersTable").getModel("tiersTableModel").getData().results,s=jQuery.extend(true,[],this._getOriginalTiersData().getData());this._clearMessagesPopover();s.map(e=>{e.TierAmount=parseFloat(e.TierAmount,[10]).toFixed(2);delete e.__metadata;del+
ete e.editFlag;delete e.Tier;e.TaxRate=parseFloat(e.TaxRate).toFixed(2);return e});a.map(e=>{e.TierAmount=parseFloat(e.TierAmount,[10]).toFixed(2);delete e.__metadata;delete e.editFlag;delete e.Tier;e.TaxRate=parseFloat(e.TaxRate).toFixed(2);return e});t+
.setUseBatch(true);t.setChangeGroups({"/SAV_MANAGE_TIER_SRV":{groupId:"groupIdSaveTier",changeSetId:"ID",single:false}});t.setDeferredGroups(t.getDeferredGroups().concat(["groupIdSaveTier"]));if(a.length>s.length){let e=a.filter(e=>s.filter(t=>parseInt(t+
.Sequence,[10])===parseInt(e.Sequence,[10])&&t.CountryKey===e.CountryKey&&t.FiscalYear===e.FiscalYear&&t.Intention===e.Intention&&(t.TaxRate!==e.TaxRate||t.TierAmount!==e.TierAmount)).length>0);if(e.length>0){for(var o=0;o<e.length;o++){let n="/xEY1xSAV_+
C_TIERS(CountryKey='"+e[o].CountryKey+"',FiscalYear='"+e[o].FiscalYear+"',Intention='"+e[o].Intention+"',Sequence='"+e[o].Sequence+"')";t.update(n,e[o],{groupId:"groupIdSaveTier"})}}let n=a.filter(e=>s.filter(t=>t.CountryKey===e.CountryKey&&t.FiscalYear=+
==e.FiscalYear&&t.Intention===e.Intention&&parseInt(t.Sequence,[10])===parseInt(e.Sequence,[10])).length===0);if(n.length>0){for(var l=0;l<n.length;l++){t.create("/xEY1xSAV_C_TIERS",n[l],{groupId:"groupIdSaveTier"})}}}else if(a.length===s.length){for(var+
 o=0;o<a.length;o++){for(var d=0;d<s.length;d++){if(a[o].CountryKey===s[d].CountryKey&&a[o].FiscalYear===s[d].FiscalYear&&a[o].Intention===s[d].Intention&&parseInt(a[o].Sequence,[10])===parseInt(s[d].Sequence,[10])&&(a[o].TierAmount!==s[d].TierAmount||a[+
o].TaxRate!==s[d].TaxRate)){t.update("/xEY1xSAV_C_TIERS(CountryKey='"+a[o].CountryKey+"',FiscalYear='"+a[o].FiscalYear+"',Intention='"+a[o].Intention+"',Sequence='"+a[o].Sequence+"')",a[o],{groupId:"groupIdSaveTier"})}}}}else if(a.length<s.length){let e=+
a.filter(e=>s.filter(t=>parseInt(t.Sequence,[10])===parseInt(e.Sequence,[10])&&t.CountryKey===e.CountryKey&&t.FiscalYear===e.FiscalYear&&t.Intention===e.Intention&&(t.TaxRate!==e.TaxRate||t.TierAmount!==e.TierAmount)).length>0);if(e.length>0){for(var o=0+
;o<e.length;o++){let n="/xEY1xSAV_C_TIERS(CountryKey='"+e[o].CountryKey+"',FiscalYear='"+e[o].FiscalYear+"',Intention='"+e[o].Intention+"',Sequence='"+e[o].Sequence+"')";t.update(n,e[o],{groupId:"groupIdSaveTier"})}}let n=s.filter(e=>a.filter(t=>parseInt+
(t.Sequence,[10])===parseInt(e.Sequence,[10])&&t.CountryKey===e.CountryKey&&t.FiscalYear===e.FiscalYear&&t.Intention===e.Intention).length===0);if(n.length>0){for(var o=0;o<n.length;o++){let e="/xEY1xSAV_C_TIERS(CountryKey='"+n[o].CountryKey+"',FiscalYea+
r='"+n[o].FiscalYear+"',Intention='"+n[o].Intention+"',Sequence='"+n[o].Sequence+"')";t.remove(e,{groupId:"groupIdSaveTier"})}}}else{let e=this.getView();e.getModel("deleteModel").setData([]);e.getModel("editTierModel").setProperty("/edit",false);e.byId(+
"idEditToggleBtn").setVisible(true);e.byId("rollOverBtnId").setEnabled(true);return}t.submitChanges({groupId:"groupIdSaveTier",success:function(e,t){let i;if(!e.__batchResponses){r._setScreenToDisplayMode();return}i=e.__batchResponses[0].__changeResponse+
s;if(!i||i.length<=0){r._setScreenToDisplayMode();return}let a=JSON.parse(i.find(e=>e.headers["sap-message"]).headers["sap-message"]);if(a&&a.severity.toUpperCase()==="SUCCESS"){n.show(r.getI18nText("genericMsgBatchSuccess"));r._setScreenToDisplayMode()}+
else if(a&&a.message){n.show(r.getI18nText("genericMsgBatchError"))}},error:function(e){r._setScreenToDisplayMode()}})},onPressCancelTier:function(){let e=this.getView(),t=e.byId("idTiersTable");e.getModel("deleteModel").setData([]);e.getModel("editTierM+
odel").setProperty("/edit",false);e.byId("idEditToggleBtn").setVisible(true);e.byId("rollOverBtnId").setEnabled(true);t.getModel("tiersTableModel").setData({results:jQuery.extend(true,[],this._getOriginalTiersData().getData())});t.removeSelections();this+
._closeMessagePopovers();this._clearMessagesPopover()},onPressHandleMessagePopover:function(e){},onChangeTierAmountFragment:function(e){this._setUpdatedFragmentAmount(e,"TierAmount")},onChangeTaxRateFragment:function(e){this._setUpdatedFragmentAmount(e,"+
TaxRate")},onChangeIntention:function(){let e=this.getView(),t=e.byId("idSmartFilterBar"),n=t.validateMandatoryFields(),i=e.getModel("authModel").getProperty("/changeAllowed");if(n){let n=e.byId("idIntentionComboBox").getSelectedItem(),r=n.getBindingCont+
ext("intentionVHModel").getObject();this._manageIntentionStatus(r);e.getModel("deleteModel").setData([]);e.getModel("editTierModel").setProperty("/edit",false);if(i){e.byId("idEditToggleBtn").setVisible(true)}t.fireSearch()}},onChangeCountry:function(e){+
let t=this.getView(),n=e.getSource(),i=this.getView().byId("idFilterCountryCode").getSelectedKey(),r=t.getModel("authModel").getProperty("/changeAllowed"),a=t.byId("idFilterFiscalYear");n.setValueState("None");if(a.getValue()){let e=a.getDateValue().getF+
ullYear(),n=[i,e];t.getModel("deleteModel").setData([]);t.getModel("editTierModel").setProperty("/edit",false);if(r){t.byId("idEditToggleBtn").setVisible(true)}if(e){this._fetchIntentionStatus(n)}}},onPressRollOver:function(e){let t=this.getView(),n=t.by+
Id("idIntentionComboBox").getSelectedKey(),s=t.getModel("intentionVHModel").getData().results,o=s.findIndex(e=>e.Intention===n),l=s.slice(o+1),d=this.getOwnerComponent().getModel(),g=t.byId("idFilterFiscalYear").getValue(),u=t.byId("idFilterCountryCode")+
.getSelectedItem().getBindingContext().getObject().Country,c=this,h=[],T,f=new r({filters:[new r("CountryKey",a.EQ,u),new r("FiscalYear",a.EQ,g)],and:true});d.setUseBatch(true);d.setChangeGroups({"/SAV_MANAGE_TIER_SRV":{groupId:"groupIdRollOver",changeSe+
tId:"ID",single:false}});d.setDeferredGroups(d.getDeferredGroups().concat(["groupIdRollOver"]));if(l.length>0){d.read("/xEY1xSAV_C_TIERS",{filters:[f],sorters:[new sap.ui.model.Sorter("Sequence")],method:"GET",success:function(e){l.map(t=>{e.results.map(+
e=>{if(e.Intention===t.Intention){h.push(e)}})});if(h.length>0){T=c._serviceCallDeleteTiers(h,l);T.then(function(e){c._sServiceCreateTiers(l)},function(e){i.error(c.getI18nText("genericMsgBatchRollOverError"))})}else{c._sServiceCreateTiers(l)}},error:fun+
ction(e){i.error(c.getI18nText("TierGetServiceCallError"))}})}else{i.error(c.getI18nText("errorMsgInvalidIntention"))}}})});                                                                                                                                   
},                                                                                                                                                                                                                                                             
	"ey/sap/fin/cs/managetiers/fragment/BusyDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><BusyDialog id="tierBusyDialog"/></core:FragmentDefinition>',                                                                   
	"ey/sap/fin/cs/managetiers/fragment/MessagePopover.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><MessagePopover items="{message>/}" initiallyExpanded="true"><MessageItem type="{message>type}" title="{message>message}" s+
ubtitle="{message>additionalText}" description="{message>description}"/></MessagePopover></core:FragmentDefinition>',                                                                                                                                          
	"ey/sap/fin/cs/managetiers/fragment/TierCreate.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:layout="sap.ui.layout"><Dialog id="idDialog" showHeader="false" contentWidth="496px" contentHeight="160px"><customHeader>+
<Bar><contentLeft><Title text="Add New Tier"/></contentLeft><contentRight><Button icon="sap-icon://decline" press="onPressCloseDialog"/></contentRight></Bar></customHeader><content><layout:VerticalLayout><layout:VerticalLayout class="sapUiMediumMarginBeg+
inEnd sapUiSmallMarginTopBottom"><Label text="{i18n>labelDescriptn}"/><Label id="IdTier" design="Bold" class="sapUiTinyMargin"/></layout:VerticalLayout><layout:HorizontalLayout><layout:VerticalLayout class="sapUiMediumMarginBeginEnd"><Label text="{i18n>c+
olumnHeaderTierAmnt}" textAlign="Right"/><Input id="IdTierAmnt" width="85%" textAlign="Right" valueStateText="{i18n>errorMsgInvalidTierAmount}" change="onChangeTierAmountFragment"/></layout:VerticalLayout><layout:VerticalLayout class="sapUiMediumMarginBe+
ginEnd"><Label text="{i18n>labelTaxRate}" textAlign="Right"/><Input id="IdTaxRate" width="44%" textAlign="Right" valueStateText="{i18n>errorMsgInvalidTaxRate}" change="onChangeTaxRateFragment"/></layout:VerticalLayout></layout:HorizontalLayout></layout:V+
erticalLayout></content><beginButton><Button id="idOkBtn" text="{i18n>AddTierBtnText}" type="Emphasized" press="onPressSaveBtnAddTier"/></beginButton><endButton><Button id="idAppSettingsCTAOkBtn" text="{i18n>cancelTierBtnText}" press="onPressCloseDialog"+
/></endButton></Dialog></core:FragmentDefinition>',                                                                                                                                                                                                            
	"ey/sap/fin/cs/managetiers/i18n/i18n.properties":'# This is the resource bundle for Manage Tiers\ntitle=Title\n#XTIT: Application name\nappTitle=Manage Tiers\n\n#YDES: Application description\nappDescription=App Description\n\n\n#~~~~~~~~~~~~~~~~~~~~~~~+
~~~~~~~~~~~~~~~~~~~~~~~~~ Tier View ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n#XTIT: Title of TIER view\ntierDisplayPageTitle=Manage Tiers\n\n#XTXT: add new Tier Button text\naddTierBtnText=Add\n\n#XTXT: Button Text - Leave Page\nbtnTextLeav+
ePage=Leave Page\n\n#XTXT: Delete Tier Button text\ndeleteTierBtnText=Delete\n\n#XTXT:Save Tier Button text\nsaveTierBtnText=Save\n\n#XTXT: Cancel Tier Button text\ncancelTierBtnText=Cancel\n\n#XTXT: Add Tier Button text\nAddTierBtnText=Add\n\n#XTXT: Edi+
t Tier Button text\nEditTierBtnText=Edit\n\n#XTXT: Label Country filter\nlabelCountry=Country\n\n#XTXT: Yes To Open Text\nYetToOpen= Yet To Open\n\n#XTXT: Label Fiscal year filter\nlabelFisclYr=Fiscal Year\n\n#XTXT: Label Intention filter\nlabelIntention+
=Intention\n\n#XMSG: Error message - Error Mesage - Fetching Intentions Data\nerrorFetchingIntentions=Error in Fetching Intentions Data\n\n#XMSG: Error message for xEY1xSAV_C_TIERS  service to fetch Tiers data.\nTierGetServiceCallError=Error in getting T+
iers Data.\n\n#XMSG: Error message if navigation fails.\nnavigationError=Inbound Navigation Error\n\n#XMSG: Error message for deleting values less than maximum.\ndeletTierError=Please delete the tiers sequentially from highest to lowest.\n\n\n\n#XTOL: To+
oltip for the edit toggle Button\neditToggleBtnTooltip=Edit Tier Amount/Tax Rate\n\n#XTOL: Tooltip to save Tier button\nsaveTierBtnTooltip=Save Changes\n\n#XTOL: Tooltip for cancel tier button\ncancelTierBtnTooltip=Discard changes\n\n#XTOL: Tooltip for a+
dd tier button\naddTierBtnTooltip=Add a new Tier\n\n#XTOL: Tooltip for roll over button\nrollOverBtnTooltip=Roll-Over\n\n#XTOL: Tooltip for delete tier button\ndeleteTierBtnTooltip=Delete Tier\n\n#XTXT: Label Tier Description in fragment\nlabelDescriptn=+
Description\n\n#XTXT : Tax Rate Description in fragment Tax Rate\nlabelTaxRate=Tax Rate (%)\n\n#XFLD : Column Header for Tier Description\ncolumnHeaderTierDescriptn=Tier Description\n\n#XFLD : Column Header for Tier Currency\ncolumnHeaderCurrency=Currenc+
y\n\n#XFLD : Column Header for Tier Amount\ncolumnHeaderTierAmnt=Tier Amount in LC\n\n#XFLD : Column Header for Tax Rate\ncolumnHeaderTaxRate=Tax Rate\n\n#XFLD : Column cell vale for Tier description\ncolumnCellTierDesc=Tier\n\n#XTIT: Table view title\nt+
iersTableTitle=Tiers ({0})\n\n#XMSG: Success message for Batch Call.\ngenericMsgBatchSuccess=Tiers saved successfully.\n\n#XMSG: Success message for roll over Batch Call.\ngenericMsgBatchRollOverSuccess=Tiers rolled over successfully.\n\n#XMSG: Error mes+
sage for roll over Batch Call.\ngenericMsgBatchRollOverError=Error updating Tiers. For detail, please check logs.\n\n#XMSG: Error message for Batch Call.\ngenericMsgBatchError=Error in Saving Tiers. For detail, please check logs.\n\n#XMSG: Error Msg - Le+
ave Manage Tier screen\nerrorMsgLeaveManageTiersScreen=Your entries will be lost when you leave this page.\n\n#XMSG: Input field - Tier Amount - valueStateText\nerrorMsgInvalidTierAmount=Enter Valid Tier Amount\n\n#XMSG: Input field - Tax Rate - valueSta+
teText\nerrorMsgInvalidTaxRate=Enter Valid Tax Rate\n\n#XMSG: Invalid Table data\nerrorMsgInvalidTableData=You have entered inconsistent or invalid data in one or more fields. Fix the errors to continue.\n\n#XMSG: No intention exist\nerrorMsgInvalidInten+
tion=No Successive Intention exists.',                                                                                                                                                                                                                         
	"ey/sap/fin/cs/managetiers/localService/metadata.xml":'<?xml version="1.0" encoding="utf-8"?><edmx:Edmx Version="1.0" xmlns:edmx="http://schemas.microsoft.com/ado/2007/06/edmx"\n\txmlns:m="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata" +
xmlns:sap="http://www.sap.com/Protocols/SAPData"><edmx:Reference\n\t\tUri="https://webidecp-prnb2y81mz.dispatcher.eu2.hana.ondemand.com/destinations/CS4/sap/opu/odata/IWFND/CATALOGSERVICE;v=2/Vocabularies(TechnicalName=\'%2FIWBEP%2FVOC_COMMON\',Version=\+
'0001\',SAP__Origin=\'CS4CLNT100\')/$value"\n\t\txmlns:edmx="http://docs.oasis-open.org/odata/ns/edmx"><edmx:Include Namespace="com.sap.vocabularies.Common.v1" Alias="Common"/></edmx:Reference><edmx:Reference\n\t\tUri="https://webidecp-prnb2y81mz.dispatc+
her.eu2.hana.ondemand.com/destinations/CS4/sap/opu/odata/IWFND/CATALOGSERVICE;v=2/Vocabularies(TechnicalName=\'%2FIWBEP%2FVOC_CAPABILITIES\',Version=\'0001\',SAP__Origin=\'CS4CLNT100\')/$value"\n\t\txmlns:edmx="http://docs.oasis-open.org/odata/ns/edmx"><+
edmx:Include Namespace="Org.OData.Capabilities.V1" Alias="Capabilities"/></edmx:Reference><edmx:Reference\n\t\tUri="https://webidecp-prnb2y81mz.dispatcher.eu2.hana.ondemand.com/destinations/CS4/sap/opu/odata/IWFND/CATALOGSERVICE;v=2/Vocabularies(Technica+
lName=\'%2FIWBEP%2FVOC_COMMUNICATION\',Version=\'0001\',SAP__Origin=\'CS4CLNT100\')/$value"\n\t\txmlns:edmx="http://docs.oasis-open.org/odata/ns/edmx"><edmx:Include Namespace="com.sap.vocabularies.Communication.v1" Alias="Communication"/></edmx:Reference+
><edmx:Reference\n\t\tUri="https://webidecp-prnb2y81mz.dispatcher.eu2.hana.ondemand.com/destinations/CS4/sap/opu/odata/IWFND/CATALOGSERVICE;v=2/Vocabularies(TechnicalName=\'%2FIWBEP%2FVOC_AGGREGATION\',Version=\'0001\',SAP__Origin=\'CS4CLNT100\')/$value"+
\n\t\txmlns:edmx="http://docs.oasis-open.org/odata/ns/edmx"><edmx:Include Namespace="Org.OData.Aggregation.V1" Alias="Aggregation"/></edmx:Reference><edmx:Reference\n\t\tUri="https://webidecp-prnb2y81mz.dispatcher.eu2.hana.ondemand.com/destinations/CS4/s+
ap/opu/odata/IWFND/CATALOGSERVICE;v=2/Vocabularies(TechnicalName=\'%2FIWBEP%2FVOC_PERSONALDATA\',Version=\'0001\',SAP__Origin=\'CS4CLNT100\')/$value"\n\t\txmlns:edmx="http://docs.oasis-open.org/odata/ns/edmx"><edmx:Include Namespace="com.sap.vocabularies+
.PersonalData.v1" Alias="PersonalData"/></edmx:Reference><edmx:DataServices m:DataServiceVersion="2.0"><Schema Namespace="EY1.SAV_MANAGE_TIER_SRV" xml:lang="en" sap:schema-version="1" xmlns="http://schemas.microsoft.com/ado/2008/09/edm"><EntityType Name=+
"xEY1xSAV_C_TIERSType" sap:label="Consumption View to Fetch Tier Details" sap:content-version="1"><Key><PropertyRef Name="CountryKey"/><PropertyRef Name="FiscalYear"/><PropertyRef Name="Sequence"/></Key><Property Name="CountryKey" Type="Edm.String" Nulla+
ble="false" MaxLength="3" sap:display-format="UpperCase" sap:label="Country Key"/><Property Name="FiscalYear" Type="Edm.String" Nullable="false" MaxLength="4" sap:display-format="NonNegative" sap:label="Fiscal Year"/><Property Name="Sequence" Type="Edm.S+
tring" Nullable="false" MaxLength="2" sap:display-format="NonNegative" sap:label=""\n\t\t\t\t\tsap:quickinfo="Sequence Number - Serial Number of Record Type 4"/><Property Name="Tier" Type="Edm.String" MaxLength="7"/><Property Name="TierAmount" Type="Edm.+
Decimal" Precision="24" Scale="3" sap:label="Tier Amount"/><Property Name="TaxRate" Type="Edm.Decimal" Precision="5" Scale="2" sap:label="Tax Rate"/></EntityType><EntityContainer Name="EY1_SAV_MANAGE_TIER_SRV_Entities" m:IsDefaultEntityContainer="true" s+
ap:message-scope-supported="true"\n\t\t\t\tsap:supported-formats="atom json xlsx"><EntitySet Name="xEY1xSAV_C_TIERS" EntityType="EY1.SAV_MANAGE_TIER_SRV.xEY1xSAV_C_TIERSType" sap:creatable="false" sap:updatable="false"\n\t\t\t\tsap:deletable="false" sap:+
content-version="1"/></EntityContainer><Annotations Target="EY1.SAV_MANAGE_TIER_SRV.EY1_SAV_MANAGE_TIER_SRV_Entities" xmlns="http://docs.oasis-open.org/odata/ns/edm"><Annotation Term="Aggregation.ApplySupported"><Record><PropertyValue Property="Transform+
ations"><Collection><String>aggregate</String><String>groupby</String><String>filter</String></Collection></PropertyValue><PropertyValue Property="Rollup" EnumMember="None"/></Record></Annotation></Annotations><atom:link rel="self"\n\t\t\t\thref="https:/+
/webidecp-prnb2y81mz.dispatcher.eu2.hana.ondemand.com/destinations/CS4/sap/opu/odata/ey1/SAV_MANAGE_TIER_SRV/$metadata"\n\t\t\t\txmlns:atom="http://www.w3.org/2005/Atom"/><atom:link rel="latest-version"\n\t\t\t\thref="https://webidecp-prnb2y81mz.dispatch+
er.eu2.hana.ondemand.com/destinations/CS4/sap/opu/odata/ey1/SAV_MANAGE_TIER_SRV/$metadata"\n\t\t\t\txmlns:atom="http://www.w3.org/2005/Atom"/></Schema></edmx:DataServices></edmx:Edmx>',                                                                      
	"ey/sap/fin/cs/managetiers/manifest.json":'{"_version":"1.12.0","sap.app":{"id":"ey.sap.fin.cs.managetiers","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"1.0.0"},"title":"{{appTitle}}","description":"{{appDescriptio+
n}}","sourceTemplate":{"id":"servicecatalog.connectivityComponentForManifest","version":"0.0.0"},"dataSources":{"SAV_MANAGE_TIER_SRV":{"uri":"/sap/opu/odata/ey1/SAV_MANAGE_TIER_SRV/","type":"OData","settings":{"localUri":"localService/metadata.xml"}}}},"+
sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":false,"rootView":{"viewName":"ey.sap.fin.cs.managetiers.vie+
w.App","type":"XML","async":true,"id":"app"},"config":{"fullWidth":"true","sapFiori2Adaptation":true},"dependencies":{"minUI5Version":"1.65.6","libs":{"sap.m":{},"sap.ui.core":{},"sap.ui.layout":{}}},"contentDensities":{"compact":true,"cozy":true},"model+
s":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"ey.sap.fin.cs.managetiers.i18n.i18n"}},"":{"type":"sap.ui.model.odata.v2.ODataModel","settings":{"defaultOperationMode":"Server","defaultBindingMode":"OneWay","defaultCoun+
tMode":"Request"},"dataSource":"SAV_MANAGE_TIER_SRV","preload":true}},"resources":{"css":[{"uri":"css/style.css"}]},"services":{"ShellUIService":{"factoryName":"sap.ushell.ui5service.ShellUIService","lazy":false,"settings":{"setTitle":"auto"}}},"routing"+
:{"config":{"routerClass":"sap.m.routing.Router","viewType":"XML","async":true,"viewPath":"ey.sap.fin.cs.managetiers.view","controlAggregation":"pages","controlId":"app","clearControlAggregation":false},"routes":[{"name":"TargetTiers","pattern":"","targe+
t":["TargetTiers"]}],"targets":{"TargetTiers":{"viewType":"XML","transition":"slide","clearControlAggregation":false,"viewId":"Tiers","viewName":"Tiers"}}}},"sap.platform.abap":{"uri":"/sap/bc/ui5_ui5/ey1/sav_manage_tier/webapp","_version":"1.1.0"}}',    
	"ey/sap/fin/cs/managetiers/model/formatter.js":function(){sap.ui.define(["sap/ui/core/format/NumberFormat"],function(e){"use strict";return{appendPercentageSign:function(e){let r;if(e){r=e.replaceAll(/[^0-9.-]/gi,"")}else{r=e}if(!r){return""}else{return+
 parseFloat(r,[10]).toFixed(2)+" %"}},removeLeadingZero:function(e){if(!e){return"0"}return parseInt(e)},formatTierAmountDisplayAndEdit:function(r,t,n){let i;if(r){i=r.replaceAll(/[^0-9.-]/gi,"")}else{i=r}if(!i){return""}else if(!t){return e.getFloatInst+
ance({maxFractionDigits:2}).format(i)+" "+n}else{return parseFloat(i,[10]).toFixed(2)+" "+n}},addDescription:function(e){if(e){return"("+e+")"}else{return""}}}});                                                                                             
},                                                                                                                                                                                                                                                             
	"ey/sap/fin/cs/managetiers/model/models.js":function(){sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/Device","sap/base/util/ObjectPath"],function(e,n,t){"use strict";return{createDeviceModel:function(){var t=new e(n);t.setDefaultBindingMode("OneW+
ay");return t},createFLPModel:function(){var n=t.get("sap.ushell.Container.getUser"),a=n?n().isJamActive():false,i=new e({isShareInJamActive:a});i.setDefaultBindingMode("OneWay");return i}}});                                                               
},                                                                                                                                                                                                                                                             
	"ey/sap/fin/cs/managetiers/serviceBinding.js":'function initModel(){var a="/sap/opu/odata/ey1/SAV_MANAGE_TIER_SRV/";var e=new sap.ui.model.odata.ODataModel(a,true);sap.ui.getCore().setModel(e)}',                                                           
	"ey/sap/fin/cs/managetiers/view/App.view.xml":'<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" controllerName="ey.sap.fin.cs.managetiers.controller.App"\n\txmlns:html="http://www.w3.org/1999/xhtml"><App id="app" busy="{appVi+
ew>/busy}" busyIndicatorDelay="{appView>/delay}"/></mvc:View>',                                                                                                                                                                                                
	"ey/sap/fin/cs/managetiers/view/Tiers.view.xml":'<mvc:View controllerName="ey.sap.fin.cs.managetiers.controller.Tiers" xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core"\n\txmlns:layout="sap.ui.layout" xmlns="sap.m" xmlns:f="sap.f" xmlns:fb="sap.ui.co+
mp.filterbar"\n\txmlns:smartFilterBar="sap.ui.comp.smartfilterbar" xmlns:smartTable="sap.ui.comp.smarttable"><f:DynamicPage id="iddynamicPage" headerExpanded="true" showFooter="true"><f:title><f:DynamicPageTitle><f:heading><Title text="{i18n>tierDisplayP+
ageTitle}"></Title></f:heading><f:actions><ToolbarSpacer/></f:actions></f:DynamicPageTitle></f:title><f:header><f:DynamicPageHeader pinnable="true"><smartFilterBar:SmartFilterBar id="idSmartFilterBar" entitySet="xEY1xSAV_C_TIERS" search="onSearchButtonPr+
essed" enableBasicSearch="false"\n\t\t\t\t\tuseToolbar="false"><smartFilterBar:controlConfiguration><smartFilterBar:ControlConfiguration id="idFilterBarCountry" key="ConsolidationUnit" label="{i18n>labelCountry}" hasValueHelpDialog="true"\n\t\t\t\t\t\t\t+
visibleInAdvancedArea="true" mandatory="mandatory" displayBehaviour="descriptionAndId" index="1"><smartFilterBar:customControl><ComboBox id="idFilterCountryCode" items="{ path: \'/xEY1xSAV_C_CnsldCountryVH\'}" showSecondaryValues="true" valueState=\'None+
\'\n\t\t\t\t\t\t\t\t\tfilterSecondaryValues="true" change="onChangeCountry"><core:ListItem key="{ConsolidationUnit}" text="{Country} {path:\'Description\', formatter: \'.formatter.addDescription\'} - {ConsolidationUnit}"\n\t\t\t\t\t\t\t\t\t\t/></ComboBox+
></smartFilterBar:customControl></smartFilterBar:ControlConfiguration><smartFilterBar:ControlConfiguration id="idFilterBarYear" key="FiscalYear" label="{i18n>labelFisclYr}" mandatory="mandatory"\n\t\t\t\t\t\t\tvisibleInAdvancedArea="true" index="2"><smar+
tFilterBar:customControl><DatePicker id="idFilterFiscalYear" displayFormat="yyyy" valueFormat="yyyy" change="onChangeDatePickerFilter"/></smartFilterBar:customControl></smartFilterBar:ControlConfiguration><smartFilterBar:ControlConfiguration id="idIntent+
ion" key="Intention" label="{i18n>labelIntention}" hasValueHelpDialog="true"\n\t\t\t\t\t\t\tvisibleInAdvancedArea="true" mandatory="mandatory" displayBehaviour="descriptionAndId" index="3"><smartFilterBar:customControl><ComboBox id="idIntentionComboBox" +
items="{intentionVHModel>/results}" showSecondaryValues="true" valueState=\'None\'\n\t\t\t\t\t\t\t\t\tfilterSecondaryValues="true" change="onChangeIntention"><core:ListItem id="idIntentionComboBoxLI" key="{intentionVHModel>Intention}"\n\t\t\t\t\t\t\t\t\t+
\ttext="{intentionVHModel>IntentDescription} ({intentionVHModel>TaxIntention}) - {intentionVHModel>status}"/></ComboBox></smartFilterBar:customControl></smartFilterBar:ControlConfiguration></smartFilterBar:controlConfiguration></smartFilterBar:SmartFilte+
rBar></f:DynamicPageHeader></f:header><f:content><Table id="idTiersTable" fixedLayout="true" mode="MultiSelect" items="{path:\'tiersTableModel>/results\'}" showSeparators="All"><headerToolbar><OverflowToolbar><content><Title id="idHeadText" level="H2"/><+
ToolbarSpacer id="idToolbarSpacerLC"/><Button id="rollOverBtnId" press="onPressRollOver" tooltip="{i18n>rollOverBtnTooltip}" text="{i18n>rollOverBtnTooltip}"\n\t\t\t\t\t\t\t\tvisible="{=${authModel>/changeAllowed}?true:false}" enabled="false"/><ToggleBut+
ton id="idEditToggleBtn" icon="sap-icon://edit" press="onPressEditToggleBtn" pressed="{editTierModel>/edit}"\n\t\t\t\t\t\t\t\ttooltip="{i18n>editToggleBtnTooltip}" visible="{=${authModel>/changeAllowed}?true:false}" enabled="false"/><Button icon="sap-ico+
n://add" press="onPressAddNewTier" tooltip="{i18n>addTierBtnTooltip}" enabled="{editTierModel>/edit}"\n\t\t\t\t\t\t\t\tvisible="{=${authModel>/changeAllowed}?true:false}"/><Button icon="sap-icon://delete" press="onPressDeleteTier" tooltip="{i18n>deleteTi+
erBtnTooltip}" enabled="{editTierModel>/edit}"\n\t\t\t\t\t\t\t\tvisible="{=${authModel>/changeAllowed}?true:false}"/></content></OverflowToolbar></headerToolbar><columns><Column demandPopin="true"><Text text="{i18n>columnHeaderTierDescriptn}"/></Column><+
Column demandPopin="true" hAlign="Right"><Text text="{i18n>columnHeaderTierAmnt}" textAlign="Right"/></Column><Column demandPopin="true"><Text text="{i18n>columnHeaderTaxRate}" textAlign="Right"/></Column></columns><items><ColumnListItem vAlign="Middle">+
<cells><Text text="{i18n>columnCellTierDesc} {path:\'tiersTableModel>Sequence\', formatter: \'.formatter.removeLeadingZero\'}"/><Input width="50%" editable="{editTierModel>/edit}" change="onChangeTierAmount" textAlign="Right"\n\t\t\t\t\t\t\t\tvalueStateT+
ext="{i18n>errorMsgInvalidTierAmount}"\n\t\t\t\t\t\t\t\tvalue="{ parts:[{path:\'tiersTableModel>TierAmount\'},{path:\'editTierModel>/edit\'},{path:\'tiersTableModel>LocalCurrency\'}], formatter: \'.formatter.formatTierAmountDisplayAndEdit\' }"/><Input wi+
dth="50%" editable="{editTierModel>/edit}" change="onChangeTierTaxRate" textAlign="Right"\n\t\t\t\t\t\t\t\tvalueStateText="{i18n>errorMsgInvalidTaxRate}" value="{path:\'tiersTableModel>TaxRate\', formatter: \'.formatter.appendPercentageSign\'}"/></cells>+
</ColumnListItem></items></Table></f:content><f:footer><OverflowToolbar id="idOverflowToolbar" visible="{editTierModel>/edit}"><Button id="idMessagePopoverBtn" icon="sap-icon://message-popup" visible="false" text="{=${message>/}.length}" tooltip="Message+
s"\n\t\t\t\t\tpress="onPressHandleMessagePopover"/><ToolbarSpacer id="idToolbarSpacerFooter"/><Button id="idToolbarSaveBtn" text="{i18n>saveTierBtnText}" tooltip="{i18n>saveTierBtnTooltip}" type="Emphasized" press="onPressSaveTier"\n\t\t\t\t\tenabled="{e+
ditTierModel>/edit}"/><Button id="idToolbarCancelBtn" text="{i18n>cancelTierBtnText}" tooltip="{i18n>cancelTierBtnTooltip}" press="onPressCancelTier"\n\t\t\t\t\tenabled="{editTierModel>/edit}"/></OverflowToolbar></f:footer></f:DynamicPage></mvc:View>'    
}});                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               