<mvc:View controllerName="ey.sap.fin.cs.intentionmanagement.controller.intention" xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core"                                                                                                                         
	xmlns:layout="sap.ui.layout" xmlns="sap.m" xmlns:f="sap.f" xmlns:fb="sap.ui.comp.filterbar"                                                                                                                                                                   
	xmlns:smartFilterBar="sap.ui.comp.smartfilterbar" xmlns:smartTable="sap.ui.comp.smarttable">                                                                                                                                                                  
	<f:DynamicPage id="iddynamicPage" headerExpanded="true" showFooter="true">                                                                                                                                                                                    
		<f:title>                                                                                                                                                                                                                                                    
			<f:DynamicPageTitle>                                                                                                                                                                                                                                        
				<f:heading>                                                                                                                                                                                                                                                
					<Title text="{i18n>intentionDisplayPageTitle}"></Title>                                                                                                                                                                                                   
				</f:heading>                                                                                                                                                                                                                                               
				<f:actions>                                                                                                                                                                                                                                                
					<ToolbarSpacer/>                                                                                                                                                                                                                                          
				</f:actions>                                                                                                                                                                                                                                               
			</f:DynamicPageTitle>                                                                                                                                                                                                                                       
		</f:title>                                                                                                                                                                                                                                                   
		<!-- DynamicPage Header -->                                                                                                                                                                                                                                  
		<f:header>                                                                                                                                                                                                                                                   
			<f:DynamicPageHeader pinnable="true">                                                                                                                                                                                                                       
				<smartFilterBar:SmartFilterBar id="idSmartFilterBar" entitySet="IntentionsSet" search="onSearchButtonPressed" enableBasicSearch="false"                                                                                                                    
					useToolbar="false">                                                                                                                                                                                                                                       
					<smartFilterBar:controlConfiguration>                                                                                                                                                                                                                     
						<smartFilterBar:ControlConfiguration id="idRbunit" key="ConsolidationUnit" label="{i18n>labelConsUnit}" mandatory="mandatory"                                                                                                                            
							hasValueHelpDialog="true" visibleInAdvancedArea="true" displayBehaviour="descriptionAndId" index="1">                                                                                                                                                   
							<smartFilterBar:customControl>                                                                                                                                                                                                                          
								<ComboBox id="idConsUnit" items="{ path: '/C_CnsldtnUnitValueHelp'}" change="onConsUnitChange" showSecondaryValues="true" valueState='None'                                                                                                            
									filterSecondaryValues="true">                                                                                                                                                                                                                         
									<core:ListItem id="idConsUnitLI" key="{ConsolidationUnit}" text="{ConsolidationUnitText}" additionalText="{ConsolidationUnit}"/>                                                                                                                      
								</ComboBox>                                                                                                                                                                                                                                            
							</smartFilterBar:customControl>                                                                                                                                                                                                                         
						</smartFilterBar:ControlConfiguration>                                                                                                                                                                                                                   
						<smartFilterBar:ControlConfiguration id="idFilterBarYear" key="Gjahr" label="{i18n>labelFisclYr}" visibleInAdvancedArea="true" index="1">                                                                                                                
							<!--		<smartFilterBar:customControl>-->                                                                                                                                                                                                                 
							<!--			<DatePicker id="idFilterFiscalYear" displayFormat="yyyy" valueFormat="yyyy" change="onChangeDatePickerFilter"/>-->                                                                                                                               
							<!--		</smartFilterBar:customControl>-->                                                                                                                                                                                                                
						</smartFilterBar:ControlConfiguration>                                                                                                                                                                                                                   
					</smartFilterBar:controlConfiguration>                                                                                                                                                                                                                    
				</smartFilterBar:SmartFilterBar>                                                                                                                                                                                                                           
			</f:DynamicPageHeader>                                                                                                                                                                                                                                      
		</f:header>                                                                                                                                                                                                                                                  
		<!-- DynamicPage Content -->                                                                                                                                                                                                                                 
		<f:content>                                                                                                                                                                                                                                                  
			<Table id="idIntentionsTable" fixedLayout="true" items="{path:'intentionsTableModel>/results'}" showSeparators="All"                                                                                                                                        
				mode="{=${authModel>/ChangeAllowed}?'SingleSelectLeft':'None'}" selectionChange="onItemSelected">                                                                                                                                                          
				<headerToolbar>                                                                                                                                                                                                                                            
					<OverflowToolbar>                                                                                                                                                                                                                                         
						<content>                                                                                                                                                                                                                                                
							<Title id="idHeadText" level="H2"/>                                                                                                                                                                                                                     
							<ToolbarSpacer id="idToolbarSpacerLC"/>                                                                                                                                                                                                                 
							<Button id="idCloseIntentBtn" press="onPressCloseFY" text="{i18n>closeIntBtnText}" tooltip="{i18n>closeBtnTooltip}"                                                                                                                                     
								visible="{=${authModel>/ChangeAllowed}?true:false}"/>                                                                                                                                                                                                  
							<Button id="idAddIntentBtn" icon="sap-icon://add" press="onPressAddIntetion" tooltip="{i18n>addIntentionBtnTooltip}"                                                                                                                                    
								visible="{=${authModel>/CreateAllowed}?true:false}" enabled="false"/>                                                                                                                                                                                  
							<Button id="idEditToggleBtn" icon="sap-icon://edit" press="onPressEditToggleBtn" tooltip="{i18n>editToggleBtnTooltip}"                                                                                                                                  
								visible="{=${authModel>/ChangeAllowed}?true:false}" enabled="false"/>                                                                                                                                                                                  
						</content>                                                                                                                                                                                                                                               
					</OverflowToolbar>                                                                                                                                                                                                                                        
				</headerToolbar>                                                                                                                                                                                                                                           
				<columns>                                                                                                                                                                                                                                                  
					<Column demandPopin="true" width="8%">                                                                                                                                                                                                                    
						<Text text="{i18n>columnHeaderFiscalYr}"/>                                                                                                                                                                                                               
					</Column>                                                                                                                                                                                                                                                 
					<Column demandPopin="true">                                                                                                                                                                                                                               
						<Text text="{i18n>columnHeaderIntention}"/>                                                                                                                                                                                                              
					</Column>                                                                                                                                                                                                                                                 
					<Column demandPopin="true" width="9%">                                                                                                                                                                                                                    
						<Text text="{i18n>columnHeaderPerdTo}"/>                                                                                                                                                                                                                 
					</Column>                                                                                                                                                                                                                                                 
					<Column demandPopin="true" hAlign="Center" width="8%">                                                                                                                                                                                                    
						<Text text="{i18n>columnHeaderFYClose}"></Text>                                                                                                                                                                                                          
					</Column>                                                                                                                                                                                                                                                 
					<Column demandPopin="true" hAlign="End">                                                                                                                                                                                                                  
						<Text text="{i18n>columnHeaderCreatedBy}"/>                                                                                                                                                                                                              
					</Column>                                                                                                                                                                                                                                                 
					<Column demandPopin="true" hAlign="Center">                                                                                                                                                                                                               
						<Text text="{i18n>columnHeaderCreatedOn}"/>                                                                                                                                                                                                              
					</Column>                                                                                                                                                                                                                                                 
					<Column demandPopin="true" hAlign="End">                                                                                                                                                                                                                  
						<Text text="{i18n>columnHeaderChangedBy}"/>                                                                                                                                                                                                              
					</Column>                                                                                                                                                                                                                                                 
					<Column demandPopin="true" hAlign="Center">                                                                                                                                                                                                               
						<Text text="{i18n>columnHeaderChangedOn}"/>                                                                                                                                                                                                              
					</Column>                                                                                                                                                                                                                                                 
				</columns>                                                                                                                                                                                                                                                 
				<items>                                                                                                                                                                                                                                                    
					<ColumnListItem>                                                                                                                                                                                                                                          
						<cells>                                                                                                                                                                                                                                                  
							<Text tooltip="{intentionsTableModel>Gjahr}" text="{intentionsTableModel>Gjahr}"/>                                                                                                                                                                      
							<Text tooltip="{intentionsTableModel>Intdesc}" text="{intentionsTableModel>Intdesc}"/>                                                                                                                                                                  
							<Text tooltip="{intentionsTableModel>PeriodTo}" text="{intentionsTableModel>PeriodTo}"/>                                                                                                                                                                
							<Text text="{=${intentionsTableModel>IsActive}?${i18n>closeIntText}:${i18n>openIntBtnText}}"/>                                                                                                                                                          
							<Text text="{intentionsTableModel>CreatedBy}" tooltip="{intentionsTableModel>CreatedBy}"/>                                                                                                                                                              
							<Text                                                                                                                                                                                                                                                   
								tooltip="{path: 'intentionsTableModel>CreatedOn', type: 'sap.ui.model.type.DateTime', formatOptions: {pattern: 'dd.MM.yy, hh:mm:ss' , style: 'short'}}"                                                                                                
								text="{path: 'intentionsTableModel>CreatedOn', type: 'sap.ui.model.type.DateTime', formatOptions: {pattern: 'dd.MM.yy, hh:mm:ss' , style: 'short'}}"/>                                                                                                 
							<Text text="{intentionsTableModel>ChangedBy}" tooltip="{intentionsTableModel>ChangedBy}"/>                                                                                                                                                              
							<Text                                                                                                                                                                                                                                                   
								tooltip="{path: 'intentionsTableModel>ChangedOn', type: 'sap.ui.model.type.DateTime', formatOptions: {pattern: 'dd.MM.yy, hh:mm:ss' , style: 'short'}}"                                                                                                
								text="{path: 'intentionsTableModel>ChangedOn', type: 'sap.ui.model.type.DateTime', formatOptions: {pattern: 'dd.MM.yy, hh:mm:ss' , style: 'short'}}"/>                                                                                                 
						</cells>                                                                                                                                                                                                                                                 
					</ColumnListItem>                                                                                                                                                                                                                                         
				</items>                                                                                                                                                                                                                                                   
			</Table>                                                                                                                                                                                                                                                    
		</f:content>                                                                                                                                                                                                                                                 
		<!-- DynamicPage Footer -->                                                                                                                                                                                                                                  
		<f:footer>                                                                                                                                                                                                                                                   
			<OverflowToolbar id="idOverflowToolbar" visible="false">                                                                                                                                                                                                    
				<ToolbarSpacer id="idToolbarSpacerFooter"/>                                                                                                                                                                                                                
				<Button id="idToolbarSaveBtn" text="{i18n>saveIntentionBtnText}" tooltip="{i18n>saveIntentionBtnTooltip}" type="Emphasized"                                                                                                                                
					press="onPressSaveIntention"/>                                                                                                                                                                                                                            
				<Button id="idToolbarCancelBtn" text="{i18n>cancelIntentionBtnText}" tooltip="{i18n>cancelIntentionBtnTooltip}"                                                                                                                                            
					press="onPressCancelIntention"/>                                                                                                                                                                                                                          
			</OverflowToolbar>                                                                                                                                                                                                                                          
		</f:footer>                                                                                                                                                                                                                                                  
	</f:DynamicPage>                                                                                                                                                                                                                                              
</mvc:View>                                                                                                                                                                                                                                                    