<mvc:View controllerName="ey.sap.fin.cs.intentionmanagement.controller.intention" xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core"                                                                                                                         
	xmlns:layout="sap.ui.layout" xmlns="sap.m" xmlns:f="sap.f" xmlns:fb="sap.ui.comp.filterbar" xmlns:uxap="sap.uxap"                                                                                                                                             
	xmlns:smartFilterBar="sap.ui.comp.smartfilterbar" xmlns:smartTable="sap.ui.comp.smarttable">                                                                                                                                                                  
	<Page>                                                                                                                                                                                                                                                        
	<content>                                                                                                                                                                                                                                                     
	<uxap:ObjectPageLayout id="idETRObjectPageLayout" showAnchorBarPopover="false" upperCaseAnchorBar="false"&nbsp;                                                                                                                                               
						   navigate="onNavigateObjectPage" enableLazyLoading="true" useIconTabBar="true">                                                                                                                                                                        
		<uxap:sections>                                                                                                                                                                                                                                              
			<uxap:ObjectPageSection titleUppercase="false" title="{i18n>intentionDisplayPageTitle}">                                                                                                                                                                    
				<uxap:subSections>                                                                                                                                                                                                                                         
					<uxap:ObjectPageSubSection title="{i18n>intentionDisplayPageTitle}" titleUppercase="false">                                                                                                                                                               
						<layout:VerticalLayout>                                                                                                                                                                                                                                  
							<smartFilterBar:SmartFilterBar id="idSmartFilterBar" entitySet="IntentionsSet" search="onSearchButtonPressed" enableBasicSearch="false"                                                                                                                 
								useToolbar="false">                                                                                                                                                                                                                                    
								<smartFilterBar:controlConfiguration>                                                                                                                                                                                                                  
									<smartFilterBar:ControlConfiguration id="idRbunit" key="ConsolidationUnit" label="{i18n>labelConsUnit}" mandatory="mandatory"                                                                                                                         
										hasValueHelpDialog="true" visibleInAdvancedArea="true" displayBehaviour="descriptionAndId" index="1">                                                                                                                                                
										<smartFilterBar:customControl>                                                                                                                                                                                                                       
											<ComboBox id="idConsUnit" items="{ path: '/C_CnsldtnUnitValueHelp'}" change="onConsUnitChange" showSecondaryValues="true" valueState='None'                                                                                                         
												filterSecondaryValues="true">                                                                                                                                                                                                                      
												<core:ListItem id="idConsUnitLI" key="{ConsolidationUnit}" text="{ConsolidationUnitText}" additionalText="{ConsolidationUnit}"/>                                                                                                                   
											</ComboBox>                                                                                                                                                                                                                                         
										</smartFilterBar:customControl>                                                                                                                                                                                                                      
									</smartFilterBar:ControlConfiguration>                                                                                                                                                                                                                
									<smartFilterBar:ControlConfiguration id="idFilterBarYear" key="Gjahr" label="{i18n>labelFisclYr}" visibleInAdvancedArea="true" index="1">                                                                                                             
										<!--		<smartFilterBar:customControl>-->                                                                                                                                                                                                              
										<!--			<DatePicker id="idFilterFiscalYear" displayFormat="yyyy" valueFormat="yyyy" change="onChangeDatePickerFilter"/>-->                                                                                                                            
										<!--		</smartFilterBar:customControl>-->                                                                                                                                                                                                             
									</smartFilterBar:ControlConfiguration>                                                                                                                                                                                                                
								</smartFilterBar:controlConfiguration>                                                                                                                                                                                                                 
							</smartFilterBar:SmartFilterBar>                                                                                                                                                                                                                        
							<Table id="idIntentionsTable" fixedLayout="true" items="{path:'intentionsTableModel>/results'}" showSeparators="All"                                                                                                                                    
								mode="{=${authModel>/ChangeAllowed}?'SingleSelectLeft':'None'}" selectionChange="onItemSelected">                                                                                                                                                      
								<headerToolbar>                                                                                                                                                                                                                                        
									<OverflowToolbar>                                                                                                                                                                                                                                     
										<content>                                                                                                                                                                                                                                            
											<Title id="idHeadText" level="H2"/>                                                                                                                                                                                                                 
											<ToolbarSpacer id="idToolbarSpacerLC"/>                                                                                                                                                                                                             
											<Button id="idCloseIntentBtn" press="onPressCloseFY" text="{i18n>closeIntBtnText}" tooltip="{i18n>closeBtnTooltip}"                                                                                                                                 
												visible="{=${authModel>/ChangeAllowed}?true:false}"/>                                                                                                                                                                                              
											<Button id="idAddIntentBtn" icon="sap-icon://add" press="onPressAddIntetion" tooltip="{i18n>addIntentionBtnTooltip}"                                                                                                                                
												visible="{=${authModel>/CreateAllowed}?true:false}" enabled="false"/>                                                                                                                                                                              
											<Button id="idEditToggleBtn" icon="sap-icon://edit" press="onPressEditToggleBtn" tooltip="{i18n>editToggleBtnTooltip}"                                                                                                                              
												visible="{=${authModel>/ChangeAllowed}?true:false}" enabled="false"/>                                                                                                                                                                              
										</content>                                                                                                                                                                                                                                           
									</OverflowToolbar>                                                                                                                                                                                                                                    
								</headerToolbar>                                                                                                                                                                                                                                       
								<columns>                                                                                                                                                                                                                                              
									<Column demandPopin="true" width="8%">                                                                                                                                                                                                                
										<Text text="{i18n>columnHeaderFiscalYr}"/>                                                                                                                                                                                                           
									</Column>                                                                                                                                                                                                                                             
									<Column demandPopin="true">                                                                                                                                                                                                                           
										<Text text="{i18n>columnHeaderIntention}"/>                                                                                                                                                                                                          
									</Column>                                                                                                                                                                                                                                             
									<Column demandPopin="true" width="9%">                                                                                                                                                                                                                
										<Text text="{i18n>columnHeaderPerdTo}"/>                                                                                                                                                                                                             
									</Column>                                                                                                                                                                                                                                             
									<Column demandPopin="true" hAlign="Center" width="8%">                                                                                                                                                                                                
										<Text text="{i18n>columnHeaderFYIntStatus}"></Text>                                                                                                                                                                                                  
									</Column>                                                                                                                                                                                                                                             
									<Column demandPopin="true" hAlign="Center" width="8%">                                                                                                                                                                                                
										<Text text="{i18n>columnHeaderFYClose}"></Text>                                                                                                                                                                                                      
									</Column>                                                                                                                                                                                                                                             
									<Column demandPopin="true" hAlign="End">                                                                                                                                                                                                              
										<Text text="{i18n>columnHeaderCreatedBy}"/>                                                                                                                                                                                                          
									</Column>                                                                                                                                                                                                                                             
									<Column demandPopin="true" hAlign="Center">                                                                                                                                                                                                           
										<Text text="{i18n>columnHeaderCreatedOn}"/>                                                                                                                                                                                                          
									</Column>                                                                                                                                                                                                                                             
									<Column demandPopin="true" hAlign="End">                                                                                                                                                                                                              
										<Text text="{i18n>columnHeaderChangedBy}"/>                                                                                                                                                                                                          
									</Column>                                                                                                                                                                                                                                             
									<Column demandPopin="true" hAlign="Center">                                                                                                                                                                                                           
										<Text text="{i18n>columnHeaderChangedOn}"/>                                                                                                                                                                                                          
									</Column>                                                                                                                                                                                                                                             
								</columns>                                                                                                                                                                                                                                             
								<items>                                                                                                                                                                                                                                                
									<ColumnListItem>                                                                                                                                                                                                                                      
										<cells>                                                                                                                                                                                                                                              
											<Text tooltip="{intentionsTableModel>Gjahr}" text="{intentionsTableModel>Gjahr}"/>                                                                                                                                                                  
											<Text tooltip="{intentionsTableModel>Intdesc}" text="{intentionsTableModel>Intdesc}"/>                                                                                                                                                              
											<Text tooltip="{intentionsTableModel>PeriodTo}" text="{intentionsTableModel>PeriodTo}"/>                                                                                                                                                            
											<Text text="{	path: 'intentionsTableModel>Intstatus',                                                                                                                                                                                               
															formatter: '._formatIntentionStatusText'}"/>                                                                                                                                                                                                    
											<Text text="{=${intentionsTableModel>IsActive}?${i18n>closeIntText}:${i18n>openIntBtnText}}"/>                                                                                                                                                      
											<Text text="{intentionsTableModel>CreatedBy}" tooltip="{intentionsTableModel>CreatedBy}"/>                                                                                                                                                          
											<Text                                                                                                                                                                                                                                               
												tooltip="{path: 'intentionsTableModel>CreatedOn', type: 'sap.ui.model.type.DateTime', formatOptions: {pattern: 'dd.MM.yy, hh:mm:ss' , style: 'short'}}"                                                                                            
												text="{path: 'intentionsTableModel>CreatedOn', type: 'sap.ui.model.type.DateTime', formatOptions: {pattern: 'dd.MM.yy, hh:mm:ss' , style: 'short'}}"/>                                                                                             
											<Text text="{intentionsTableModel>ChangedBy}" tooltip="{intentionsTableModel>ChangedBy}"/>                                                                                                                                                          
											<Text                                                                                                                                                                                                                                               
												tooltip="{path: 'intentionsTableModel>ChangedOn', type: 'sap.ui.model.type.DateTime', formatOptions: {pattern: 'dd.MM.yy, hh:mm:ss' , style: 'short'}}"                                                                                            
												text="{path: 'intentionsTableModel>ChangedOn', type: 'sap.ui.model.type.DateTime', formatOptions: {pattern: 'dd.MM.yy, hh:mm:ss' , style: 'short'}}"/>                                                                                             
										</cells>                                                                                                                                                                                                                                             
									</ColumnListItem>                                                                                                                                                                                                                                     
								</items>                                                                                                                                                                                                                                               
							</Table>                                                                                                                                                                                                                                                
						</layout:VerticalLayout>                                                                                                                                                                                                                                 
					</uxap:ObjectPageSubSection>                                                                                                                                                                                                                              
				</uxap:subSections>                                                                                                                                                                                                                                        
			</uxap:ObjectPageSection>                                                                                                                                                                                                                                   
			<uxap:ObjectPageSection titleUppercase="false" title="{i18n>PeriodMapping}">                                                                                                                                                                                
				<uxap:subSections>                                                                                                                                                                                                                                         
					<uxap:ObjectPageSubSection title="{i18n>periodMappingTitle}" titleUppercase="false">                                                                                                                                                                      
						<Table id="idPeriodTable" fixedLayout="true" items="{path:'intentionsMappingModel>/'}" showSeparators="All"                                                                                                                                              
							mode="{=${authModel>/ChangeAllowed}?'SingleSelectLeft':'None'}" selectionChange="onItemSelectedForIntention">                                                                                                                                           
							<headerToolbar>                                                                                                                                                                                                                                         
								<OverflowToolbar>                                                                                                                                                                                                                                      
									<content>                                                                                                                                                                                                                                             
										<Title id="idPrdHeadText" level="H2"/>                                                                                                                                                                                                               
										<ToolbarSpacer/>                                                                                                                                                                                                                                     
										<Button id="idEditPerdBtn" icon="sap-icon://edit" press="onPressEditPeriod" tooltip="{i18n>editToggleBtnTooltip}"                                                                                                                                    
											visible="{=${authModel>/ChangeAllowed}?true:false}" enabled="false"/>                                                                                                                                                                               
									</content>                                                                                                                                                                                                                                            
								</OverflowToolbar>                                                                                                                                                                                                                                     
							</headerToolbar>                                                                                                                                                                                                                                        
							<columns>                                                                                                                                                                                                                                               
								<Column demandPopin="true">                                                                                                                                                                                                                            
									<Text text="{i18n>columnHeaderTaxIntention}"/>                                                                                                                                                                                                        
								</Column>                                                                                                                                                                                                                                              
								<Column demandPopin="true">                                                                                                                                                                                                                            
									<Text text="{i18n>columnHeaderPerdTo}"/>                                                                                                                                                                                                              
								</Column>                                                                                                                                                                                                                                              
							</columns>                                                                                                                                                                                                                                              
							<items>                                                                                                                                                                                                                                                 
								<ColumnListItem>                                                                                                                                                                                                                                       
									<cells>                                                                                                                                                                                                                                               
										<Text tooltip="{intentionsMappingModel>Intention}" text="{intentionsMappingModel>IntentionDescription}"/>                                                                                                                                            
										<Text tooltip="{intentionsMappingModel>PeriodTo}" text="{intentionsMappingModel>PeriodTo}"/>                                                                                                                                                         
									</cells>                                                                                                                                                                                                                                              
								</ColumnListItem>                                                                                                                                                                                                                                      
							</items>                                                                                                                                                                                                                                                
						</Table>                                                                                                                                                                                                                                                 
					</uxap:ObjectPageSubSection>                                                                                                                                                                                                                              
				</uxap:subSections>                                                                                                                                                                                                                                        
			</uxap:ObjectPageSection>                                                                                                                                                                                                                                   
		</uxap:sections>                                                                                                                                                                                                                                             
	</uxap:ObjectPageLayout>                                                                                                                                                                                                                                      
	</content>                                                                                                                                                                                                                                                    
	<footer>                                                                                                                                                                                                                                                      
			<OverflowToolbar id="idOverflowToolbar">                                                                                                                                                                                                                    
				<Button id="idMessagePopoverBtn" text="" icon="" press="handleMessagePopoverPress"/>                                                                                                                                                                       
				<ToolbarSpacer/>                                                                                                                                                                                                                                           
				<Button id="idCloseFooterBtn" icon="sap-icon://decline" press="onCloseFooterPress"/>                                                                                                                                                                       
			</OverflowToolbar>                                                                                                                                                                                                                                          
		</footer>                                                                                                                                                                                                                                                    
	</Page>                                                                                                                                                                                                                                                       
</mvc:View>                                                                                                                                                                                                                                                    