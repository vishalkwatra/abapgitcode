sap.ui.define(["./BaseController","sap/m/Dialog","sap/ui/model/json/JSONModel","sap/ui/core/library","sap/m/MessagePopover","sap/m/MessageItem","sap/m/MessageToast","sap/m/MessageBox","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/core/routi+
ng/History","sap/ui/generic/app/navigation/service/NavigationHandler"],function(e,t,n,i,o,s,r,a,l,d,g,u){"use strict";let c=sap.ui.getCore();return e.extend("ey.sap.fin.cs.intentionmanagement.controller.intention",{onInit:function(){let e=this.getView();+
this.oRouter=this.getOwnerComponent().getRouter();this.oRouter.getRoute("Targetintention").attachMatched(this._onRouteMatched,this);this.bAllEntriesValidated=true;this.bPerValidate=true;let t=new n;this.setModel(t,"oRowModel");let i=new n;this.setModel(i+
,"oPerRowModel");let o=new n;this.setModel(o,"oModelEditItentn");this.oMP=null;this.oDataMonitorData=[];this.oJSONDMData=[];e.byId("idIntentionsTable").setSticky(["ColumnHeaders","HeaderToolbar"]);e.byId("idPeriodTable").setSticky(["ColumnHeaders","Heade+
rToolbar"])},_onRouteMatched:function(e){this._getAuthData()},_setOriginalIntentionData:function(e){let t=jQuery.extend(true,[],e.results);t.map(e=>delete e.__metadata);this.getView().setModel(new n(t),"modelOriginalIntentionData")},_getOriginalIntention+
Data:function(){return this.getView().getModel("modelOriginalIntentionData")},_getAuthData:function(){let e=this,t=this.getOwnerComponent().getModel();this.getBusyDialog().open();t.read("/AUTHSet",{method:"GET",success:function(t){e.getBusyDialog().close+
();e.getView().setModel(new n(t.results[0]),"authModel");console.log(t)},error:function(t){e.getBusyDialog().close();a.error(e.getI18nText("errorFetchingAuthData"))}})},_fetchIntentionsData:function(){let e=this.getView(),t=this.getOwnerComponent().getMo+
del(),i=e.byId("idIntentionsTable"),o=e.byId("idAddIntentBtn"),s=this,r,g=e.byId("idConsUnit").getSelectedKey(),u=[new l("Bunit",d.EQ,g)];if(e.byId("idSmartFilterBar").getFilters().length>0){r=e.byId("idSmartFilterBar").getFilters()[0].aFilters}else{r=[]+
}let c=new l({filters:[...u,...r],and:true});this.getBusyDialog().open();o.setEnabled(true);t.read("/IntentionsSet",{filters:[c],method:"GET",success:function(e){s.getBusyDialog().close();console.log(e);e.results.map(e=>e.bCreated=false);i.setModel(new n+
(e),"intentionsTableModel");s.getView().byId("idPeriodTable").setModel(new n(e),"periodTableModel");i.getModel("intentionsTableModel").setDefaultBindingMode("TwoWay");s.getView().byId("idHeadText").setText(s.getResourceBundle().getText("intentionsTableTi+
tle",[e.results.length]));s._setOriginalIntentionData(e)},error:function(e){s.getBusyDialog().close();a.error(s.getI18nText("IntentionGetServiceCallError"))}})},_disableClosedFI:function(e){let t=this.getView(),n=t.byId("idIntentionsTable");n.getItems().+
forEach(function(e){let t=e.getBindingContext("intentionsTableModel").getObject(),n=t.IntnsnActFlg,i=e.$().find(".sapMRb"),o=sap.ui.getCore().byId(i.attr("id"));if(n){o.setEnabled(false);o.setEditable(false)}else{o.setEnabled(true);o.setEditable(true)}})+
},_fetchIntentionEditCB:function(e,t,n){let i=this.getModel(),o="/IntentionValuesSet",s=this,a=this.getView(),g=new l({filters:[new l("Gjahr",d.EQ,e),new l("Intention",d.EQ,t),new l("PeriodTo",d.EQ,n)],and:true});this.getBusyDialog().open();i.read(o,{met+
hod:"GET",filters:[g],success:function(e,t){s.getBusyDialog().close();s.getModel("oModelEditItentn").setData([]);s.getModel("oModelEditItentn").setData(e.results)},error:function(e){s.getBusyDialog().close();r.show(s.getI18nText("errorFetchingIntentions"+
))}})},_setScreenToDisplayMode:function(){let e=this.getView();this._fetchIntentionsData();e.byId("idOverflowToolbar").setVisible(false);e.byId("idAddIntentBtn").setEnabled(true)},_getValidDataMsg:function(e){let t="";for(let n=0;n<e.length;n++){if(e[n]<+
10){if(n===e.length-1){t=t+" 00"+e[n]}else{t=t+" 00"+e[n]+","}}else{if(n===e.length-1){t=t+" 0"+e[n]}else{t=t+" 0"+e[n]+","}}}return t},getI18nText:function(e){return this.getResourceBundle().getText(e)},onConsUnitChange:function(){let e=this.getView().b+
yId("idSmartFilterBar"),t=e.validateMandatoryFields();if(t){e.fireSearch()}},onPressEditToggleBtn:function(e){let t=this.getView(),n=this;if(!this._oEditIntentionFragment){this._oEditIntentionFragment=sap.ui.xmlfragment("editIntention","ey.sap.fin.cs.int+
entionmanagement.fragment.editIntentionPopup",this);t.addDependent(this._oEditIntentionFragment)}this._oEditIntentionFragment.open();if(e.getSource().getTooltip()==="Edit Intention"){c.byId("editIntention--idOkBtn").setText(n.getI18nText("updateIntentBtn+
Text"));c.byId("editIntention--idTitleDialg").setText(n.getI18nText("editIntentionsDialogTitle"))}else{c.byId("editIntention--idOkBtn").setText(n.getI18nText("addIntentBtnText"));c.byId("editIntention--idTitleDialg").setText(n.getI18nText("addIntentionsD+
ialogTitle"))}t.byId("idOverflowToolbar").setVisible(true)},onPressEditPeriod:function(e){let t=this.getView(),n=this;if(!this._oEditPeriodFragment){this._oEditPeriodFragment=sap.ui.xmlfragment("editIntention","ey.sap.fin.cs.intentionmanagement.fragment.+
editPeriodPopup",this);t.addDependent(this._oEditPeriodFragment)}this._oEditPeriodFragment.open()},onChangeIntentionEdit:function(e){let t=c.byId("editIntention--IdPerTo"),n=c.byId("editIntention--errorMsgStripId");n.setVisible(false);c.byId("editIntenti+
on--idDialog").setContentHeight("190px");t.setValueState("None");if(e.getSource().getSelectedItem()){e.getSource().setValueState("None");let n=e.getSource().getSelectedItem().getBindingContext("oModelEditItentn").getObject();if(e.getSource().getSelectedK+
ey()==="01"){t.setValue("");t.setEditable(true)}else{t.setValue(n.PeriodTo);t.setEditable(false)}}else{e.getSource().setValueState("Error");t.setValue("");t.setEditable(false)}},onChangePeriodTo:function(e){let t=parseInt(e.getSource().getValue(),[10]),n+
=this.getModel("oRowModel").getData().validate,i=c.byId("editIntention--errorMsgStripId"),o=this,s=this._getValidDataMsg(n);if(n.indexOf(t)>-1){i.setVisible(false);c.byId("editIntention--idDialog").setContentHeight("190px");e.getSource().setValueState("N+
one")}else{i.setVisible(true);i.setText(o.getI18nText("errorMsgPeriodTo")+s);c.byId("editIntention--idDialog").setContentHeight("250px");e.getSource().setValueState("Error")}},onChangeYear:function(e){let t=this.getView(),n=this.getView().byId("idIntenti+
onsTable").getModel("intentionsTableModel").getData().results,i=this;t.byId("idOverflowToolbar").setVisible(true);if(!e.getSource().getValue()){e.getSource().setValueState("Error");return}let o=n.filter(t=>t.Gjahr===e.getSource().getValue());if(o.length>+
0){e.getSource().setValueState("Error");e.getSource().setValueStateText(i.getI18nText("errorMsgInvalidYear"))}else{e.getSource().setValueState("None");e.getSource().setValueStateText("")}},onPressClosePeriodDialog:function(){let e=this.getView();this._oE+
ditPeriodFragment.close();e.byId("idPeriodTable").removeSelections();e.byId("idEditPerdBtn").setEnabled(false);this._oEditPeriodFragment.destroy();this._oEditPeriodFragment=undefined},onPressCloseDialog:function(){let e=this.getView();this._oEditIntentio+
nFragment.close();e.byId("idIntentionsTable").removeSelections();e.byId("idEditToggleBtn").setEnabled(false);this._oEditIntentionFragment.destroy();this._oEditIntentionFragment=undefined;this.onPressCancelIntention()},onPressSaveBtnIntention:function(){l+
et e=this.getView(),t=e.byId("idIntentionsTable").getModel("intentionsTableModel"),n=e.getModel("oModelEditItentn").getData(),i=this.getModel("oRowModel").getData().validate,o=c.byId("editIntention--cbIntenId"),s=o.getSelectedKey(),r=c.byId("editIntentio+
n--IdPerTo"),a=r.getValue(),l=c.byId("editIntention--IdFisYr"),d=l.getValue(),g=c.byId("editIntention--errorMsgStripId"),u=this._getValidDataMsg(i),h=this;if(!d){l.setValueState("Error")}else if(!s){o.setValueState("Error")}else if(!a){r.setValueState("E+
rror");g.setVisible(true);g.setText(h.getI18nText("errorMsgPeriodTo")+u);c.byId("editIntention--idDialog").setContentHeight("250px")}if(l.getValueState()==="Error"||o.getValueState()==="Error"||r.getValueState()==="Error"){this.bAllEntriesValidated=false+
;return}this.bAllEntriesValidated=true;e.byId("idIntentionsTable").removeSelections();e.byId("idEditToggleBtn").setEnabled(false);let I=this.getModel("oRowModel").getData(),f=parseInt(I.PeriodTo,[10]),b=n.filter(e=>e.SerialNumber===I.SeqnrFlb);if(f<10){f+
="00"+f}else{f="0"+f}if(I.sPath){t.setProperty(I.sPath+"/SeqnrFlb",I.SeqnrFlb);t.setProperty(I.sPath+"/PeriodTo",f);t.setProperty(I.sPath+"/Intention",b[0].Intention);t.setProperty(I.sPath+"/Intdesc",b[0].Description)}else{let e=t.getData().results;I.Per+
iodTo=f;I.Intention=b[0].Intention;I.Intdesc=b[0].Description;e.push(I)}t.refresh();this._oEditIntentionFragment.close();this._oEditIntentionFragment.destroy();this._oEditIntentionFragment=undefined;this.onPressSaveIntention()},onPressAddIntetion:functio+
n(e){let t=this.getView().byId("idConsUnit"),n={Bunit:t.getSelectedKey(),Gjahr:"",Intention:"",Intdesc:"",CreatedBy:"",CreatedOn:"",ChangedBy:"",ChangedOn:"",PeriodTo:"",IntnsnActFlg:false,IsActive:false,Closebtnact:false,SeqnrFlb:"",editYr:true,editPer:+
false,sPath:"",bCreated:true},i=[],o=[{SerialNumber:"01",Intention:"PER",Description:"Periodic",PeriodTo:"000"},{SerialNumber:"02",Intention:"Q1",Description:"Q1 Close",PeriodTo:"003"}];i.push(1);i.push(2);n.validate=i;this.getModel("oRowModel").setData(+
n);this.getModel("oModelEditItentn").setData([]);this.getModel("oModelEditItentn").setData(o);this.onPressEditToggleBtn(e)},onSearchButtonPressed:function(){this._fetchIntentionsData()},onItemSelected:function(e){let t=this.getView(),n=this,i=t.byId("idE+
ditToggleBtn"),o=e.getSource().getSelectedItem().getBindingContext("intentionsTableModel").getPath(),s=o.split("/"),r=parseInt(s[2],[10]),a=e.getSource().getSelectedItem().getBindingContext("intentionsTableModel").getObject(),l,d,g=[],u={};if(a.IsActive)+
{t.byId("idIntentionsTable").removeSelections();i.setEnabled(false);return}if(a.Closebtnact){t.byId("idCloseIntentBtn").setVisible(true)}else{t.byId("idCloseIntentBtn").setVisible(false)}if(a.SeqnrFlb=="01"){d=true}else{d=false}if(a.bCreated){i.setEnable+
d(false);return}else{i.setEnabled(true)}let c=this._getOriginalIntentionData().getData()[r],h=parseInt(c.SeqnrFlb,[10]);u.Gjahr=c.Gjahr;u.Intention=c.Intention;u.PeriodTo=a.PeriodTo;u.SeqnrFlb=a.SeqnrFlb;u.editPer=d;u.sPath=o;u.editYr=false;this.getModel+
("oRowModel").setData(u);if(c.SeqnrFlb==="02"||c.SeqnrFlb==="03"||c.SeqnrFlb==="04"){g.push(parseInt(c.PeriodTo,[10])+1);g.push(parseInt(c.PeriodTo,[10])+2)}else if(c.SeqnrFlb==="01"){if(c.PeriodTo==="001"){g.push(1);g.push(2)}else if(c.PeriodTo==="002")+
{g.push(2)}else if(c.PeriodTo==="004"){g.push(4);g.push(5)}else if(c.PeriodTo==="005"){g.push(5)}else if(c.PeriodTo==="007"){g.push(7);g.push(8)}else if(c.PeriodTo==="008"){g.push(8)}else if(c.PeriodTo==="010"){g.push(10);g.push(11)}else if(c.PeriodTo===+
"011"){g.push(11)}}u.validate=g;this._fetchIntentionEditCB(u.Gjahr,u.Intention,u.PeriodTo)},onItemSelectedForPeriod:function(e){let t=this.getView(),n=this,i=t.byId("idEditPerdBtn"),o=e.getSource().getSelectedItem().getBindingContext("periodTableModel").+
getPath(),s=o.split("/"),r=parseInt(s[2],[10]),a=e.getSource().getSelectedItem().getBindingContext("periodTableModel").getObject(),l,d,g=[],u={};console.log(a);console.log(r);i.setEnabled(true);this.getModel("oPerRowModel").setData(a)},onChangeFisclPerio+
dTo:function(){this.bPerValidate=true;if(this.getModel("oPerRowModel").getData().PeriodTo<="12"||this.getModel("oPerRowModel").getData().PeriodTo>"17"){c.byId("editIntention--IdPerTo").setValueState(sap.ui.core.ValueState.Error);this.bPerValidate=false}e+
lse{c.byId("editIntention--IdPerTo").setValueState(sap.ui.core.ValueState.None)}},onPressSaveBtnPeriod:function(){if(!this.bPerValidate){a.error(this.getI18nText("errorMsgInvalidTableData"));return}let e=this.getModel("oPerRowModel").getData(),t=this,n=t+
.getOwnerComponent().getModel();let i="/IntentionsMappingSet('"+e.Intention+"')";this.getBusyDialog().open();n.update(i,e,{success:function(n){t._oEditPeriodFragment.close();t.getBusyDialog().close();let i=t.getView().getModel("intentionsMappingModel").g+
etData();for(let t=0;t<i.length;t++){if(i[t].Intention===e.Intention){i[t].PeriodTo=e.PeriodTo}}t.getView().getModel("intentionsMappingModel").refresh(true);r.show(t.getI18nText("genericMsgBatchSuccess"))},error:function(e){t._oEditPeriodFragment.close()+
;t.getBusyDialog().close();r.show(t.getI18nText("genericMsgBatchError"))}})},onPressSaveIntention:function(){if(!this.bAllEntriesValidated){a.error(this.getI18nText("errorMsgInvalidTableData"));return}this.oJSONDMData=[];let e=this.getOwnerComponent(),t=+
e.getModel(),n=this,i=this.getView().byId("idIntentionsTable").getModel("intentionsTableModel").getData().results,o=jQuery.extend(true,[],this._getOriginalIntentionData().getData());o.map(e=>{delete e.bCreated;return e});i.map(e=>{delete e.bCreated;delet+
e e.editPer;delete e.editYr;delete e.sPath;delete e.validate;return e});t.setUseBatch(true);t.setChangeGroups({"/SAV_MANAGE_INTENTIONS_SRV":{groupId:"groupIdSaveIntention",changeSetId:"ID",single:false}});t.setDeferredGroups(t.getDeferredGroups().concat(+
["groupIdSaveIntention"]));if(i.length>o.length){let e=i.filter(e=>o.filter(t=>parseInt(t.Gjahr,[10])===parseInt(e.Gjahr,[10])&&t.Bunit===e.Bunit&&(t.Intention!==e.Intention||t.IntnsnActFlg!==e.IntnsnActFlg||parseInt(t.PeriodTo,[10])!==parseInt(e.PeriodT+
o,[10])||parseInt(t.SeqnrFlb,[10])!==parseInt(e.SeqnrFlb,[10]))).length>0);let n=i.filter(e=>o.filter(t=>parseInt(t.Gjahr,[10])===parseInt(e.Gjahr,[10])&&t.Bunit===e.Bunit).length===0);if(e.length>0){for(var s=0;s<e.length;s++){let n="/IntentionsSet(Gjah+
r='"+e[s].Gjahr+"',Bunit='"+e[s].Bunit+"')";delete e[s].ChangedBy;delete e[s].ChangedOn;delete e[s].CreatedBy;delete e[s].CreatedOn;t.update(n,e[s],{groupId:"groupIdSaveIntention"})}}if(n.length>0){for(var r=0;r<n.length;r++){delete n[r].ChangedBy;delete+
 n[r].ChangedOn;delete n[r].CreatedBy;delete n[r].CreatedOn;t.create("/IntentionsSet",n[r],{groupId:"groupIdSaveIntention"})}}}else if(i.length===o.length){for(var s=0;s<i.length;s++){for(var l=0;l<o.length;l++){let e=true;if(i[s].Gjahr===o[l].Gjahr&&(i[+
s].IntnsnActFlg!==o[l].IntnsnActFlg||i[s].Intention!==o[l].Intention||i[s].PeriodTo!==o[l].PeriodTo||i[s].SeqnrFlb!==o[l].SeqnrFlb)){if(i[s].SeqnrFlb>"05"){a.warning(this.getI18nText("messageconfirm"),{actions:[a.Action.OK,a.Action.CANCEL],emphasizedActi+
on:a.Action.OK,onClose:function(e){if(e==="OK"){n._callBEService(t)}else{n.onPressCancelIntention()}}});this.oJSONDMData.push(i[s])}t.update("/IntentionsSet(Gjahr='"+i[s].Gjahr+"',Bunit='"+i[s].Bunit+"')",i[s],{groupId:"groupIdSaveIntention"})}}}}else{re+
turn}if(this.oJSONDMData.length===0){this._callBEService(t)}},_callBEService:function(e){let t=this;if(this.oJSONDMData.length>0){this.onPressBalTransDM()}e.submitChanges({groupId:"groupIdSaveIntention",success:function(e,n){let i;if(!e.__batchResponses)+
{t._setScreenToDisplayMode();return}i=e.__batchResponses[0].__changeResponses;if(!i||i.length<=0){t._setScreenToDisplayMode();return}t._setScreenToDisplayMode();let o=JSON.parse(i.find(e=>e.headers["sap-message"]).headers["sap-message"]);if(o&&o.severity+
.toUpperCase()==="SUCCESS"){r.show(t.getI18nText("genericMsgBatchSuccess"));t._setScreenToDisplayMode()}else if(o&&o.message){r.show(t.getI18nText("genericMsgBatchError"))}},error:function(e){t._setScreenToDisplayMode()}})},onPressCancelIntention:functio+
n(e){let t=this.getView(),n=this,i=t.byId("idIntentionsTable");i.getModel("intentionsTableModel").setData({results:jQuery.extend(true,[],this._getOriginalIntentionData().getData())});t.byId("idIntentionsTable").removeSelections();t.byId("idOverflowToolba+
r").setVisible(false);t.byId("idAddIntentBtn").setEnabled(true)},onPressCloseFY:function(e){let t=this;let n=this.getView(),i=n.byId("idIntentionsTable").getSelectedItem().getBindingContext("intentionsTableModel").getObject();n.byId("idOverflowToolbar").+
setVisible(true);i.IntnsnActFlg=true;t.onPressSaveIntention()},onPressBalTransDM:function(){let e=this,t=this.getOwnerComponent().getModel(),n=this.getView().byId("idConsUnit"),i=[],o="/LedgerSet",s=new l({path:"BUnit",operator:d.EQ,value1:n.getSelectedI+
tem().getKey()});i.push(s);this.getBusyDialog().open();t.read(o,{filters:i,success:e._onLedgerSetSuccess.bind(this),error:e._onLedgerSetError.bind(this)})},_onLedgerSetSuccess:function(e){let t=this.getOwnerComponent().getModel(),i=this.getView().byId("i+
dConsUnit");this.oDataMonitorData=[];if(this.oMP){let e=new n;e.setData(this.oDataMonitorData);this.oMP.setModel(e);this.oMP.getModel().refresh()}let o=null;let s=0;for(let n=0;n<this.oJSONDMData.length;n++){let r=this.oJSONDMData[n].Gjahr;let a=this.oJS+
ONDMData[n].PeriodTo;let l="/BalanceTrasnferDataMonitor";if(r&&r.length>0){o={ConsolidationUnit:"'"+i.getSelectedItem().getKey()+"'",FiscalYear:"'"+r+"'",Ledger:"'"+e.results[s].RLDNR+"'",PeriodTo:"'"+a+"'",Intention:"'"+this.oJSONDMData[n].Intention+"'"+
}}else{o={ConsolidationUnit:"'"+i.getSelectedItem().getKey()+"'",FiscalYear:"'"+"'",Ledger:"'"+e.results[s].RLDNR+"'",PeriodTo:"'"+a+"'",Intention:"'"+this.oJSONDMData[n].Intention+"'"}}this._callDataMonitorFunctionImportRecursion(this,s,t,o,l,e.results.+
length,e.results)}},_callDataMonitorFunctionImportRecursion(e,t,n,i,o,s,r){let l=this;if(this.getBusyDialog()){this.getBusyDialog().open()}n.read(o,{method:"GET",urlParameters:i,success:function(a){t=t+1;if(s>t){for(let e=0;e<a.results.length;e++){l.oDat+
aMonitorData.push(a.results[e])}i.Ledger="'"+r[t].RLDNR+"'";l._callDataMonitorFunctionImportRecursion(l,t,n,i,o,s,r)}else if(s===t){for(let e=0;e<a.results.length;e++){l.oDataMonitorData.push(a.results[e])}l._generateMessagePopover(e,l.oDataMonitorData);+
l.getBusyDialog().close()}},error:function(e){l.getBusyDialog().close();a.error(l.getI18nText("errorDataMonitor"))}});n.submitChanges()},_generateMessagePopover:function(e,t){let i=e;this.getView().byId("idOverflowToolbar").setVisible(true);let r=new o({+
activeTitlePress:function(e){},items:{path:"/",template:new s({title:"{MessageText}",subtitle:"",activeTitle:false,type:{path:"Type",formatter:this.formatMessageType},description:"{MessageText}"})},groupItems:true});this.oMP=r;let a=new n;a.setData(t);r.+
setModel(a);this.getView().addDependent(r);this._buttonIconFormatter();this._buttonTextFormatter();this.getView().byId("idMessagePopoverBtn").setVisible(true);setTimeout(function(){r.openBy(this.getView().byId("idMessagePopoverBtn"))}.bind(this),100)},_b+
uttonIconFormatter:function(){var e;var t=this.oMP.getModel().getData();t.forEach(function(t){switch(t.Type){case"E":e="sap-icon://message-error";break;case"W":e=e!=="sap-icon://message-error"?"sap-icon://message-warning":e;break;case"S":e="sap-icon://me+
ssage-error"&&e!=="sap-icon://message-warning"?"sap-icon://message-success":e;break;default:e=!e?"sap-icon://message-information":e;break}});this.getView().byId("idMessagePopoverBtn").setIcon(e)},formatMessageType:function(e){if(e==="E"){return i.Message+
Type.Error}else if(e==="S"){return i.MessageType.Success}else{return i.MessageType.Warning}},_buttonTypeFormatter:function(){var e;var t=this.oMP.getModel().getData();t.forEach(function(t){switch(t.Type){case"E":e="Negative";break;case"W":e=e!=="Negative+
"?"Critical":e;break;case"S":e=e!=="Negative"&&e!=="Critical"?"Success":e;break;default:e=!e?"Neutral":e;break}});return e},_buttonTextFormatter:function(){let e=this._buttonTypeFormatter();let t=this.oMP.getModel().getData();let n;switch(e){case"Negativ+
e":n="Error";break;case"Critical":n="Warning";break;case"Success":n="Success";break;default:n=!n?"Information":n;break}this.getView().byId("idMessagePopoverBtn").setText(t.length)},onhandleMessagePopoverPress:function(e){this.oMP.toggle(e.getSource())},_+
onLedgerSetError:function(e){this.getBusyDialog().close();a.error(this.getI18nText("errorLedgerSet"))},onCloseToolbarPress:function(e){this.getView().byId("idOverflowToolbar").setVisible(false)},onItemSelectedForIntention:function(e){let t=this.getView()+
,n=this,i=t.byId("idEditPerdBtn"),o=e.getSource().getSelectedItem().getBindingContext("intentionsMappingModel").getPath(),s=o.split("/"),r=parseInt(s[1],[10]),a=e.getSource().getSelectedItem().getBindingContext("intentionsMappingModel").getObject(),l,d,g+
=[],u={};console.log(a);console.log(r);i.setEnabled(true);this.getModel("oPerRowModel").setData(a)},onCloseFooterPress:function(e){this.getView().byId("idOverflowToolbar").setVisible(false)},_formatIntentionStatusText:function(e){if(e===true){return"Clos+
ed"}else if(e===false){return"Open"}},handleMessagePopoverPress:function(e){this.oMP.toggle(e.getSource())},onNavigateObjectPage:function(e){let t=e.getSource().getSections(),i=this.getOwnerComponent().getModel(),o=this;for(let s=0;s<t.length;s++){if(e.g+
etSource().sDirectSectionId===t[s].getId()){if(s>0){o.getBusyDialog().open();i.read("/IntentionsMappingSet",{method:"GET",success:function(e){o.getBusyDialog().close();o.getView().setModel(new n(e.results),"intentionsMappingModel")},error:function(e){o.g+
etBusyDialog().close();a.error(o.getI18nText("errorFetchingIntentionsMapping"))}});break}}}}})});                                                                                                                                                              