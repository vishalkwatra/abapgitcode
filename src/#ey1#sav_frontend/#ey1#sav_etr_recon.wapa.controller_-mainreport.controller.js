sap.ui.define(["./BaseController","sap/ui/model/json/JSONModel","../model/formatter","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/m/MessageToast","sap/m/MessageBox","sap/ui/core/ListItem","sap/ui/core/format/NumberFormat","sap/ui/generic/app/+
navigation/service/NavigationHandler"],function(e,t,o,i,r,n,s,l,a,d){"use strict";const u="Local",T="Global";let c=[];return e.extend("ey.sap.fin.cs.effectivetaxrate.controller.MainReport",{formatter:o,onInit:function(){this.oRouter=this.getOwnerComponen+
t().getRouter();this.oRouter.getRoute("RouteMainReport").attachMatched(this._onRouteMatched,this);let e=new t;this.setModel(e,"viewConfigDataModel");this._fetchGlobalParameters()},_onRouteMatched:function(){this.getBusyDialog().close();this.getView().set+
Model(new t({results:[{key:"RGAAP",text:this.getI18nText("sBtnTextReportingGAAP")},{key:"SGAAP",text:this.getI18nText("sBtnTextStatutoryReporting")}]}),"modelReportingType")},_fetchGlobalParameters:function(){var e=this;var t=this.getOwnerComponent().get+
Model();t.callFunction("/GlobalParameter",{method:"GET",success:function(t){e.getView().getModel("viewConfigDataModel").setData({globalParameters:t});let o=e.getView().byId("idETRSmartFilterBar");if(!o.getCurrentVariantId()){e._setFilterBarParameters(t)}+
},error:function(t){s.error(e.getI18nText("errorReadingGlobalParameters"))}})},_setFilterBarParameters:function(e){let t=this.getView(),i=t.byId("idCurrency");if(e.LocalCurrencyType&&e.LocalCurrency){i.setSelectedKey(e.LocalCurrency)}else{i.setSelectedKe+
y(e.GroupCurrency)}if(e.ConsolidationUnit){t.byId("idConsUnit").setSelectedKey(e.ConsolidationUnit);i.setVisible(true);this._fetchCurrencyData(true);this.fetchReconLedgerData()}if(e.FiscalYear){let o=new Date("06/06/".concat(e.FiscalYear.toString()));t.b+
yId("idFiscalYearFilter").setDateValue(o)}if(e.Intention){t.byId("idIntentionComboBox").setSelectedKey(e.Intention)}var r=[e.ConsolidationUnit,e.FiscalYear];this._fetchIntentionStatus(r);if(e.PeriodFrom){t.byId("idPeriodFromInput").setValue(o.convertStri+
ngToInt(e.PeriodFrom))}if(e.PeriodTo){t.byId("idPeriodToInput").setValue(o.convertStringToInt(e.PeriodTo))}if(e.ConsolidationUnit&&e.FiscalYear&&e.Intention&&e.PeriodTo){this._fetchValidTaxRates()}},getI18nText:function(e){return this.getResourceBundle()+
.getText(e)},_fetchCurrencyData:function(e){var o=this.getView(),n=o.byId("idConsUnit").getSelectedKey(),s=new i("ConsolidationUnit",r.EQ,n),l=this.getModel(),a=this,d=o.byId("idCurrType"),u=o.byId("idCurrency");d.setVisible(true);u.setBusy(true);l.read(+
"/xEY1xSAV_C_CurrLocalGroupVH",{method:"GET",filters:[s],success:function(o,i){u.setBusy(false);a.setModel(new t(o),"currLocalGroupVHModel");if(!e&&o.results.length>0){u.setSelectedKey(o.results[0].Currency)}},error:function(e){u.setBusy(false)}})},_fetc+
hIntentionStatus:function(e){let o=this.getModel();let n=e[0],l=e[1],a="/xEY1xSAV_C_IntentionsStatus(p_bunit='"+n+"')/Set",d=new i("Gjahr",r.EQ,l),u=this,T=u.getView(),c=T.byId("idIntentionComboBox");this.getBusyDialog().open();o.read(a,{method:"GET",sor+
ters:[new sap.ui.model.Sorter("SerialNumber")],filters:[d],success:function(e,o){u.getBusyDialog().close();if(e.results.length===0){c.setSelectedKey("");c.setEnabled(false);s.error(u.getI18nText("IntentionNotYetOpen")+l);return}c.setEnabled(true);let i=u+
.getView().getModel("viewConfigDataModel").getData().globalParameters;c.setSelectedKey(i.Intention);let r=new t(e);u.getView().setModel(r,"intentionVHModel");u._managePeriodFieldsEditability(false)},error:function(e){u.getBusyDialog().close();s.error(u.g+
etI18nText("errorFetchingIntentionStatus"))}})},_managePeriodFieldsEditability:function(e){let t=this.getView(),i=t.byId("idIntentionComboBox");if(!e){i.setSelectedKey(i.getSelectedKey())}let r=i.getSelectedItem(),n=r.getBindingContext("intentionVHModel"+
).getObject();let s=t.byId("idPeriodToInput"),l=o.convertStringToInt(n.TaxIntention);if(l!==o.convertStringToInt(0)){this._manageIntentionStatus(n);s.setEditable(false);s.setValue(o.convertStringToInt(n.PeriodTo))}else{this._managePerodicIntentionStatus(+
n.PeriodTo);s.setEditable(true);s.setValue(o.convertStringToInt(n.CurrOpenPeriod))}},_manageIntentionStatus:function(e){let t=this;if(e.status===this.getI18nText("YetToOpen")){t.getBusyDialog().close();s.error(e.IntentDescription+" "+t.getI18nText("ThisI+
ntentionNotYetOpen")+e.Gjahr);return}else{return}},_managePerodicIntentionStatus:function(e){let t=this.getView().byId("idIntentionComboBox").getSelectedItem().getBindingContext("intentionVHModel").getObject(),o=parseInt(t.CurrOpenPeriod,[10]);if(e>o){th+
is.getBusyDialog().close();s.error(this.getModel("i18n").getResourceBundle().getText("errorPeriodnotopen",[e,o]));return}else{return}},fetchReconLedgerData:function(){let e=this.getModel();let t=e.createKey("/xEY1xSAV_C_Recon_Ledger",{bunit:this.byId("id+
ConsUnit").getSelectedKey()});let o=this;e.read(t,{method:"GET",success:function(e,t){var i=o.getModel("viewConfigDataModel");i.getData().reconData=e;i.refresh()},error:function(e){if(parseInt(e.statusCode,[10])!==404){n.show(o.getI18nText("reconServiceC+
allError"))}}})},_fetchValidTaxRates:function(){let e=this,t=this.getView(),o=t.byId("idConsUnit").getSelectedKey(),i=t.byId("idPeriodToInput").getValue(),r=t.byId("idFiscalYearFilter").getDateValue(),l=this.getModel();if(!o||!i||!r){return}let a=r.getFu+
llYear();if(!o||!i||!r||!a){return}let d="/xEY1xSAV_C_Get_Tax_Rate(p_toperiod='"+i+"',p_ryear='"+a+"',p_rbunit='"+o+"')/Set";l.read(d,{method:"GET",success:function(t){if(t.results.length<1){s.warning(e.getI18nText("warningTaxRatesNotMaintained"))}},erro+
r:function(t){n.show(e.getI18nText("warningFetchingTaxRates"))}})},_getIntentionForManageTier:function(){let e=this.getView().byId("idPeriodToInput").getValue(),t;if(parseInt(e,[10])<=3){t="Q1"}else if(parseInt(e,[10])>3&&parseInt(e,[10])<=6){t="Q2"}else+
 if(parseInt(e,[10])>6&&parseInt(e,[10])<=9){t="Q3"}else{t="TXP"}return t},_fetchTiers:function(){let e=this,o=this.getView(),r=o.byId("idConsUnit").getSelectedItem().getBindingContext().getObject().Country,l=o.byId("idFiscalYearFilter").getDateValue().g+
etFullYear(),a=o.byId("idIntentionComboBox").getSelectedKey(),d=this.getModel();if(a==="PER"){a=this._getIntentionForManageTier()}if(!r||!l||!a){return}let u="/xEY1xSAV_C_TIERS";d.read(u,{method:"GET",filters:[new i("CountryKey","EQ",r),new i("FiscalYear+
","EQ",l),new i("Intention","EQ",a)],success:function(o){if(o.results.length<1){s.warning(e.getI18nText("errorTiersNotMaintained"))}e.getView().setModel(new t(o),"ManageTiersModel")},error:function(t){n.show(e.getI18nText("warningFetchingTiers"))}})},_Em+
ptyTableCall:function(){let e=this.getView();e.byId("idTableITDCTR").getModel("ITDCTRTableModel").setData([]);e.byId("idITDCTRFooter").getModel("ITDCTRFooterTableModel").setData([]);e.byId("idTableSummaryTEB").getModel("SummaryTEBTableModel").setData([])+
;e.byId("idTableDDCTRTD").getModel("DDCTRTDTableModel").setData([]);e.byId("idDDCTRTDFooter").getModel("DDCTRFooterTableModel").setData([]);e.byId("idTableBDNDTCPD").getModel("BDNDTCPDTableModel").setData([]);e.byId("idBDNDTCPDFooter").getModel("BDNDTCPD+
FooterTableModel").setData([]);e.byId("idTablePTA").getModel("PTATableModel").setData([]);e.byId("idPTAFooter").getModel("PTAFooterTableModel").setData([]);e.byId("idTableCTRETD").getModel("CTRETDTableModel").setData([]);e.byId("idCTRETDFooter").getModel+
("CTRETDFooterTableModel").setData([])},_fetchAllTabsData:function(){let e=this.getView(),t=e.getModel("viewConfigDataModel").getData();if(!t.globalParameters||!t.globalParameters.ConsolidationChartofAccounts||!t.globalParameters.ConsolidationGroup){s.er+
ror(this.getI18nText("errorMaintainGlobalParameter"));return}let o=e.byId("idConsUnit"),n=o.getSelectedKey(),l=e.byId("idCurrency"),a=l.getSelectedKey(),d=l.getSelectedItem().getProperty("additionalText"),u=o.getSelectedItem().getBindingContext().getObje+
ct().Country,T=e.byId("idIntentionComboBox").getSelectedKey(),g=e.byId("idFiscalYearFilter"),p=g.getDateValue().getFullYear(),_=e.byId("idPeriodToInput"),h=parseInt(_.getValue(),[10]),C=e.byId("idPeriodFromInput"),f=parseInt(C.getValue(),[10]),y="X";if(e+
.byId("idIntentionComboBox").getEnabled()===false){s.error(this.getI18nText("IntentionNotYetOpen")+p);if(c.length>0){this._EmptyTableCall()}return}let I=e.byId("idIntentionComboBox").getSelectedItem().getBindingContext("intentionVHModel"),D=I.getObject()+
,b=parseInt(D.CurrOpenPeriod,[10]);if(D.status===this.getI18nText("YetToOpen")){this.getBusyDialog().close();s.error(D.IntentDescription+" "+this.getI18nText("ThisIntentionNotYetOpen")+D.Gjahr);if(c.length>0){this._EmptyTableCall()}return}if(h>b){this.ge+
tBusyDialog().close();s.error(this.getModel("i18n").getResourceBundle().getText("errorPeriodnotopen",[h,b]));if(c.length>0){this._EmptyTableCall()}return}let m=e.byId("idIntentionComboBox").getSelectedItem()?parseInt(e.byId("idIntentionComboBox").getSele+
ctedItem().getBindingContext("intentionVHModel").getObject().TaxIntention,[10]):t.globalParameters.TaxIntention,S=m>100?m:"",M=this.getView().byId("idFragContent--idETRReconSegmentedBtn"),w=this.getView().byId("idFragSnapContent--idETRReconSegmentedBtn")+
,x;if(T==="PER"){T=this._getIntentionForManageTier()}if(M.getSelectedKey()===w.getSelectedKey()){x=M.getSelectedKey()}else{x="RGAAP"}let R=[new i("ConsolidationUnit",r.EQ,n),new i("ChartOfAccounts",r.EQ,"CANA"),new i("ConsolidationChartofAccounts",r.EQ,t+
.globalParameters.ConsolidationChartofAccounts),new i("MainCurrency",r.EQ,a)],E=[new i("CurrencyType",r.EQ,d),new i("ReportingType",r.EQ,x)],B=new i({filters:[...R],and:true}),F=new i({filters:[...R,...E],and:true});c=[];let V="/xEY1xSAV_C_ETR_SUM_ITDCTR+
(p_rbunit='"+n+"',p_ryear='"+p+"',p_fromperiod='"+f+"',p_toperiod='"+h+"',p_switch='"+y+"',p_taxintention='"+S+"',p_currtype='"+d+"',p_intention='"+T+"')/Set";let P={p_cntry:u,p_ryear:p,p_fromperiod:f,p_toperiod:h,p_switch:y,p_taxintention:S,p_intention:+
T,p_rbunit:n,p_currtype:d,oMandFilters:B,oAllFilters:F};this._serviceCallITDCTR(V,P)},_serviceCallITDCTR:function(e,o){let i=this.getModel(),r=this.getView().byId("idTableITDCTR"),s=this.getView().byId("idITDCTRFooter"),l=this.getView().byId("idTableSumm+
aryTEB"),a=this;r.setBusy(true);s.setBusy(true);l.setBusy(true);i.read(e,{method:"GET",success:function(e,i){r.setBusy(false);r.setModel(new t(e),"ITDCTRTableModel");r.setVisibleRowCount(e.results.length);c.push(r.getModel("ITDCTRTableModel"));a._fetchRe+
mainingSections(o)},error:function(e){r.setBusy(false);n.show(a.getI18nText("ITDCTRServiceCallError"))}})},_fetchRemainingSections:function(e){let t="/xEY1xSAV_C_ETR_SUM_ITDCTRTotal(p_cntry='"+e.p_cntry+"',p_ryear='"+e.p_ryear+"',p_intention='"+e.p_inten+
tion+"')/Set";this._serviceCallITDCTRFooter(t,e.oMandFilters);let o="/xEY1xSAV_C_ETR_SUM_Overview(p_cntry='"+e.p_cntry+"',p_ryear='"+e.p_ryear+"',p_fromperiod='"+e.p_fromperiod+"',p_toperiod='"+e.p_toperiod+"',p_switch='"+e.p_switch+"',p_taxintention='"++
e.p_taxintention+"',p_intention='"+e.p_intention+"',p_rbunit='"+e.p_rbunit+"')/Set";this._serviceCallSummaryTEB(o,e.oAllFilters);let i="/xEY1xSAV_C_ETR_SUM_DDCTRTD(p_fromperiod='"+e.p_fromperiod+"',p_toperiod='"+e.p_toperiod+"',p_ryear='"+e.p_ryear+"',p_+
switch='"+e.p_switch+"',p_taxintention='"+e.p_taxintention+"',p_rbunit='"+e.p_rbunit+"')/Set";this._serviceCallSummaryDDCTRTD(i,e.oAllFilters);let r="/xEY1xSAV_C_ETR_SUM_DDCTRTotal(p_fromperiod='"+e.p_fromperiod+"',p_toperiod='"+e.p_toperiod+"',p_ryear='+
"+e.p_ryear+"',p_switch='"+e.p_switch+"',p_taxintention='"+e.p_taxintention+"',p_rbunit='"+e.p_rbunit+"')/Set";this._serviceCallSummaryDDCTRTDFooter(r,e.oAllFilters);let n="/xEY1xSAV_C_ETR_BDTPD_BDNDTPD(p_fromperiod='"+e.p_fromperiod+"',p_toperiod='"+e.p+
_toperiod+"',p_ryear='"+e.p_ryear+"',p_switch='"+e.p_switch+"',p_taxintention='"+e.p_taxintention+"',p_rbunit='"+e.p_rbunit+"')/Set";this._serviceCallBDNDTCPD(n,e.oAllFilters);let s="/xEY1xSAV_C_ETR_BDTPD_BDNDTotal(p_fromperiod='"+e.p_fromperiod+"',p_top+
eriod='"+e.p_toperiod+"',p_ryear='"+e.p_ryear+"',p_switch='"+e.p_switch+"',p_taxintention='"+e.p_taxintention+"',p_rbunit='"+e.p_rbunit+"')/Set";this._serviceCallBDNDTCPDFooter(s,e.oAllFilters);let l="/xEY1xSAV_C_ETR_PTA_Mvmnt(p_fromperiod='"+e.p_fromper+
iod+"',p_toperiod='"+e.p_toperiod+"',p_ryear='"+e.p_ryear+"',p_switch='"+e.p_switch+"',p_taxintention='"+e.p_taxintention+"',p_rbunit='"+e.p_rbunit+"')/Set";this._serviceCallPTA(l,e.oAllFilters);let a="/xEY1xSAV_C_ETR_PTA_Total(p_fromperiod='"+e.p_frompe+
riod+"',p_toperiod='"+e.p_toperiod+"',p_ryear='"+e.p_ryear+"',p_switch='"+e.p_switch+"',p_taxintention='"+e.p_taxintention+"',p_rbunit='"+e.p_rbunit+"')/Set";this._serviceCallPTAFooter(a,e.oAllFilters);let d="/xEY1xSAV_C_ETR_CTRTDCB(p_fromperiod='"+e.p_f+
romperiod+"',p_toperiod='"+e.p_toperiod+"',p_ryear='"+e.p_ryear+"',p_switch='"+e.p_switch+"',p_taxintention='"+e.p_taxintention+"',p_rbunit='"+e.p_rbunit+"')/Set";this._serviceCallCTRETD(d,e.oAllFilters);let u="/xEY1xSAV_C_ETR_CTRTDCBTotal(p_fromperiod='+
"+e.p_fromperiod+"',p_toperiod='"+e.p_toperiod+"',p_ryear='"+e.p_ryear+"',p_switch='"+e.p_switch+"',p_taxintention='"+e.p_taxintention+"',p_rbunit='"+e.p_rbunit+"')/Set";this._serviceCallCTRETDFooter(u,e.oAllFilters)},_serviceCallITDCTRFooter:function(e,+
o){let i=this.getModel(),r=this.getView().byId("idITDCTRFooter"),s=this;i.read(e,{method:"GET",filters:[o],success:function(e,o){if(e.results.length===0||s.getView().getModel("ManageTiersModel").getData().results.length===0){e.results=[{Percentage:"0.00"+
,Tax:"0.00"}]}r.setBusy(false);r.setModel(new t(e),"ITDCTRFooterTableModel");c.push(r.getModel("ITDCTRFooterTableModel"))},error:function(e){r.setBusy(false);n.show(s.getI18nText("ITDCTRServiceCallError"))}})},_serviceCallSummaryTEB:function(e,o){let i=t+
his.getModel(),r=this.getView().byId("idTableSummaryTEB"),s=this;i.read(e,{method:"GET",filters:[o],sorters:[new sap.ui.model.Sorter("SerialNo")],success:function(e,o){r.setBusy(false);r.setModel(new t(e),"SummaryTEBTableModel");r.setVisibleRowCount(e.re+
sults.length);c.push(r.getModel("SummaryTEBTableModel"))},error:function(e){r.setBusy(false);n.show(s.getI18nText("ITDCTRServiceCallError"))}})},_serviceCallSummaryDDCTRTD:function(e,o){let i=this.getModel(),r=this.getView().byId("idTableDDCTRTD"),s=this+
;i.read(e,{method:"GET",filters:[o],sorters:[new sap.ui.model.Sorter("GLAccount")],success:function(e,o){r.setBusy(false);r.setModel(new t(e),"DDCTRTDTableModel");r.setVisibleRowCount(e.results.length);c.push(r.getModel("DDCTRTDTableModel"))},error:funct+
ion(e){r.setBusy(false);n.show(s.getI18nText("DDCTRTDServiceCallError"))}})},_serviceCallSummaryDDCTRTDFooter:function(e,o){let i=this.getModel(),r=this.getView().byId("idDDCTRTDFooter"),s=this;i.read(e,{method:"GET",filters:[o],success:function(e,o){r.s+
etBusy(false);r.setModel(new t(e),"DDCTRFooterTableModel");c.push(r.getModel("DDCTRFooterTableModel"))},error:function(e){r.setBusy(false);n.show(s.getI18nText("DDCTRFooterServiceCallError"))}})},_serviceCallBDNDTCPD:function(e,o){let i=this.getModel(),r+
=this.getView().byId("idTableBDNDTCPD"),s=this;i.read(e,{method:"GET",filters:[o],sorters:[new sap.ui.model.Sorter("GLAccount")],success:function(e,o){r.setBusy(false);r.setModel(new t(e),"BDNDTCPDTableModel");r.setVisibleRowCount(e.results.length);c.pus+
h(r.getModel("BDNDTCPDTableModel"))},error:function(e){r.setBusy(false);n.show(s.getI18nText("BDNDTCPDServiceCallError"))}})},_serviceCallBDNDTCPDFooter:function(e,o){let i=this.getModel(),r=this.getView().byId("idBDNDTCPDFooter"),s=this;i.read(e,{method+
:"GET",filters:[o],success:function(e,o){r.setBusy(false);r.setModel(new t(e),"BDNDTCPDFooterTableModel");c.push(r.getModel("BDNDTCPDFooterTableModel"))},error:function(e){r.setBusy(false);n.show(s.getI18nText("BDNDTCPDFooterServiceCallError"))}})},_serv+
iceCallPTA:function(e,o){let i=this.getModel(),r=this.getView().byId("idTablePTA"),s=this;i.read(e,{method:"GET",filters:[o],sorters:[new sap.ui.model.Sorter("GLAccount")],success:function(e,o){r.setBusy(false);r.setModel(new t(e),"PTATableModel");r.setV+
isibleRowCount(e.results.length);c.push(r.getModel("PTATableModel"))},error:function(e){r.setBusy(false);n.show(s.getI18nText("PTAServiceCallError"))}})},_serviceCallPTAFooter:function(e,o){let i=this.getModel(),r=this.getView().byId("idPTAFooter"),s=thi+
s;i.read(e,{method:"GET",filters:[o],success:function(e,o){r.setBusy(false);r.setModel(new t(e),"PTAFooterTableModel");c.push(r.getModel("PTAFooterTableModel"))},error:function(e){r.setBusy(false);n.show(s.getI18nText("PTAFooterServiceCallError"))}})},_s+
erviceCallCTRETD:function(e,o){let i=this.getModel(),r=this.getView().byId("idTableCTRETD"),s=this;i.read(e,{method:"GET",filters:[o],sorters:[new sap.ui.model.Sorter("GLAccount")],success:function(e,o){r.setBusy(false);r.setModel(new t(e),"CTRETDTableMo+
del");r.setVisibleRowCount(e.results.length);c.push(r.getModel("CTRETDTableModel"))},error:function(e){r.setBusy(false);n.show(s.getI18nText("CTRETDServiceCallError"))}})},_serviceCallCTRETDFooter:function(e,o){let i=this.getModel(),r=this.getView().byId+
("idCTRETDFooter"),s=this;i.read(e,{method:"GET",filters:[o],success:function(e,o){r.setBusy(false);r.setModel(new t(e),"CTRETDFooterTableModel");c.push(r.getModel("CTRETDFooterTableModel"))},error:function(e){r.setBusy(false);n.show(s.getI18nText("CTRET+
DFooterServiceCallError"))}})},onSearchButtonPressed:function(e){this._fetchAllTabsData();this._fetchTiers()},onChangeDatePickerFilter:function(e){let t=e.getSource(),o=this.getModel("viewConfigDataModel").getData(),i=o.globalParameters.ConsolidationUnit+
;if(e.getParameter("valid")){t.setValueState("None");let e=t.getDateValue().getFullYear(),o=[i,e];this._fetchIntentionStatus(o)}else{t.setValueState("Error")}this._fetchValidTaxRates()},onConsUnitChange:function(e){this._fetchCurrencyData(false);this.fet+
chReconLedgerData();this._fetchValidTaxRates()},onChangeIntentionComboBox:function(e){let t=this.getView(),o=t.byId("idIntentionComboBox"),i=o.getSelectedItem();if(!i){o.setSelectedItem("");return}this._managePeriodFieldsEditability(true);this._fetchVali+
dTaxRates()},onLiveChangePeriodTo:function(){let e=this.getView().byId("idPeriodToInput");let t=parseInt(this.getView().byId("idPeriodFromInput").getValue(),[10]);let o=parseInt(e.getValue(),[10]);e.setValueState("None");if(o<t){e.setValueState("Error");+
e.setValueStateText(this.getI18nText("periodToLessThanPeriodFromErrorMsg"));return}else if(o>"012"){e.setValueState("Error");e.setValueStateText(this.getI18nText("periodToGreaterThanLastPeriod"));return}else{this._managePerodicIntentionStatus(o)}},onChan+
geButtonReportingType:function(e){let t=this.getView().byId("idFragContent--idETRReconSegmentedBtn"),o=this.getView().byId("idFragSnapContent--idETRReconSegmentedBtn");t.setSelectedKey(e.getSource().getSelectedKey());o.setSelectedKey(e.getSource().getSel+
ectedKey());let i=this.getView().byId("idETRSmartFilterBar");if(i.validateMandatoryFields()){i.fireSearch()}}})});                                                                                                                                             