sap.ui.define([                                                                                                                                                                                                                                                
	"./BaseController",                                                                                                                                                                                                                                           
	"sap/ui/model/json/JSONModel",                                                                                                                                                                                                                                
	"sap/ui/core/mvc/Controller",                                                                                                                                                                                                                                 
	"sap/ui/model/Filter",                                                                                                                                                                                                                                        
	"sap/ui/model/FilterOperator",                                                                                                                                                                                                                                
	"sap/m/MessageBox",                                                                                                                                                                                                                                           
	"sap/m/MessageToast",                                                                                                                                                                                                                                         
	"../model/formatter"                                                                                                                                                                                                                                          
], function (BaseController, JSONModel, Controller, Filter, FilterOperator, MessageBox, MessageToast, formatter) {                                                                                                                                             
	"use strict";                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
	return BaseController.extend("ey.sap.fin.cs.temporaryrollfwd.controller.JournalEntries", {                                                                                                                                                                    
		// set the formatter                                                                                                                                                                                                                                         
		formatter: formatter,                                                                                                                                                                                                                                        
		/**                                                                                                                                                                                                                                                          
		 * Called when a controller is instantiated and its View controls (if available) are already created.                                                                                                                                                        
		 * Can be used to modify the View before it is displayed, to bind event handlers and do other one-time initialization.                                                                                                                                       
		 * @memberOf ey.sap.fin.cs.temporaryrollfwd.view.JournalEntries                                                                                                                                                                                              
		 */                                                                                                                                                                                                                                                          
		onInit: function () {                                                                                                                                                                                                                                        
			this._oSmartTable = this.getView().byId("idJournalEntriesTable");                                                                                                                                                                                           
			this.oRouter = this.getOwnerComponent().getRouter();                                                                                                                                                                                                        
			this.oRouter.getRoute("JournalEntries").attachMatched(this._onRouteMatched, this);                                                                                                                                                                          
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_onRouteMatched: function () {                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			let oJournalEntryDataModel = this.getModel("JournalEntryData"),                                                                                                                                                                                             
				dCnsldtnVersion = sap.ui.getCore().getModel("viewCnlVersionModel").getData().ConsolidationVersion.results,                                                                                                                                                 
                                                                                                                                                                                                                                                               
				aCnsldtnVersionValues = [],                                                                                                                                                                                                                                
				aLedger = oJournalEntryDataModel.getProperty("/ConsolidationLedger"),                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
				sReportingType = oJournalEntryDataModel.getData().ReportingType,                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
				that = this,                                                                                                                                                                                                                                               
				dCnsldtnLedgerData = [];                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
			if (aLedger.length > 1) {                                                                                                                                                                                                                                   
				for (let i = 0; i < aLedger.length; i++) {                                                                                                                                                                                                                 
					for (let j = 0; j < dCnsldtnVersion.length; j++) {                                                                                                                                                                                                        
						if (dCnsldtnVersion[j].ConsolidationLedger === aLedger[i]) {                                                                                                                                                                                             
							dCnsldtnLedgerData.push(dCnsldtnVersion[j]);                                                                                                                                                                                                            
						}                                                                                                                                                                                                                                                        
					}                                                                                                                                                                                                                                                         
				}                                                                                                                                                                                                                                                          
			} else {                                                                                                                                                                                                                                                    
				dCnsldtnLedgerData = dCnsldtnVersion.filter(item => item.ConsolidationLedger === aLedger[0]);                                                                                                                                                              
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			let aG2SData = [],                                                                                                                                                                                                                                          
				aS2TData = [];                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			if (sReportingType === "RGAAP") {                                                                                                                                                                                                                           
				for (let i = 0; i < dCnsldtnLedgerData.length; i++) {                                                                                                                                                                                                      
					if (dCnsldtnLedgerData[i].ConsolidationLedger === aLedger[0]) {                                                                                                                                                                                           
						aG2SData.push(dCnsldtnLedgerData[i]);                                                                                                                                                                                                                    
					}                                                                                                                                                                                                                                                         
					if (dCnsldtnLedgerData[i].ConsolidationLedger === aLedger[1]) {                                                                                                                                                                                           
						aS2TData.push(dCnsldtnLedgerData[i]);                                                                                                                                                                                                                    
					}                                                                                                                                                                                                                                                         
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				aCnsldtnVersionValues.push(aG2SData[0]);                                                                                                                                                                                                                   
				aCnsldtnVersionValues.push(aS2TData[0]);                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
			} else {                                                                                                                                                                                                                                                    
				aCnsldtnVersionValues = [dCnsldtnLedgerData[0]];                                                                                                                                                                                                           
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			// Setting model to component, used in journal entries.                                                                                                                                                                                                     
			that.getOwnerComponent().setModel(new JSONModel(aCnsldtnVersionValues), "ledgerVersionModel");                                                                                                                                                              
                                                                                                                                                                                                                                                               
			// No warning Message Box is opened                                                                                                                                                                                                                         
			that.bIsMessageBoxOpen = false;                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			// Flag - FALSE if page load | TRUE if table refresh                                                                                                                                                                                                        
			that.bTableRefresh = false;                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
			if (oJournalEntryDataModel && oJournalEntryDataModel.getData()) {                                                                                                                                                                                           
				that._oSmartTable.rebindTable();                                                                                                                                                                                                                           
			} else {                                                                                                                                                                                                                                                    
				let oRouter = that.getRouter();                                                                                                                                                                                                                            
				that.getBusyDialog().open();                                                                                                                                                                                                                               
				oRouter.navTo("mainreport", {}, true);                                                                                                                                                                                                                     
			}                                                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		/***********************************************************************************************/                                                                                                                                                            
		/*********************************	Private Methods	********************************************/                                                                                                                                                             
		/**********************************************************************************************/                                                                                                                                                             
                                                                                                                                                                                                                                                               
		_onAdjustJECol: function () {                                                                                                                                                                                                                                
			var oTable = this.getView().byId("idJournalEntriesTable").getTable();                                                                                                                                                                                       
			var aCols = oTable.getColumns();                                                                                                                                                                                                                            
			for (var i = aCols.length - 1; i >= 0; i--) {                                                                                                                                                                                                               
				oTable.autoResizeColumn(i);                                                                                                                                                                                                                                
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			this.getBusyDialog().close();                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_findTableSumRow: function () {                                                                                                                                                                                                                              
			let oTable = this.getView().byId("idJournalEntriesTable");                                                                                                                                                                                                  
			let oInnerTable = oTable.getTable();                                                                                                                                                                                                                        
			let aTableRows = oInnerTable.getRows();                                                                                                                                                                                                                     
			let sVisibleRowCount = oInnerTable.getVisibleRowCount();                                                                                                                                                                                                    
			if (!aTableRows[sVisibleRowCount - 1] || !aTableRows[sVisibleRowCount - 1].getBindingContext()) {                                                                                                                                                           
				for (let i = 0; i < (aTableRows.length + 1); i++) {                                                                                                                                                                                                        
					if (!aTableRows[i].getBindingContext()) {                                                                                                                                                                                                                 
						return i - 1;                                                                                                                                                                                                                                            
					}                                                                                                                                                                                                                                                         
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			return sVisibleRowCount - 1;                                                                                                                                                                                                                                
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_findTableSumRowData: function (index) {                                                                                                                                                                                                                     
			let oTable = this.getView().byId("idJournalEntriesTable").getTable();                                                                                                                                                                                       
			let sumRowData;                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			if (oTable.getRows()[index] && oTable.getRows()[index].getBindingContext()) {                                                                                                                                                                               
				let sBindingPath = oTable.getRows()[index].getBindingContext().sPath;                                                                                                                                                                                      
				sumRowData = oTable.getModel().getProperty(sBindingPath);                                                                                                                                                                                                  
			}                                                                                                                                                                                                                                                           
			return sumRowData;                                                                                                                                                                                                                                          
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_compareSyncedValues: function (sumRowData, bTableRefresh) {                                                                                                                                                                                                 
			let oJournalEntryDataModel = this.getModel("JournalEntryData").getData();                                                                                                                                                                                   
			let oHeaderValue = this.getView().byId("idJEValueHeader");                                                                                                                                                                                                  
			// IF SUMMED row data not available, do not execute code                                                                                                                                                                                                    
			if ((sumRowData && sumRowData.LocalCurrency !== oJournalEntryDataModel.selectedCurrency && !sumRowData.AmountInLocalCurrency) ||                                                                                                                            
				(sumRowData && sumRowData.GroupCurrency !== oJournalEntryDataModel.selectedCurrency && !sumRowData.AmountInGroupCurrency)) {                                                                                                                               
				MessageToast.show(this.getResourceBundle().getText("errorCurrencyColumnNotSelected"));                                                                                                                                                                     
				return;                                                                                                                                                                                                                                                    
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if ((sumRowData && oJournalEntryDataModel.selectedCurrency === sumRowData.LocalCurrency && parseInt(                                                                                                                                                        
					oJournalEntryDataModel.Value, [10]) !== parseInt(sumRowData.AmountInLocalCurrency, [10])) || (sumRowData &&                                                                                                                                               
					oJournalEntryDataModel.selectedCurrency === sumRowData.GroupCurrency && parseInt(oJournalEntryDataModel.Value, [10]) !==                                                                                                                                  
					parseInt(                                                                                                                                                                                                                                                 
						sumRowData.AmountInGroupCurrency, [10]))) {                                                                                                                                                                                                              
				oHeaderValue.setState("Warning");                                                                                                                                                                                                                          
				if (!this.bIsMessageBoxOpen) {                                                                                                                                                                                                                             
					this._initializeWarningMessageBox(bTableRefresh);                                                                                                                                                                                                         
				}                                                                                                                                                                                                                                                          
			} else {                                                                                                                                                                                                                                                    
				oHeaderValue.setState("Success");                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_initializeWarningMessageBox: function (bTableRefresh) {                                                                                                                                                                                                     
			this.bIsMessageBoxOpen = true;                                                                                                                                                                                                                              
			let that = this;                                                                                                                                                                                                                                            
			MessageBox.warning(this.getResourceBundle().getText("errorMsgSumValueDiffTableSync"), {                                                                                                                                                                     
				actions: [MessageBox.Action.OK],                                                                                                                                                                                                                           
				onClose: function (sAction) {                                                                                                                                                                                                                              
					that.bIsMessageBoxOpen = false;                                                                                                                                                                                                                           
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		/***********************************************************************************************/                                                                                                                                                            
		/*********************************	Event Handlers	********************************************/                                                                                                                                                              
		/**********************************************************************************************/                                                                                                                                                             
                                                                                                                                                                                                                                                               
		onBeforeRebindJournalEntries: function (oEvent) {                                                                                                                                                                                                            
			                                                                                                                                                                                                                                                            
			this.getView().byId("idJETaxIntentionDesc").setVisible(true);                                                                                                                                                                                               
			let oModel = this.getView().getModel("JournalEntryData"),                                                                                                                                                                                                   
				aUserFilter = oEvent.getParameter("bindingParams").filters,                                                                                                                                                                                                
				oFFilter;                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
			// Dynamically modify the filter operator for Fiscal Year depending on that column is selected.                                                                                                                                                             
			let oFiscalYearFilterOperator = FilterOperator.EQ;                                                                                                                                                                                                          
			if (oModel.getProperty("/bIsOpeningBalanceEntry")) {                                                                                                                                                                                                        
				oFiscalYearFilterOperator = FilterOperator.LT;                                                                                                                                                                                                             
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			let aMandFilters = [new Filter("ConsolidationGroup", FilterOperator.EQ, oModel.getProperty("/ConsolidationGroup")),                                                                                                                                         
				new Filter("GLAccount", FilterOperator.EQ, oModel.getProperty("/GLAccount")),                                                                                                                                                                              
				new Filter("PeriodMode", FilterOperator.EQ, oModel.getProperty("/PeriodMode")),                                                                                                                                                                            
				new Filter("FiscalPeriod", FilterOperator.BT, oModel.getProperty("/PeriodFrom"), oModel.getProperty("/PeriodTo")),                                                                                                                                         
				new Filter("FiscalYear", oFiscalYearFilterOperator, oModel.getProperty("/FiscalYear")),                                                                                                                                                                    
				new Filter("RefConsolidationDocumentType", FilterOperator.EQ, oModel.getProperty("/RefConsolidationDocumentType")),                                                                                                                                        
				new Filter("CompanyCode", FilterOperator.EQ, oModel.getProperty("/ConsolidatioUnit"))                                                                                                                                                                      
			];                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			// ADD Intention Filter if Selected                                                                                                                                                                                                                         
			if (oModel.getProperty("/SelectedIntention")) {                                                                                                                                                                                                             
				aMandFilters.push(new Filter("TaxIntention", FilterOperator.LE, oModel.getProperty("/SelectedIntention")));                                                                                                                                                
			} else {                                                                                                                                                                                                                                                    
				aMandFilters.push(new Filter("TaxIntention", FilterOperator.EQ, ''));                                                                                                                                                                                      
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			// if user filters available - add them to mandatory filters.                                                                                                                                                                                               
			if (aUserFilter.length > 0) {                                                                                                                                                                                                                               
				//  Using the spread operator to concat the array content.                                                                                                                                                                                                 
				aMandFilters = [...aMandFilters, ...aUserFilter];                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			// MANDATORY FILTERS                                                                                                                                                                                                                                        
			let aMandtFilters = new Filter({                                                                                                                                                                                                                            
				filters: aMandFilters,                                                                                                                                                                                                                                     
				and: true                                                                                                                                                                                                                                                  
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			// CONSOLIDATION LEDGER FILTERS                                                                                                                                                                                                                             
			let oCnsldtnLedgerFilter = [];                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			let reconData = this.getOwnerComponent().getModel("reconLedgerModel").getData(),                                                                                                                                                                            
				ledgerVersionData = this.getOwnerComponent().getModel("ledgerVersionModel").getData(),                                                                                                                                                                     
				ss2tVersion,                                                                                                                                                                                                                                               
				sg2sVersion,                                                                                                                                                                                                                                               
				aSgaapLedger;                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			for (var i = 0; i < ledgerVersionData.length; i++) {                                                                                                                                                                                                        
				if (reconData.s2t === ledgerVersionData[i].ConsolidationLedger) {                                                                                                                                                                                          
					ss2tVersion = ledgerVersionData[i].ConsolidationVersion;                                                                                                                                                                                                  
				}                                                                                                                                                                                                                                                          
				if (reconData.g2s === ledgerVersionData[i].ConsolidationLedger) {                                                                                                                                                                                          
					sg2sVersion = ledgerVersionData[i].ConsolidationVersion;                                                                                                                                                                                                  
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			aSgaapLedger = new Filter({                                                                                                                                                                                                                                 
				filters: [                                                                                                                                                                                                                                                 
					new Filter("ConsolidationLedger", FilterOperator.EQ, reconData.s2t),                                                                                                                                                                                      
					new Filter("LedgerGroup", FilterOperator.NE, "G2S"),                                                                                                                                                                                                      
					new Filter("ConsolidationVersion", FilterOperator.EQ, ss2tVersion)                                                                                                                                                                                        
				],                                                                                                                                                                                                                                                         
				and: true                                                                                                                                                                                                                                                  
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			if (oModel.getProperty("/ReportingType") === "RGAAP") {                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
				let aRGaapLedger = new Filter({                                                                                                                                                                                                                            
					filters: [                                                                                                                                                                                                                                                
						new Filter("ConsolidationLedger", FilterOperator.EQ, reconData.g2s),                                                                                                                                                                                     
						new Filter("ConsolidationVersion", FilterOperator.EQ, sg2sVersion)                                                                                                                                                                                       
					],                                                                                                                                                                                                                                                        
					and: true                                                                                                                                                                                                                                                 
				});                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
				oCnsldtnLedgerFilter = new Filter({                                                                                                                                                                                                                        
					filters: [aRGaapLedger, aSgaapLedger]                                                                                                                                                                                                                     
				});                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			} else {                                                                                                                                                                                                                                                    
				oCnsldtnLedgerFilter = new Filter({                                                                                                                                                                                                                        
					filters: [aSgaapLedger]                                                                                                                                                                                                                                   
				});                                                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			oFFilter = [aMandtFilters, oCnsldtnLedgerFilter];                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			// TRANSACTION TYPE FILTERS                                                                                                                                                                                                                                 
			let aTrnscnTypes = oModel.getProperty("/FinancialTransactionType"),                                                                                                                                                                                         
				oTrnscnTypesFilter = [],                                                                                                                                                                                                                                   
				aOrFilter = [];                                                                                                                                                                                                                                            
			if (aTrnscnTypes.length > 0) {                                                                                                                                                                                                                              
				for (let i = 0; i < aTrnscnTypes.length; i++) {                                                                                                                                                                                                            
					aOrFilter.push(new Filter("FinancialTransactionType", FilterOperator.EQ, aTrnscnTypes[i]));                                                                                                                                                               
				}                                                                                                                                                                                                                                                          
				oTrnscnTypesFilter = new Filter({                                                                                                                                                                                                                          
					filters: aOrFilter                                                                                                                                                                                                                                        
				});                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
				oFFilter = new Filter({                                                                                                                                                                                                                                    
					filters: [aMandtFilters, oCnsldtnLedgerFilter, oTrnscnTypesFilter],                                                                                                                                                                                       
					and: true                                                                                                                                                                                                                                                 
				});                                                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			var encodeURI = encodeURIComponent("datetime'2018-12-31T00:00:00'");                                                                                                                                                                                        
			var sBindingPath =                                                                                                                                                                                                                                          
				"/xEY1xSAV_C_CnsldtnJrnlEntry(P_ConsolidationUnitHierarchy='$',P_ConsolidationPrftCtrHier='$',P_ConsolidationSegmentHier='$',P_KeyDate=" +                                                                                                                 
				encodeURI + ")/Results";                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
			this.getView().byId("idJournalEntriesTable").setTableBindingPath(sBindingPath);                                                                                                                                                                             
			var oBindingParams = oEvent.getParameter("bindingParams");                                                                                                                                                                                                  
			oBindingParams.filters = [oFFilter];                                                                                                                                                                                                                        
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onPressConsDoc: function (oEvent) {                                                                                                                                                                                                                          
			let oBindedContext = oEvent.getSource().getBindingContext(),                                                                                                                                                                                                
				sConsolidationDocumentNumber = oBindedContext.getProperty("RefConsolidationDocumentNumber"),                                                                                                                                                               
				sCompanyCode = oBindedContext.getProperty("CompanyCode"),                                                                                                                                                                                                  
				iCounter = sCompanyCode;                                                                                                                                                                                                                                   
			while (iCounter.length < 4) {                                                                                                                                                                                                                               
				iCounter = "0" + iCounter;                                                                                                                                                                                                                                 
			}                                                                                                                                                                                                                                                           
			var sFiscalYear = this.getView().getModel("JournalEntryData").getProperty("/FiscalYear");                                                                                                                                                                   
			var oNavigationParams = {                                                                                                                                                                                                                                   
				"AccountingDocument": sConsolidationDocumentNumber,                                                                                                                                                                                                        
				"CompanyCode": iCounter,                                                                                                                                                                                                                                   
				"FiscalYear": sFiscalYear                                                                                                                                                                                                                                  
			};                                                                                                                                                                                                                                                          
			this.performCrossAppNavigation("AccountingDocument", "manage", true, oNavigationParams);                                                                                                                                                                    
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onJEntriesDataReceived: function (oEvent) {                                                                                                                                                                                                                  
			this.getBusyDialog().open();                                                                                                                                                                                                                                
			let oView = this.getView(),                                                                                                                                                                                                                                 
				oTITextColumn = oView.byId("idJETaxIntentionDesc"),                                                                                                                                                                                                        
				oTIItemColumn = oView.byId("idJETaxIntention");                                                                                                                                                                                                            
			var oIntervalCall = window.setInterval(function (e) {                                                                                                                                                                                                       
				this._onAdjustJECol();                                                                                                                                                                                                                                     
				this._compareSyncedValues(this._findTableSumRowData(this._findTableSumRow()), this.bTableRefresh);                                                                                                                                                         
					if (oTIItemColumn.getGrouped()) {                                                                                                                                                                                                                         
					oTITextColumn.setVisible(true);                                                                                                                                                                                                                           
				} else {                                                                                                                                                                                                                                                   
					oTITextColumn.setVisible(false);                                                                                                                                                                                                                          
				}                                                                                                                                                                                                                                                          
				window.clearInterval(oIntervalCall);                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			}.bind(this), 1000);                                                                                                                                                                                                                                        
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onPressJEDataSync: function (oEvent) {                                                                                                                                                                                                                       
			// Flag - FALSE if page load | TRUE if table refresh                                                                                                                                                                                                        
			this.bTableRefresh = true;                                                                                                                                                                                                                                  
			this._oSmartTable.rebindTable();                                                                                                                                                                                                                            
			// this._compareSyncedValues(this._findTableSumRowData(this._findTableSumRow()), true);                                                                                                                                                                     
                                                                                                                                                                                                                                                               
		}                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
	});                                                                                                                                                                                                                                                           
});                                                                                                                                                                                                                                                            