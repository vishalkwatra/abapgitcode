sap.ui.define([                                                                                                                                                                                                                                                
	"./BaseController",                                                                                                                                                                                                                                           
	"sap/ui/model/json/JSONModel",                                                                                                                                                                                                                                
	"sap/m/MessagePopover",                                                                                                                                                                                                                                       
	"sap/m/MessageItem",                                                                                                                                                                                                                                          
	"sap/ui/core/message/Message",                                                                                                                                                                                                                                
	"sap/ui/core/library",                                                                                                                                                                                                                                        
	"sap/ui/core/Core",                                                                                                                                                                                                                                           
	"../model/formatter",                                                                                                                                                                                                                                         
	"sap/ui/model/Filter",                                                                                                                                                                                                                                        
	"sap/ui/model/FilterOperator",                                                                                                                                                                                                                                
	"sap/m/MessageToast",                                                                                                                                                                                                                                         
	"sap/m/MessageBox",                                                                                                                                                                                                                                           
	"sap/ui/core/ListItem",                                                                                                                                                                                                                                       
	"sap/ui/comp/navpopover/NavigationPopoverHandler",                                                                                                                                                                                                            
	"sap/ui/model/BindingMode",                                                                                                                                                                                                                                   
	"sap/viz/ui5/data/FlattenedDataset",                                                                                                                                                                                                                          
	"sap/viz/ui5/format/ChartFormatter",                                                                                                                                                                                                                          
	"sap/viz/ui5/api/env/Format"                                                                                                                                                                                                                                  
], function (BaseController, JSONModel, MessagePopover, MessageItem, Message, coreLibrary, core, formatter, Filter, FilterOperator,                                                                                                                            
	MessageToast, MessageBox, ListItem, NavigationPopoverHandler,                                                                                                                                                                                                 
	BindingMode, FlattenedDataset, ChartFormatter, Format) {                                                                                                                                                                                                      
	"use strict";                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
	let bAreAllTableRowsSelectedGlobal = false,                                                                                                                                                                                                                   
		bValidateTT = false,                                                                                                                                                                                                                                         
		//comp code will have a default value initially                                                                                                                                                                                                              
		bValidateCC = false,                                                                                                                                                                                                                                         
		//	bValidatePer = false,                                                                                                                                                                                                                                     
		bGLforPrftCntr = false,                                                                                                                                                                                                                                      
		iCount = 0;                                                                                                                                                                                                                                                  
	let oSapUiCore = sap.ui.getCore();                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
	return BaseController.extend("ey.sap.fin.cs.recgaapstattax.controller.Worklist", {                                                                                                                                                                            
		formatter: formatter,                                                                                                                                                                                                                                        
		/* =========================================================== */                                                                                                                                                                                            
		/* lifecycle methods                                           */                                                                                                                                                                                            
		/* =========================================================== */                                                                                                                                                                                            
		/**                                                                                                                                                                                                                                                          
		 * Called when the worklist controller is instantiated.                                                                                                                                                                                                      
		 * @public                                                                                                                                                                                                                                                   
		 */                                                                                                                                                                                                                                                          
		onInit: function () {                                                                                                                                                                                                                                        
			let oView = this.getView();                                                                                                                                                                                                                                 
			this.oRouter = this.getOwnerComponent().getRouter();                                                                                                                                                                                                        
			this.oRouter.getRoute("Reconciliation").attachMatched(this._onRouteMatched, this);                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			this.g2seditable = false;                                                                                                                                                                                                                                   
			//model for CompCode VH validation                                                                                                                                                                                                                          
			let oCompCodeModel = new JSONModel();                                                                                                                                                                                                                       
			this.setModel(oCompCodeModel, "VHCompCodeModel");                                                                                                                                                                                                           
			//model for TT VH validation                                                                                                                                                                                                                                
			let oTTVHModel = new JSONModel();                                                                                                                                                                                                                           
			this.setModel(oTTVHModel, "VHTTModel");                                                                                                                                                                                                                     
			//model company code from consdtn unit                                                                                                                                                                                                                      
			let oCompnyCodeValModel = new JSONModel();                                                                                                                                                                                                                  
			this.setModel(oCompnyCodeValModel, "CompnyCodeValModel");                                                                                                                                                                                                   
			//model for Period validation                                                                                                                                                                                                                               
			let oPeriodValModel = new JSONModel();                                                                                                                                                                                                                      
			oView.setModel(oPeriodValModel, "PeriodValModel");                                                                                                                                                                                                          
			let oGLAccVHModel = new JSONModel(),                                                                                                                                                                                                                        
				oPrftCentrVHModel = new JSONModel(),                                                                                                                                                                                                                       
				oCostCntrVHModel = new JSONModel();                                                                                                                                                                                                                        
			this.setModel(oGLAccVHModel, "GLAccVHModel");                                                                                                                                                                                                               
			this.setModel(oPrftCentrVHModel, "PrftCentrVHModel");                                                                                                                                                                                                       
			this.setModel(oCostCntrVHModel, "CostCntrVHModel");                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			this._fetchGlobalParameters();                                                                                                                                                                                                                              
			this._fetchAdjustmentReasons();                                                                                                                                                                                                                             
			//this._fetchDefaultParameters();                                                                                                                                                                                                                           
			this._fetchValueHelp("/xEY1xSAV_C_CompCodeVH", oCompCodeModel);                                                                                                                                                                                             
			this._fetchValueHelp("/xEY1xSAV_C_AdjReasn_VH", oTTVHModel);                                                                                                                                                                                                
			//	this._fetchValueHelp("/xEY1xC_JOURNAL_ENTRY_TYPE_VH", oDTVHModel);                                                                                                                                                                                       
			//this._fetchValueHelp("/xEY1xSAV_C_ReadIntentVH", oPeriodValModel);                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			// PTA Entries Config model - EMPTY                                                                                                                                                                                                                         
			let oModel = new JSONModel({});                                                                                                                                                                                                                             
			this.getOwnerComponent().setModel(oModel, "postPTAEntriesConfigModel");                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			//error msg handling in post journal                                                                                                                                                                                                                        
			let oMsgModel = new JSONModel();                                                                                                                                                                                                                            
			this.setModel(oMsgModel, "PostJrnMsgModel");                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
			let oPostJournlModel = new JSONModel();                                                                                                                                                                                                                     
			oView.setModel(oPostJournlModel, "postJournalModel");                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			let oLedgrModel = new JSONModel();                                                                                                                                                                                                                          
			oView.setModel(oLedgrModel, "LedgrModel");                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
			let oContrlAreaModel = new JSONModel();                                                                                                                                                                                                                     
			oView.setModel(oContrlAreaModel, "ContrlAreaModel");                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			let oEditPostJrnlModel = new JSONModel({                                                                                                                                                                                                                    
				"editIntention": false                                                                                                                                                                                                                                     
			});                                                                                                                                                                                                                                                         
			oView.setModel(oEditPostJrnlModel, "editPostJrnlModel");                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
			// Defaulting FiscalYear                                                                                                                                                                                                                                    
			// this.getView().byId("idFiscalYearFilter").setDateValue(new Date());                                                                                                                                                                                      
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onAfterRendering: function () {                                                                                                                                                                                                                              
			let oAppConfig = sap.ushell.services.AppConfiguration,                                                                                                                                                                                                      
				sMenuItemText = this.getI18nText("textMenuItemCTAForPnL"),                                                                                                                                                                                                 
				that = this;                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			// Initializing the Fragment, as the data is not available untill the App setting button is clicked.                                                                                                                                                        
			if (!this._oAppSettingDialogCTA) {                                                                                                                                                                                                                          
				this._oAppSettingDialogCTA = sap.ui.xmlfragment("ey.sap.fin.cs.recgaapstattax.fragment.AppSettingCTA", this);                                                                                                                                              
				this.getView().addDependent(this._oAppSettingDialogCTA);                                                                                                                                                                                                   
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			let oAppSettingsBtnCTA = new sap.m.Button({                                                                                                                                                                                                                 
				text: sMenuItemText,                                                                                                                                                                                                                                       
				press: function (oEvent) {                                                                                                                                                                                                                                 
					if (!that._oAppSettingDialogCTA) {                                                                                                                                                                                                                        
						that._oAppSettingDialogCTA = sap.ui.xmlfragment("ey.sap.fin.cs.recgaapstattax.fragment.AppSettingCTA", that);                                                                                                                                            
						that.getView().addDependent(that._oAppSettingDialogCTA);                                                                                                                                                                                                 
					}                                                                                                                                                                                                                                                         
					that._oAppSettingDialogCTA.open();                                                                                                                                                                                                                        
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			oAppConfig.addApplicationSettingsButtons([oAppSettingsBtnCTA]);                                                                                                                                                                                             
			                                                                                                                                                                                                                                                            
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onBeforeRebindTable: function (oEvent) {                                                                                                                                                                                                                     
			let oView = this.getView(),                                                                                                                                                                                                                                 
				globalParameterData = oView.getModel("viewConfigDataModel").getData();                                                                                                                                                                                     
			if (!globalParameterData.globalParameters || !globalParameterData.globalParameters.ConsolidationChartofAccounts || !                                                                                                                                        
				globalParameterData.globalParameters.ConsolidationGroup) {                                                                                                                                                                                                 
				MessageBox.error(this.getI18nText("errorMaintainGlobalParameter"));                                                                                                                                                                                        
				return;                                                                                                                                                                                                                                                    
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			let idConsUnit = oView.byId("idConsUnit"),                                                                                                                                                                                                                  
				oConsUnit = idConsUnit.getSelectedKey(),                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
				// Currency Filter Data                                                                                                                                                                                                                                    
				idCurrType = oView.byId("idCurrency"),                                                                                                                                                                                                                     
				sCurrencyUnit = idCurrType.getSelectedKey(),                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
				// Fiscal Year Filter Data                                                                                                                                                                                                                                 
				oFiscalYear = oView.byId("idFiscalYearFilter"),                                                                                                                                                                                                            
				sFiscalYearVal = oFiscalYear.getDateValue().getFullYear(),                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
				// PeriodFrom & PeriodTo Filter Data                                                                                                                                                                                                                       
				oPeriodFrom = oView.byId("idPeriodFromInput"),                                                                                                                                                                                                             
				oPeriodTo = oView.byId("idPeriodToInput"),                                                                                                                                                                                                                 
				paramFromYb = parseInt(oPeriodFrom.getValue(), [10]),                                                                                                                                                                                                      
				paramToYb = parseInt(oPeriodTo.getValue(), [10]),                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				// CTA Switch Data                                                                                                                                                                                                                                         
				oIsCTAIncluded = this._oAppSettingDialogCTA.getContent().find(item => item.getId() === "idAppSettingsCTAIsCTAIncludedCheckBox"),                                                                                                                           
				sIsCTAIncluded = oIsCTAIncluded.getSelected() ? 'X' : '';                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
			//For The future year intention&nbsp;                                                                                                                                                                                                                       
			if (oView.byId("idIntentionComboBox").getEnabled() === false) {                                                                                                                                                                                             
				MessageBox.error(this.getI18nText("IntentionNotYetOpen") + sFiscalYearVal);                                                                                                                                                                                
				this.oGlobalSmartTable.setTableBindingPath('');                                                                                                                                                                                                            
				return;                                                                                                                                                                                                                                                    
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			// Intention Filter Data                                                                                                                                                                                                                                    
			let oIntentionBinding = oView.byId("idIntentionComboBox").getSelectedItem().getBindingContext("intentionVHModel"),                                                                                                                                          
				oSelectedData = oIntentionBinding.getObject(),                                                                                                                                                                                                             
				iCurrentPeriod = parseInt(oSelectedData.CurrOpenPeriod, [10]);                                                                                                                                                                                             
			//For future yet to open intention                                                                                                                                                                                                                          
			if (oSelectedData.status === this.getI18nText("YetToOpen")) {                                                                                                                                                                                               
				this.getBusyDialog().close();                                                                                                                                                                                                                              
				MessageBox.error((this.getModel("i18n").getResourceBundle().getText("ThisIntentionNotYetOpen", [oSelectedData.IntentDescription,                                                                                                                           
					oSelectedData.Gjahr                                                                                                                                                                                                                                       
				])));                                                                                                                                                                                                                                                      
				//MessageBox.error(oSelectedData.IntentDescription + " " + this.getI18nText("ThisIntentionNotYetOpen") + oSelectedData.Gjahr);                                                                                                                             
				this.oGlobalSmartTable.setTableBindingPath('');                                                                                                                                                                                                            
				return;                                                                                                                                                                                                                                                    
			}                                                                                                                                                                                                                                                           
			//For future toperiod of yet to open intention                                                                                                                                                                                                              
			if (paramToYb > iCurrentPeriod) {                                                                                                                                                                                                                           
				this.getBusyDialog().close();                                                                                                                                                                                                                              
				MessageBox.error(this.getModel("i18n").getResourceBundle().getText("errorPeriodnotopen", [paramToYb, iCurrentPeriod]));                                                                                                                                    
				this.oGlobalSmartTable.setTableBindingPath('');                                                                                                                                                                                                            
				return;                                                                                                                                                                                                                                                    
			}                                                                                                                                                                                                                                                           
			let iTaxIntentionVal = parseInt(oSelectedData.TaxIntention, [10]),                                                                                                                                                                                          
				iIntent = oSelectedData.TaxIntention,                                                                                                                                                                                                                      
				intentionValue = iTaxIntentionVal > 12 ? iTaxIntentionVal : "",                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
				// Other Variable declaration                                                                                                                                                                                                                              
				oMandFilters, oUserFilters, oFilters;                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			oMandFilters = new Filter({                                                                                                                                                                                                                                 
				filters: [new Filter("ConsolidationUnit", FilterOperator.EQ, oConsUnit),                                                                                                                                                                                   
					//new Filter("ChartOfAccounts", FilterOperator.EQ, "CANA"),                                                                                                                                                                                               
					new Filter("ConsolidationChartofAccounts", FilterOperator.EQ, globalParameterData.globalParameters.ConsolidationChartofAccounts),                                                                                                                         
					new Filter("MainCurrency", FilterOperator.EQ, sCurrencyUnit)                                                                                                                                                                                              
				],                                                                                                                                                                                                                                                         
				and: true                                                                                                                                                                                                                                                  
			});                                                                                                                                                                                                                                                         
			oFilters = oMandFilters;                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
			//	If user selected filters - generate Filters for it                                                                                                                                                                                                       
			if (oEvent.getParameter("bindingParams").filters.length > 0) {                                                                                                                                                                                              
				oUserFilters = new Filter({                                                                                                                                                                                                                                
					filters: oEvent.getParameter("bindingParams").filters                                                                                                                                                                                                     
				});                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
				oFilters = new Filter({                                                                                                                                                                                                                                    
					filters: [oMandFilters, oUserFilters],                                                                                                                                                                                                                    
					and: true                                                                                                                                                                                                                                                 
				});                                                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			// If value < 0, then take 0	-----	If value > 12 then take 12&nbsp;                                                                                                                                                                                         
			paramFromYb = paramFromYb ? (paramFromYb < 0 ? 0 : (paramFromYb > 12 ? 12 : paramFromYb)) : 1;                                                                                                                                                              
			paramToYb = paramToYb ? (paramToYb < 0 ? 0 : (paramToYb > 12 ? 12 : paramToYb)) : 12;                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			let sBindingPath = "/xEY1xSAV_C_Reconciliation(p_ryear='" + sFiscalYearVal + "',p_fromyb='" + paramFromYb + "',p_toyb='" +                                                                                                                                  
				paramToYb + "',p_switch='" + sIsCTAIncluded + "',p_taxintention='" + intentionValue + "',p_intention='" + iIntent +                                                                                                                                        
				"')/Results";                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			this.oGlobalSmartTable.setTableBindingPath(sBindingPath);                                                                                                                                                                                                   
			let oBindingParams = oEvent.getParameter("bindingParams");                                                                                                                                                                                                  
			oBindingParams.filters = [oFilters];                                                                                                                                                                                                                        
			//	Appending '0' for PeriodTo field.                                                                                                                                                                                                                        
			// oPeriodTo.setValue(paramToYb.toString().padStart(3, "0"));                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			// Adding binding path for PTA entries                                                                                                                                                                                                                      
			let postPTAEntryConfigModel = this.getOwnerComponent().getModel("postPTAEntriesConfigModel");                                                                                                                                                               
			postPTAEntryConfigModel.getData().sServicePath = sBindingPath;                                                                                                                                                                                              
			postPTAEntryConfigModel.getData().oMainServiceFilters = oFilters;                                                                                                                                                                                           
			postPTAEntryConfigModel.setData(postPTAEntryConfigModel.getData());                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		/* =========================================================== */                                                                                                                                                                                            
		/* ------------------------PRIVATE--------------------------   */                                                                                                                                                                                            
		/* =========================================================== */                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
		_onRouteMatched: function () {                                                                                                                                                                                                                               
			this.getBusyDialog().close();                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			// Declare global variables here                                                                                                                                                                                                                            
			this.oGlobalSmartTable = this.getView().byId("idgaaptostat");                                                                                                                                                                                               
			this.oGlobalPostPTAEntriesConfigModel = this.getOwnerComponent().getModel("postPTAEntriesConfigModel");                                                                                                                                                     
                                                                                                                                                                                                                                                               
			// If user Posted any PTA entry & Navigated back - check if there is any document number                                                                                                                                                                    
			if (this.oGlobalPostPTAEntriesConfigModel.getProperty("/DocumentNumber")) {                                                                                                                                                                                 
				this.oGlobalPostPTAEntriesConfigModel.setProperty("/DocumentNumber", null);                                                                                                                                                                                
				this.oGlobalSmartTable.rebindTable();                                                                                                                                                                                                                      
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_fetchDefaultParameters: function () {                                                                                                                                                                                                                       
			let that = this,                                                                                                                                                                                                                                            
				sServiceURL = "/Defaultparameters('FIN')",                                                                                                                                                                                                                 
				oModel = this.getOwnerComponent().getModel("userDefaultParameters"),                                                                                                                                                                                       
				oDefDataModel = new JSONModel();                                                                                                                                                                                                                           
			this.setModel(oDefDataModel, "defParamModel");                                                                                                                                                                                                              
			oModel.read(sServiceURL, {                                                                                                                                                                                                                                  
				method: "GET",                                                                                                                                                                                                                                             
				success: function (oData, oResponse) {                                                                                                                                                                                                                     
					oDefDataModel.setData(oData);                                                                                                                                                                                                                             
					if (oData.CompanyCode != "") {                                                                                                                                                                                                                            
						that._fetchCurrencyForPostGen(oData.CompanyCode, false);                                                                                                                                                                                                 
					}                                                                                                                                                                                                                                                         
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
					MessageToast.show(that.getI18nText("defParamServiceCallError"));                                                                                                                                                                                          
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_fetchValueHelp: function (sServiceURL, oJsnModel) {                                                                                                                                                                                                         
			let that = this,                                                                                                                                                                                                                                            
				oModel;                                                                                                                                                                                                                                                    
			if (sServiceURL === "/xEY1xSAV_C_ReadIntentVH") {                                                                                                                                                                                                           
				oModel = this.getOwnerComponent().getModel();                                                                                                                                                                                                              
			} else {                                                                                                                                                                                                                                                    
				oModel = this.getOwnerComponent().getModel("postAdjModel");                                                                                                                                                                                                
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			oModel.read(sServiceURL, {                                                                                                                                                                                                                                  
				method: "GET",                                                                                                                                                                                                                                             
				success: function (oData, oResponse) {                                                                                                                                                                                                                     
					oJsnModel.setData(oData.results);                                                                                                                                                                                                                         
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
					MessageToast.show(that.getI18nText("VHServiceCallError"));                                                                                                                                                                                                
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_fetchValueHelpwithFilter: function (sServiceURL, oJsnModel, sCompCode) {                                                                                                                                                                                    
			let that = this,                                                                                                                                                                                                                                            
				oFilter = new Filter("CompanyCode", FilterOperator.EQ, sCompCode),                                                                                                                                                                                         
				oModel = this.getOwnerComponent().getModel("postAdjModel");                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
			oModel.read(sServiceURL, {                                                                                                                                                                                                                                  
				method: "GET",                                                                                                                                                                                                                                             
				filters: [oFilter],                                                                                                                                                                                                                                        
				success: function (oData, oResponse) {                                                                                                                                                                                                                     
					oJsnModel.setData([]);                                                                                                                                                                                                                                    
					oJsnModel.setData(oData.results);                                                                                                                                                                                                                         
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
					MessageToast.show(that.getI18nText("VHServiceCallError"));                                                                                                                                                                                                
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_fetchPeriodVal: function (sCompanyCode) {                                                                                                                                                                                                                   
			let oServiceCallModel = this.getOwnerComponent().getModel("postAdjModel"),                                                                                                                                                                                  
				oSF = this.byId("smartForm"),                                                                                                                                                                                                                              
				oBjSF = oServiceCallModel.getProperty(oSF.getBindingContext().getPath()),                                                                                                                                                                                  
				sServiceURL = "/PeriodSet",                                                                                                                                                                                                                                
				that = this,                                                                                                                                                                                                                                               
				oPostData = {                                                                                                                                                                                                                                              
					"CompanyCode": sCompanyCode,                                                                                                                                                                                                                              
					"PostingDate": oBjSF.PstngDate.toJSON()                                                                                                                                                                                                                   
				};                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			oServiceCallModel.read(sServiceURL, {                                                                                                                                                                                                                       
				method: "GET",                                                                                                                                                                                                                                             
				urlParameters: oPostData,                                                                                                                                                                                                                                  
				success: function (oData, oResponse) {                                                                                                                                                                                                                     
					console.log(oData.results[0].ReturnPeriod);                                                                                                                                                                                                               
					that.getModel("PeriodValModel").setData([]);                                                                                                                                                                                                              
					that.getModel("PeriodValModel").setData(oData.results[0].ReturnPeriod);                                                                                                                                                                                   
					oServiceCallModel.setProperty(oSF.getBindingContext().getPath() + "/FisPeriod", oData.results[0].ReturnPeriod);                                                                                                                                           
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_fetchPeriodForIntention: function (sIntent) {                                                                                                                                                                                                               
			let oServiceCallModel = this.getOwnerComponent().getModel("postAdjModel"),                                                                                                                                                                                  
				oSF = this.byId("smartForm"),                                                                                                                                                                                                                              
				sServiceURL = "/xEY1xC_PERIODTO_FROM_INTENTION",                                                                                                                                                                                                           
				that = this,                                                                                                                                                                                                                                               
				oFilter = new Filter("Intention", FilterOperator.EQ, sIntent);                                                                                                                                                                                             
			oServiceCallModel.read(sServiceURL, {                                                                                                                                                                                                                       
				method: "GET",                                                                                                                                                                                                                                             
				filters: [oFilter],                                                                                                                                                                                                                                        
				success: function (oData, oResponse) {                                                                                                                                                                                                                     
					console.log(oData.results[0].PeriodTo);                                                                                                                                                                                                                   
					that.getModel("PeriodValModel").setData([]);                                                                                                                                                                                                              
					that.getModel("PeriodValModel").setData(oData.results[0].PeriodTo);                                                                                                                                                                                       
					oServiceCallModel.setProperty(oSF.getBindingContext().getPath() + "/FisPeriod", oData.results[0].PeriodTo);                                                                                                                                               
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
		_fetchCostElemCat: function (sGLAcc, sCA, sPath) {                                                                                                                                                                                                           
			let that = this,                                                                                                                                                                                                                                            
				aDefParam = this.getModel("defParamModel").getData(),                                                                                                                                                                                                      
				sCostcenter = aDefParam.CostCenter,                                                                                                                                                                                                                        
				//	sCostcenter = "101000",                                                                                                                                                                                                                                 
				sProfitCtr = aDefParam.ProfitCenter,                                                                                                                                                                                                                       
				sControlArea = aDefParam.ControllingArea,                                                                                                                                                                                                                  
				//	sProfitCtr = "101000",                                                                                                                                                                                                                                  
				oFilters = new Filter({                                                                                                                                                                                                                                    
					filters: [new Filter("GLAccount", FilterOperator.EQ, sGLAcc),                                                                                                                                                                                             
						new Filter("ControllingArea", FilterOperator.EQ, sCA)                                                                                                                                                                                                    
					],                                                                                                                                                                                                                                                        
					and: true                                                                                                                                                                                                                                                 
				}),                                                                                                                                                                                                                                                        
				oModel = this.getOwnerComponent().getModel("postAdjModel");                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
			oModel.read("/xEY1xSAV_C_CostElement", {                                                                                                                                                                                                                    
				method: "GET",                                                                                                                                                                                                                                             
				filters: [oFilters],                                                                                                                                                                                                                                       
				success: function (oData, oResponse) {                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
					if (oData.results.length > 0) {                                                                                                                                                                                                                           
						//	if (oData.results[0].ControllingArea === sControlArea) {                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
						if (parseInt(oData.results[0].CostElementCat, [10]) === 1) {                                                                                                                                                                                             
							oModel.setProperty(sPath + "/Costcenter", sCostcenter);                                                                                                                                                                                                 
							oModel.setProperty(sPath + "/ProfitCtr", '');                                                                                                                                                                                                           
						} else if (parseInt(oData.results[0].CostElementCat, [10]) === 11) {                                                                                                                                                                                     
							oModel.setProperty(sPath + "/Costcenter", '');                                                                                                                                                                                                          
							oModel.setProperty(sPath + "/ProfitCtr", sProfitCtr);                                                                                                                                                                                                   
						} else {                                                                                                                                                                                                                                                 
							if (!bGLforPrftCntr) {                                                                                                                                                                                                                                  
								oModel.setProperty(sPath + "/ProfitCtr", sProfitCtr);                                                                                                                                                                                                  
								oModel.setProperty(sPath + "/Costcenter", '');                                                                                                                                                                                                         
								bGLforPrftCntr = true;                                                                                                                                                                                                                                 
							}                                                                                                                                                                                                                                                       
						}                                                                                                                                                                                                                                                        
						//	}                                                                                                                                                                                                                                                     
					} else {                                                                                                                                                                                                                                                  
						if (!bGLforPrftCntr) {                                                                                                                                                                                                                                   
							oModel.setProperty(sPath + "/ProfitCtr", sProfitCtr);                                                                                                                                                                                                   
							oModel.setProperty(sPath + "/Costcenter", '');                                                                                                                                                                                                          
							bGLforPrftCntr = true;                                                                                                                                                                                                                                  
						}                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
					}                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
					MessageToast.show(that.getI18nText("VHServiceCallError"));                                                                                                                                                                                                
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_fetchGlobalParameters: function () {                                                                                                                                                                                                                        
			var that = this;                                                                                                                                                                                                                                            
			var oGlobalParameterData = {                                                                                                                                                                                                                                
				"Default": true                                                                                                                                                                                                                                            
			};                                                                                                                                                                                                                                                          
			var oModel = this.getOwnerComponent().getModel();                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			let oReconDataModel = new JSONModel();                                                                                                                                                                                                                      
			this.setModel(oReconDataModel, "viewConfigDataModel");                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			oModel.callFunction("/GlobalParameter", {                                                                                                                                                                                                                   
				method: "GET",                                                                                                                                                                                                                                             
				urlParameters: oGlobalParameterData,                                                                                                                                                                                                                       
				success: function (oData) {                                                                                                                                                                                                                                
					// Saving global parameters in Model                                                                                                                                                                                                                      
					that.getView().getModel("viewConfigDataModel").setData({                                                                                                                                                                                                  
						"globalParameters": oData                                                                                                                                                                                                                                
					});                                                                                                                                                                                                                                                       
					// that._setFilterBarParameters(oData);                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
					// If 'VARIANT' is being used, Do Not over write global parameters                                                                                                                                                                                        
					let oFilterBar = that.getView().byId("idsmartFilterBar");                                                                                                                                                                                                 
					if (!oFilterBar.getCurrentVariantId()) {                                                                                                                                                                                                                  
						that._setFilterBarParameters(oData);                                                                                                                                                                                                                     
					}                                                                                                                                                                                                                                                         
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
					MessageBox.error(that.getI18nText("errorReadingGlobalParameters"));                                                                                                                                                                                       
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
		_setFilterBarParameters: function (oGlobalParameters) {                                                                                                                                                                                                      
			let oView = this.getView(),                                                                                                                                                                                                                                 
				oCurrency = oView.byId("idCurrency");                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			if (oGlobalParameters.ConsolidationUnit) {                                                                                                                                                                                                                  
				oView.byId("idConsUnit").setSelectedKey(oGlobalParameters.ConsolidationUnit);                                                                                                                                                                              
				this.fetchReconLedgerData();                                                                                                                                                                                                                               
				oCurrency.setVisible(true);                                                                                                                                                                                                                                
				this._fetchCurrencyData(true);                                                                                                                                                                                                                             
				this._fetchCompCode();                                                                                                                                                                                                                                     
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (oGlobalParameters.FiscalYear) {                                                                                                                                                                                                                         
				// Generating a Date mid-year 6th of June - with provided fiscal year.                                                                                                                                                                                     
				let oFiscalYearDate = new Date("06/06/".concat(oGlobalParameters.FiscalYear.toString()));                                                                                                                                                                  
				oView.byId("idFiscalYearFilter").setDateValue(oFiscalYearDate);                                                                                                                                                                                            
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (oGlobalParameters.Intention) {                                                                                                                                                                                                                          
				oView.byId("idIntentionComboBox").setSelectedKey(oGlobalParameters.Intention);                                                                                                                                                                             
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			// Fetch data for Intention. This is independent of Intention data stored in Global Parameter App.                                                                                                                                                          
			//	this._fetchIntentionData(oparam);                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			var aParam = [oGlobalParameters.ConsolidationUnit, oGlobalParameters.FiscalYear];                                                                                                                                                                           
			this._fetchIntentionStatus(aParam);                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			if (oGlobalParameters.PeriodFrom) {                                                                                                                                                                                                                         
				oView.byId("idPeriodFromInput").setValue(formatter.convertStringToInt(oGlobalParameters.PeriodFrom));                                                                                                                                                      
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (oGlobalParameters.PeriodTo) {                                                                                                                                                                                                                           
				oView.byId("idPeriodToInput").setValue(formatter.convertStringToInt(oGlobalParameters.PeriodTo));                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			this._fetchPostingDate();                                                                                                                                                                                                                                   
			if (oGlobalParameters.LocalCurrencyType && oGlobalParameters.LocalCurrency) {                                                                                                                                                                               
				oCurrency.setSelectedKey(oGlobalParameters.LocalCurrency);                                                                                                                                                                                                 
			} else {                                                                                                                                                                                                                                                    
				oCurrency.setSelectedKey(oGlobalParameters.GroupCurrency);                                                                                                                                                                                                 
			}                                                                                                                                                                                                                                                           
			this._formatG2SEnablity();                                                                                                                                                                                                                                  
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_fetchAdjustmentReasons: function () {                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			let oModel = this.getOwnerComponent().getModel();                                                                                                                                                                                                           
			let sServiceURL = "/xEY1xSAV_C_Recon_Adj_Reason";                                                                                                                                                                                                           
			let that = this;                                                                                                                                                                                                                                            
			oModel.read(sServiceURL, {                                                                                                                                                                                                                                  
				method: "GET",                                                                                                                                                                                                                                             
				success: function (oData, oResponse) {                                                                                                                                                                                                                     
					var oReconModel = that.getModel("viewConfigDataModel");                                                                                                                                                                                                   
					oReconModel.getData().adjustmentReason = oData.results;                                                                                                                                                                                                   
					oReconModel.refresh();                                                                                                                                                                                                                                    
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
					if (parseInt(oError.statusCode, [10]) !== 404) {                                                                                                                                                                                                          
						MessageToast.show(that.getI18nText("reconServiceCallError"));                                                                                                                                                                                            
					}                                                                                                                                                                                                                                                         
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		// _addTextLabelToSumRow: function (oTable) {                                                                                                                                                                                                                
		// 	var aTableRows = oTable.getRows();                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
		// 	try {                                                                                                                                                                                                                                                    
		// 		for (var i = 0; i < aTableRows.length; i++) {                                                                                                                                                                                                           
		// 			if (!aTableRows[i].getCells()[0].getValue()) {                                                                                                                                                                                                         
		// 				aTableRows[i].getCells()[0].setValue(this.getI18nText("BalanceCheckSumLabel"));                                                                                                                                                                       
		// 				break;                                                                                                                                                                                                                                                
		// 			}                                                                                                                                                                                                                                                      
		// 		}                                                                                                                                                                                                                                                       
		// 	} catch (oError) {                                                                                                                                                                                                                                       
		// 		this.getBusyDialog().close();                                                                                                                                                                                                                           
		// 	}                                                                                                                                                                                                                                                        
		// },                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
		_fetchCnsldVersion: function () {                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
			let oServiceCallModel = this.getModel(),                                                                                                                                                                                                                    
				oReconLedgerData = this.getModel("viewConfigDataModel").getData(),                                                                                                                                                                                         
				sCongr = oReconLedgerData.globalParameters.ConsolidationGroup,                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
				sServiceUrl = "/xEY1xSAV_C_Get_Version(p_congr='" + sCongr + "')/Set",                                                                                                                                                                                     
				that = this,                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
				oCnlVersionModel = new JSONModel();                                                                                                                                                                                                                        
			sap.ui.getCore().setModel(oCnlVersionModel, "viewCnlVersionModel");                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			oServiceCallModel.read(sServiceUrl, {                                                                                                                                                                                                                       
				method: "GET",                                                                                                                                                                                                                                             
				sorters: [                                                                                                                                                                                                                                                 
					new sap.ui.model.Sorter("FiscalYear")                                                                                                                                                                                                                     
				],                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
				success: function (oData, oResponse) {                                                                                                                                                                                                                     
					sap.ui.getCore().getModel("viewCnlVersionModel").setData({                                                                                                                                                                                                
						"ConsolidationVersion": oData                                                                                                                                                                                                                            
					});                                                                                                                                                                                                                                                       
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
					if (parseInt(oError.statusCode, [10]) !== 404) {                                                                                                                                                                                                          
						MessageToast.show(that.getI18nText("GetConsolidationVersionServiceCallError"));                                                                                                                                                                          
					}                                                                                                                                                                                                                                                         
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_createJournalEntriesFilterData: function (oEvent) {                                                                                                                                                                                                         
			let oBindingContext = oEvent.getSource().getBindingContext();                                                                                                                                                                                               
			// If SUM row is clicked, then Do Not Execute code further                                                                                                                                                                                                  
			if (!oBindingContext.getProperty("GLAccount")) {                                                                                                                                                                                                            
				return;                                                                                                                                                                                                                                                    
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			let oReconLedgerData = this.getModel("viewConfigDataModel").getData(),                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
				oFiscalYear = this.getView().byId("idFiscalYearFilter"),                                                                                                                                                                                                   
				sFiscalYearVal = oFiscalYear.getDateValue().getFullYear(),                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
				oPeriodFrom = parseInt(this.getView().byId("idPeriodFromInput").getValue(), [10]),                                                                                                                                                                         
				oPeriodTo = parseInt(this.getView().byId("idPeriodToInput").getValue(), [10]),                                                                                                                                                                             
				oCnsldtnUnit = this.getView().byId("idConsUnit"),                                                                                                                                                                                                          
				oLocalOrGroupCurrency = this.getView().byId("idCurrency"),                                                                                                                                                                                                 
				oSelectedIntention = this.getView().byId("idIntentionComboBox").getSelectedItem().getBindingContext("intentionVHModel").getObject(),                                                                                                                       
				sIntentValue = formatter.convertStringToInt(oSelectedIntention.PeriodTo) === 0 ? '' : formatter.convertStringToInt(                                                                                                                                        
					oSelectedIntention.TaxIntention),                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
				aControlCustomData = oEvent.getSource().getCustomData(),                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
				// If multiple Custom Data controls are maintained, select the one which is used for Ledger Mapping                                                                                                                                                        
				sMappedLedgerValue = "",                                                                                                                                                                                                                                   
				aMappedTransType = [],                                                                                                                                                                                                                                     
				sNavLedger = "",                                                                                                                                                                                                                                           
				sCongr = oReconLedgerData.globalParameters.ConsolidationGroup;                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			for (let obj of aControlCustomData) {                                                                                                                                                                                                                       
				let sCustomDataValue = obj.getValue();                                                                                                                                                                                                                     
				let sCustomDataKey = obj.getKey();                                                                                                                                                                                                                         
				if (sCustomDataKey === "mappedLedger" && sCustomDataValue === "GAAPLedger") {                                                                                                                                                                              
					sMappedLedgerValue = oReconLedgerData.reconData.gaap;                                                                                                                                                                                                     
					continue;                                                                                                                                                                                                                                                 
				} else if (sCustomDataKey === "mappedLedger" && sCustomDataValue === "GAAPToSTATLedger") {                                                                                                                                                                 
					sMappedLedgerValue = oReconLedgerData.reconData.g2s;                                                                                                                                                                                                      
					// sMappedLedgerGroup = "G2S";                                                                                                                                                                                                                            
					continue;                                                                                                                                                                                                                                                 
				} else if (sCustomDataKey === "mappedLedger" && sCustomDataValue === "STATLedger") {                                                                                                                                                                       
					sMappedLedgerValue = oReconLedgerData.reconData.stat;                                                                                                                                                                                                     
					continue;                                                                                                                                                                                                                                                 
				} else if (sCustomDataKey === "mappedLedger" && sCustomDataValue === "STATToTAXLedger") {                                                                                                                                                                  
					sMappedLedgerValue = oReconLedgerData.reconData.s2t;                                                                                                                                                                                                      
					// sMappedLedgerGroup = "";                                                                                                                                                                                                                               
					sNavLedger = sCustomDataValue;                                                                                                                                                                                                                            
					continue;                                                                                                                                                                                                                                                 
				} else if (sCustomDataKey === "mappedLedger" && sCustomDataValue === "TAXLedger") {                                                                                                                                                                        
					sMappedLedgerValue = oReconLedgerData.reconData.tax;                                                                                                                                                                                                      
					continue;                                                                                                                                                                                                                                                 
				} else if (sCustomDataKey === "mappedAdjReason" && (sCustomDataValue === "P&L" || sCustomDataValue === "EQ" || sCustomDataValue ===                                                                                                                        
						"OP&L" || sCustomDataValue === "OPERMANENT" || sCustomDataValue === "OEQ" || sCustomDataValue === "PERMANENT")) {                                                                                                                                        
					for (let i = 0; i < oReconLedgerData.adjustmentReason.length; i++) {                                                                                                                                                                                      
						if (oReconLedgerData.adjustmentReason[i].AdjustmentReason === sCustomDataValue) {                                                                                                                                                                        
							aMappedTransType.push(oReconLedgerData.adjustmentReason[i].TransType);                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
						}                                                                                                                                                                                                                                                        
					}                                                                                                                                                                                                                                                         
					continue;                                                                                                                                                                                                                                                 
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			let sGLAccount = oBindingContext.getProperty("GLAccount").padStart(10, "0");                                                                                                                                                                                
                                                                                                                                                                                                                                                               
			// Find Column heading Text                                                                                                                                                                                                                                 
			let oBindingParts = oEvent.getSource().getBindingInfo("text").parts,                                                                                                                                                                                        
				linkedProperty = oBindingParts[oBindingParts.map(item => item.path.indexOf("MainCurrency") !== 0).indexOf(true)].path;                                                                                                                                     
                                                                                                                                                                                                                                                               
			//  Find the Binded entity Set Property List                                                                                                                                                                                                                
			let propertyData = this.serviceDataProperty.property;                                                                                                                                                                                                       
			propertyData = propertyData[propertyData.map(item => item.name).indexOf(linkedProperty)];                                                                                                                                                                   
			let labelData = propertyData.extensions;                                                                                                                                                                                                                    
			labelData = labelData[labelData.map(item => item.name).indexOf("label")];                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
			return {                                                                                                                                                                                                                                                    
				"ConsolidationChartOfAccounts": oReconLedgerData.globalParameters.ConsolidationChartofAccounts,                                                                                                                                                            
				"FiscalYear": sFiscalYearVal,                                                                                                                                                                                                                              
				"PeriodFrom": oPeriodFrom || "1",                                                                                                                                                                                                                          
				"PeriodTo": oPeriodTo || "12",                                                                                                                                                                                                                             
				"ConsolidatioUnit": oCnsldtnUnit.getSelectedKey(),                                                                                                                                                                                                         
				"ConsolidationLedger": sMappedLedgerValue,                                                                                                                                                                                                                 
				"Value": oBindingContext.getProperty(linkedProperty),                                                                                                                                                                                                      
				"Currency": oBindingContext.getProperty("MainCurrency"),                                                                                                                                                                                                   
				"GLAccount": sGLAccount,                                                                                                                                                                                                                                   
				"GLAccountDesc": oBindingContext.getProperty("GLAccountMdmText"),                                                                                                                                                                                          
				"ConsolidationVersion": "",                                                                                                                                                                                                                                
				"SelectedIntention": sIntentValue,                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
				"ConsolidationGroup": "",                                                                                                                                                                                                                                  
				"PeriodMode": "PER",                                                                                                                                                                                                                                       
				"RefConsolidationDocumentType": "W",                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
				// Currently selected currency                                                                                                                                                                                                                             
				"selectedCurrency": oLocalOrGroupCurrency.getSelectedKey(),                                                                                                                                                                                                
				//	Column heading                                                                                                                                                                                                                                          
				"SectionName": labelData.value,                                                                                                                                                                                                                            
				"FinancialTransactionType": aMappedTransType,                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
				"NavLedger": sNavLedger,                                                                                                                                                                                                                                   
				"Congr": sCongr                                                                                                                                                                                                                                            
			};                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_createPTAEntriesFilterData: function (oEvent) {                                                                                                                                                                                                             
			let oBindingContext = oEvent.getSource().getBindingContext(),                                                                                                                                                                                               
				oFiscalYear = this.getView().byId("idFiscalYearFilter"),                                                                                                                                                                                                   
				sFiscalYearVal = oFiscalYear.getDateValue().getFullYear(),                                                                                                                                                                                                 
				oPeriodFrom = parseInt(this.getView().byId("idPeriodFromInput").getValue(), [10]),                                                                                                                                                                         
				oPeriodTo = parseInt(this.getView().byId("idPeriodToInput").getValue(), [10]),                                                                                                                                                                             
				oCnsldtnUnit = this.getView().byId("idConsUnit"),                                                                                                                                                                                                          
				sGLAccount = oBindingContext.getProperty("GLAccount"),                                                                                                                                                                                                     
				iTaxIntentionVal = parseInt(this.getView().byId("idIntentionComboBox").getSelectedItem().getBindingContext("intentionVHModel").getObject()                                                                                                                 
					.TaxIntention, [10]),                                                                                                                                                                                                                                     
				sIntentValue = iTaxIntentionVal > 12 ? iTaxIntentionVal : "";                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			// Find Column heading Text                                                                                                                                                                                                                                 
			// let linkedProperty = oEvent.getSource().getBindingInfo("text").parts[0].path;                                                                                                                                                                            
			let oBindingParts = oEvent.getSource().getBindingInfo("text").parts,                                                                                                                                                                                        
				linkedProperty = oBindingParts[oBindingParts.map(item => item.path.indexOf("MainCurrency") !== 0).indexOf(true)].path;                                                                                                                                     
                                                                                                                                                                                                                                                               
			// Find the Binded entity Set Property List                                                                                                                                                                                                                 
			let propertyData = this.serviceDataProperty.property;                                                                                                                                                                                                       
			// propertyData = propertyData.find(tempPropertyData => tempPropertyData.name === linkedProperty);                                                                                                                                                          
			propertyData = propertyData[propertyData.map(item => item.name).indexOf(linkedProperty)];                                                                                                                                                                   
			let labelData = propertyData.extensions;                                                                                                                                                                                                                    
			// labelData = labelData.find(tempLabelData => tempLabelData.name === "label");                                                                                                                                                                             
			labelData = labelData[labelData.map(item => item.name).indexOf("label")];                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
			return {                                                                                                                                                                                                                                                    
				"FiscalYear": sFiscalYearVal,                                                                                                                                                                                                                              
				"PeriodFrom": oPeriodFrom,                                                                                                                                                                                                                                 
				"PeriodTo": oPeriodTo,                                                                                                                                                                                                                                     
				"ConsolidationUnit": oCnsldtnUnit.getSelectedKey(),                                                                                                                                                                                                        
				"Value": oBindingContext.getProperty(linkedProperty),                                                                                                                                                                                                      
				"Currency": oBindingContext.getProperty("MainCurrency"),                                                                                                                                                                                                   
				"GLAccount": sGLAccount,                                                                                                                                                                                                                                   
				"GLAccountDesc": oBindingContext.getProperty("GLAccountMdmText"),                                                                                                                                                                                          
				"SectionName": labelData.value,                                                                                                                                                                                                                            
				"SelectedIntention": sIntentValue                                                                                                                                                                                                                          
			};                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
		_fetchCurrencyForPostGen: function (sComCode, bPostLoad) {                                                                                                                                                                                                   
			let oFilter = new Filter("CompanyCode", FilterOperator.EQ, sComCode),                                                                                                                                                                                       
				oServiceCallModel = this.getModel("postAdjModel"),                                                                                                                                                                                                         
				oSF = this.byId("smartForm"),                                                                                                                                                                                                                              
				that = this;                                                                                                                                                                                                                                               
			oServiceCallModel.read("/xEY1xSAV_C_CompCodeCurr", {                                                                                                                                                                                                        
				method: "GET",                                                                                                                                                                                                                                             
				filters: [oFilter],                                                                                                                                                                                                                                        
				success: function (oData, oResponse) {                                                                                                                                                                                                                     
					let arrCurr = oData.results;                                                                                                                                                                                                                              
					if (arrCurr.length > 0) {                                                                                                                                                                                                                                 
						that.setModel(new JSONModel(arrCurr[0]), "currLocalPstJrnModel");                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
					}                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
					if (bPostLoad) {                                                                                                                                                                                                                                          
						if (arrCurr.length > 0) {                                                                                                                                                                                                                                
							oSF.getModel().setProperty(oSF.getBindingContext().getPath() + "/Currency", arrCurr[0].Currency);                                                                                                                                                       
							that.byId("idCurrTab").setText(arrCurr[0].Currency);                                                                                                                                                                                                    
						} else {                                                                                                                                                                                                                                                 
							oSF.getModel().setProperty(oSF.getBindingContext().getPath() + "/Currency", '');                                                                                                                                                                        
							that.byId("idCurrTab").setText('');                                                                                                                                                                                                                     
						}                                                                                                                                                                                                                                                        
					}                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
					MessageBox.error(that.getI18nText("errorCurrencyServiceCall"));                                                                                                                                                                                           
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_fetchCurrencyData: function (bIsVariantCall) {                                                                                                                                                                                                              
			var oView = this.getView(),                                                                                                                                                                                                                                 
				consKey = oView.byId("idConsUnit").getSelectedKey(),                                                                                                                                                                                                       
				oFilter = new Filter("ConsolidationUnit", FilterOperator.EQ, consKey),                                                                                                                                                                                     
				oServiceCallModel = this.getModel(),                                                                                                                                                                                                                       
				that = this,                                                                                                                                                                                                                                               
				oCurrencyCtrl = oView.byId("idCurrType"),                                                                                                                                                                                                                  
				oCurrControl = oView.byId("idCurrency");                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
			oCurrencyCtrl.setVisible(true);                                                                                                                                                                                                                             
			oCurrControl.setBusy(true);                                                                                                                                                                                                                                 
			oServiceCallModel.read("/xEY1xSAV_C_CurrLocalGroupVH", {                                                                                                                                                                                                    
				method: "GET",                                                                                                                                                                                                                                             
				filters: [oFilter],                                                                                                                                                                                                                                        
				success: function (oData, oResponse) {                                                                                                                                                                                                                     
					oCurrControl.setBusy(false);                                                                                                                                                                                                                              
					that.setModel(new JSONModel(oData), "currLocalGroupVHModel");                                                                                                                                                                                             
					if (!bIsVariantCall && oData.results.length > 0) {                                                                                                                                                                                                        
						oCurrControl.setSelectedKey(oData.results[0].Currency);                                                                                                                                                                                                  
					}                                                                                                                                                                                                                                                         
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
					oCurrControl.setBusy(false);                                                                                                                                                                                                                              
					MessageBox.error(that.getI18nText("errorIntentionServiceCall"));                                                                                                                                                                                          
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
		//to fetch company code for default value in post journal fragment                                                                                                                                                                                           
		_fetchCompCode: function () {                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
			var oView = this.getView(),                                                                                                                                                                                                                                 
				consKey = oView.byId("idConsUnit").getSelectedKey(),                                                                                                                                                                                                       
				oFilter = new Filter("ConsolidationUnit", FilterOperator.EQ, consKey),                                                                                                                                                                                     
				oServiceCallModel = this.getModel("postAdjModel"),                                                                                                                                                                                                         
				that = this;                                                                                                                                                                                                                                               
			oServiceCallModel.read("/xEY1xSAV_C_CompnyCodeCnsldUnit", {                                                                                                                                                                                                 
				method: "GET",                                                                                                                                                                                                                                             
				filters: [oFilter],                                                                                                                                                                                                                                        
				success: function (oData, oResponse) {                                                                                                                                                                                                                     
					// let d = {                                                                                                                                                                                                                                              
					// 	"results": [{                                                                                                                                                                                                                                         
					// 		"CompanyCode": "GB01",                                                                                                                                                                                                                               
					// 		"ConsolidationUnit": "GB02",                                                                                                                                                                                                                         
					// 		"CompanyName": "GB02"                                                                                                                                                                                                                                
					// 	}, {                                                                                                                                                                                                                                                  
					// 		"CompanyCode": "GB02",                                                                                                                                                                                                                               
					// 		"ConsolidationUnit": "GB02",                                                                                                                                                                                                                         
					// 		"CompanyName": "GB02"                                                                                                                                                                                                                                
					// 	}, {                                                                                                                                                                                                                                                  
					// 		"CompanyCode": "GB03",                                                                                                                                                                                                                               
					// 		"ConsolidationUnit": "GB02",                                                                                                                                                                                                                         
					// 		"CompanyName": "GB02"                                                                                                                                                                                                                                
					// 	}]                                                                                                                                                                                                                                                    
					// };                                                                                                                                                                                                                                                     
					if (oData.results.length > 0) {                                                                                                                                                                                                                           
						that.getModel("CompnyCodeValModel").setData(oData.results);                                                                                                                                                                                              
						// let aCompData = that.getModel("CompnyCodeValModel").getData();                                                                                                                                                                                        
						// aCompData.CompanyName = oData.results[0].CompanyName;                                                                                                                                                                                                 
					} else {                                                                                                                                                                                                                                                  
						that.getModel("CompnyCodeValModel").setData([]);                                                                                                                                                                                                         
					}                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
					MessageBox.error(that.getI18nText("errorCompCodeServiceCall"));                                                                                                                                                                                           
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
		fetchReconLedgerData: function (oEvent) {                                                                                                                                                                                                                    
			let that = this,                                                                                                                                                                                                                                            
				oServiceCallModel = this.getModel(),                                                                                                                                                                                                                       
				sServiceURL = oServiceCallModel.createKey("/xEY1xSAV_C_Recon_Ledger", {                                                                                                                                                                                    
					"bunit": this.byId("idConsUnit").getSelectedKey()                                                                                                                                                                                                         
				});                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			this.getBusyDialog().open();                                                                                                                                                                                                                                
			oServiceCallModel.read(sServiceURL, {                                                                                                                                                                                                                       
				method: "GET",                                                                                                                                                                                                                                             
				success: function (oData, oResponse) {                                                                                                                                                                                                                     
					that.getBusyDialog().close();                                                                                                                                                                                                                             
					var oModel = that.getModel("viewConfigDataModel");                                                                                                                                                                                                        
					oModel.getData().reconData = oData;                                                                                                                                                                                                                       
					oModel.refresh();                                                                                                                                                                                                                                         
					that._fetchCnsldVersion();                                                                                                                                                                                                                                
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
					that.getBusyDialog().close();                                                                                                                                                                                                                             
					if (parseInt(oError.statusCode, [10]) !== 404) {                                                                                                                                                                                                          
						MessageToast.show(that.getI18nText("reconServiceCallError"));                                                                                                                                                                                            
					}                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		/*_fetchIntentionData: function () {                                                                                                                                                                                                                         
			let oServiceCallModel = this.getModel();                                                                                                                                                                                                                    
			let sServiceURL = "/xEY1xSAV_C_ReadIntentVH";                                                                                                                                                                                                               
			let that = this;                                                                                                                                                                                                                                            
			this.getBusyDialog().open();                                                                                                                                                                                                                                
			oServiceCallModel.read(sServiceURL, {                                                                                                                                                                                                                       
				method: "GET",                                                                                                                                                                                                                                             
				sorters: [                                                                                                                                                                                                                                                 
					new sap.ui.model.Sorter("SerialNumber")                                                                                                                                                                                                                   
				],                                                                                                                                                                                                                                                         
				success: function (oData, oResponse) {                                                                                                                                                                                                                     
					that.getBusyDialog().close();                                                                                                                                                                                                                             
					let oModel = new JSONModel(oData);                                                                                                                                                                                                                        
					that.getView().setModel(oModel, "intentionVHModel");                                                                                                                                                                                                      
					                                                                                                                                                                                                                                                          
					that._managePeriodFieldsEditability(false);                                                                                                                                                                                                               
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
					that.getBusyDialog().close();                                                                                                                                                                                                                             
					MessageBox.error(that.getI18nText("errorFetchingIntentions"));                                                                                                                                                                                            
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},*/                                                                                                                                                                                                                                                         
		_fetchIntentionStatus: function (aParam) {                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
			let oServiceCallModel = this.getModel();                                                                                                                                                                                                                    
			let sBunit = aParam[0],                                                                                                                                                                                                                                     
				sYear = aParam[1],                                                                                                                                                                                                                                         
				sServiceURL = "/xEY1xSAV_C_IntentionsStatus(p_bunit='" + sBunit + "')/Set",                                                                                                                                                                                
				oFilter = new Filter("Gjahr", FilterOperator.EQ, sYear),                                                                                                                                                                                                   
				that = this,                                                                                                                                                                                                                                               
				oView = that.getView(),                                                                                                                                                                                                                                    
				oIntentionCtrl = oView.byId("idIntentionComboBox");                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			this.getBusyDialog().open();                                                                                                                                                                                                                                
			oServiceCallModel.read(sServiceURL, {                                                                                                                                                                                                                       
				method: "GET",                                                                                                                                                                                                                                             
				sorters: [                                                                                                                                                                                                                                                 
					new sap.ui.model.Sorter("SerialNumber")                                                                                                                                                                                                                   
				],                                                                                                                                                                                                                                                         
				filters: [oFilter],                                                                                                                                                                                                                                        
				success: function (oData, oResponse) {                                                                                                                                                                                                                     
					that.getBusyDialog().close();                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
					if (oData.results.length === 0) {                                                                                                                                                                                                                         
						oIntentionCtrl.setSelectedKey('');                                                                                                                                                                                                                       
						oIntentionCtrl.setEnabled(false);                                                                                                                                                                                                                        
						MessageBox.error(that.getI18nText("IntentionNotYetOpen") + sYear);                                                                                                                                                                                       
						that._disableButton(false);                                                                                                                                                                                                                              
						return;                                                                                                                                                                                                                                                  
					}                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
					oIntentionCtrl.setEnabled(true);                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
					let oGlobalParamter = that.getView().getModel("viewConfigDataModel").getData().globalParameters;                                                                                                                                                          
					oIntentionCtrl.setSelectedKey(oGlobalParamter.Intention);                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
					//Added Lines                                                                                                                                                                                                                                             
					oIntentionCtrl.setSelectedKey("");                                                                                                                                                                                                                        
					for (let m = 0; m < oData.results.length; m++) {                                                                                                                                                                                                          
						if (oData.results[m].isSelected === "X") {                                                                                                                                                                                                               
							oIntentionCtrl.setSelectedKey(oData.results[m].Intention);                                                                                                                                                                                              
						}                                                                                                                                                                                                                                                        
					}                                                                                                                                                                                                                                                         
					if (oIntentionCtrl.getSelectedKey() === "") {                                                                                                                                                                                                             
						for (let n = 0; n < oData.results.length; n++) {                                                                                                                                                                                                         
							if (oData.results[n].status === "Open") {                                                                                                                                                                                                               
								oIntentionCtrl.setSelectedKey(oData.results[n].Intention);                                                                                                                                                                                             
							}                                                                                                                                                                                                                                                       
						}                                                                                                                                                                                                                                                        
					}                                                                                                                                                                                                                                                         
					//End added Lines                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
					let oModel = new JSONModel(oData);                                                                                                                                                                                                                        
					that.getView().setModel(oModel, "intentionVHModel");                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
					that._managePeriodFieldsEditability(false);                                                                                                                                                                                                               
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
					that.getBusyDialog().close();                                                                                                                                                                                                                             
					MessageBox.error(that.getI18nText("errorFetchingIntentionStatus"));                                                                                                                                                                                       
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
		_managePeriodFieldsEditability: function (bIsChangeEventCalled) {                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
			let oView = this.getView(),                                                                                                                                                                                                                                 
				oIntentionCtrl = oView.byId("idIntentionComboBox");                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			if (!bIsChangeEventCalled) {                                                                                                                                                                                                                                
				oIntentionCtrl.setSelectedKey(oIntentionCtrl.getSelectedKey());                                                                                                                                                                                            
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			let oSelectedItem = oIntentionCtrl.getSelectedItem(),                                                                                                                                                                                                       
				oSelectedData = oSelectedItem.getBindingContext("intentionVHModel").getObject();                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			let oPeriodTo = oView.byId("idPeriodToInput"),                                                                                                                                                                                                              
				iTaxIntentionVal = formatter.convertStringToInt(oSelectedData.TaxIntention);                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			if (iTaxIntentionVal !== formatter.convertStringToInt(0)) {                                                                                                                                                                                                 
				this._manageIntentionStatus(oSelectedData);                                                                                                                                                                                                                
				oPeriodTo.setEditable(false);                                                                                                                                                                                                                              
				oPeriodTo.setValue(formatter.convertStringToInt(oSelectedData.PeriodTo));                                                                                                                                                                                  
				this._fetchPostingDate();                                                                                                                                                                                                                                  
			} else {                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
				// IF 'PERIODIC' selected, then set Editable                                                                                                                                                                                                               
				oPeriodTo.setEditable(true);                                                                                                                                                                                                                               
				oPeriodTo.setValue(formatter.convertStringToInt(oSelectedData.CurrOpenPeriod));                                                                                                                                                                            
				let paramToYb = parseInt(oPeriodTo.getValue(), [10]);                                                                                                                                                                                                      
				// oPeriodTo.setValue(0);                                                                                                                                                                                                                                  
				this._managePerodicIntentionStatus(paramToYb);                                                                                                                                                                                                             
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_manageIntentionStatus: function (oSelectedData) {                                                                                                                                                                                                           
			let that = this;                                                                                                                                                                                                                                            
			if (oSelectedData.status === "Closed") {                                                                                                                                                                                                                    
				this._disableButton(false);                                                                                                                                                                                                                                
				return;                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
			} else if (oSelectedData.status === this.getI18nText("YetToOpen")) {                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
				that.getBusyDialog().close();                                                                                                                                                                                                                              
				MessageBox.error((this.getModel("i18n").getResourceBundle().getText("ThisIntentionNotYetOpen", [oSelectedData.IntentDescription,                                                                                                                           
					oSelectedData.Gjahr                                                                                                                                                                                                                                       
				])));                                                                                                                                                                                                                                                      
				//MessageBox.error(oSelectedData.IntentDescription + " " + that.getI18nText("ThisIntentionNotYetOpen") + oSelectedData.Gjahr);                                                                                                                             
				this._disableButton(false);                                                                                                                                                                                                                                
				return;                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
			} else if (oSelectedData.status === "Open") {                                                                                                                                                                                                               
				this._disableButton(true);                                                                                                                                                                                                                                 
				//Add logic to set enabled false if Intention is greater                                                                                                                                                                                                   
				if(oSelectedData.Intention === "CIT" ||                                                                                                                                                                                                                    
				   oSelectedData.Intention === "TXA" ||                                                                                                                                                                                                                    
				   oSelectedData.Intention === "TXU" ){                                                                                                                                                                                                                    
					this.byId("idStatAdjBtn").setEnabled(false);&nbsp;                                                                                                                                                                                                        
				   }                                                                                                                                                                                                                                                       
			}                                                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_managePerodicIntentionStatus: function (paramToYb) {                                                                                                                                                                                                        
			let oSelectedIntention = this.getView().byId("idIntentionComboBox").getSelectedItem().getBindingContext("intentionVHModel").getObject(),                                                                                                                    
				iCurrentPeriod = parseInt(oSelectedIntention.CurrOpenPeriod, [10]);                                                                                                                                                                                        
			if (oSelectedIntention.status === "Closed") {                                                                                                                                                                                                               
				this._disableButton(false);                                                                                                                                                                                                                                
				return;                                                                                                                                                                                                                                                    
			}                                                                                                                                                                                                                                                           
			if (paramToYb === iCurrentPeriod) {                                                                                                                                                                                                                         
				this._disableButton(true);                                                                                                                                                                                                                                 
			} else if (paramToYb < iCurrentPeriod) {                                                                                                                                                                                                                    
				this._disableButton(false);                                                                                                                                                                                                                                
				return;                                                                                                                                                                                                                                                    
			} else if (paramToYb > iCurrentPeriod) {                                                                                                                                                                                                                    
				this.getBusyDialog().close();                                                                                                                                                                                                                              
				MessageBox.error(this.getModel("i18n").getResourceBundle().getText("errorPeriodnotopen", [paramToYb, iCurrentPeriod]));                                                                                                                                    
				this._disableButton(false);                                                                                                                                                                                                                                
				return;                                                                                                                                                                                                                                                    
			} else {                                                                                                                                                                                                                                                    
				this._disableButton(false);                                                                                                                                                                                                                                
				return;                                                                                                                                                                                                                                                    
			}                                                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_disableButton: function (oValue) {                                                                                                                                                                                                                          
			this.byId("idDataMonitor").setEnabled(oValue);                                                                                                                                                                                                              
			this.byId("idNavToPostGLEntriesLC").setEnabled(oValue);                                                                                                                                                                                                     
			this.byId("idPostPTAEntriesBtn").setEnabled(oValue);                                                                                                                                                                                                        
			this.byId("idStatAdjBtn").setEnabled(oValue);                                                                                                                                                                                                               
			this.byId("idTaxAdjBtn").setEnabled(oValue);                                                                                                                                                                                                                
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_fetchPostingDate: function () {                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			let that = this,                                                                                                                                                                                                                                            
				oView = this.getView(),                                                                                                                                                                                                                                    
				oServiceCallModel = this.getModel(),                                                                                                                                                                                                                       
				oConsolidationUnit = oView.byId("idConsUnit"),                                                                                                                                                                                                             
				oFiscalYear = oView.byId("idFiscalYearFilter"),                                                                                                                                                                                                            
				sPoper = parseInt(oView.byId("idPeriodToInput").getValue(), [10]),                                                                                                                                                                                         
				sServiceUrlPD = "/PostingDate";                                                                                                                                                                                                                            
			//Get Posting Date - Last day of selected period to                                                                                                                                                                                                         
			oServiceCallModel.callFunction(sServiceUrlPD, {                                                                                                                                                                                                             
				method: "GET",                                                                                                                                                                                                                                             
				urlParameters: {                                                                                                                                                                                                                                           
					ConsolidationUnit: oConsolidationUnit.getSelectedKey(),                                                                                                                                                                                                   
					FiscalYear: oFiscalYear.getDateValue().getFullYear(),                                                                                                                                                                                                     
					Poper: sPoper                                                                                                                                                                                                                                             
				},                                                                                                                                                                                                                                                         
				success: function (oData) {                                                                                                                                                                                                                                
					that.getView().getModel("postJournalModel").setData([]);                                                                                                                                                                                                  
					that.getView().getModel("postJournalModel").setData(oData);                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
					if (parseInt(oError.statusCode, [10]) !== 404) {                                                                                                                                                                                                          
						MessageToast.show(that.getI18nText("GetPostingDateServiceCallError"));                                                                                                                                                                                   
					}                                                                                                                                                                                                                                                         
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
		_setAmountBal: function () {                                                                                                                                                                                                                                 
			let oLinItmTab = this.byId("idLineItemsTable"),                                                                                                                                                                                                             
				iAmountBal = 0.00,                                                                                                                                                                                                                                         
				oSF = this.byId("smartForm"),                                                                                                                                                                                                                              
				oModel = oSF.getModel(),                                                                                                                                                                                                                                   
				oHeader = oModel.getProperty(oSF.getBindingContext().getPath()),                                                                                                                                                                                           
				sCurr = oHeader.Currency,                                                                                                                                                                                                                                  
				aItems = oLinItmTab.getItems();                                                                                                                                                                                                                            
			if (aItems.length > 0) {                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
				for (let i = 0; i < aItems.length; i++) {                                                                                                                                                                                                                  
					let sPath = aItems[i].getBindingContextPath(),                                                                                                                                                                                                            
						obj = oModel.getProperty(sPath);                                                                                                                                                                                                                         
					if (obj.DbCrVal === 'H') {                                                                                                                                                                                                                                
						obj.AmtDoccur = -1 * parseFloat(obj.AmtDoccur, [10]).toFixed(2);                                                                                                                                                                                         
					} else {                                                                                                                                                                                                                                                  
						obj.AmtDoccur = 1 * parseFloat(obj.AmtDoccur, [10]).toFixed(2);                                                                                                                                                                                          
					}                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
					iAmountBal = iAmountBal + obj.AmtDoccur;                                                                                                                                                                                                                  
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			} else {                                                                                                                                                                                                                                                    
				iAmountBal = "0.00";                                                                                                                                                                                                                                       
			}                                                                                                                                                                                                                                                           
			this.byId("idAmtBalTxt").setText(this.getResourceBundle().getText("TotalBalLabel", [iAmountBal]));                                                                                                                                                          
			this.byId("idCurrTab").setVisible(true);                                                                                                                                                                                                                    
			this.byId("idCurrTab").setText(sCurr);                                                                                                                                                                                                                      
		},                                                                                                                                                                                                                                                           
		_setOrignalMode: function (oEvent) {                                                                                                                                                                                                                         
			let aItems = this.byId("idLineItemsTable").getItems(),                                                                                                                                                                                                      
				oData = this.getModel("OrgnlDataModel").getData(),                                                                                                                                                                                                         
				oContext = this.byId("smartForm").getBindingContext(),                                                                                                                                                                                                     
				oModel = this.byId("smartForm").getModel();                                                                                                                                                                                                                
			oModel.deleteCreatedEntry(oContext);                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			for (let i = 0; i < aItems.length; i++) {                                                                                                                                                                                                                   
				let oContextItm = aItems[i].getBindingContext();                                                                                                                                                                                                           
				oModel.deleteCreatedEntry(oContextItm);                                                                                                                                                                                                                    
				this.byId("idLineItemsTable").removeItem(aItems[i]);                                                                                                                                                                                                       
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			//this.byId("idLineItemsTable").removeAllItems();                                                                                                                                                                                                           
			oData.FisPeriod = this.getModel("PeriodValModel").getData();                                                                                                                                                                                                
			var oContextHeader = oModel.createEntry("/AccountHeaderSet", {                                                                                                                                                                                              
				properties: oData                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			this.byId("smartForm").setBindingContext(oContextHeader);                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
			if (oData.CompanyCode) {                                                                                                                                                                                                                                    
				this._fetchCurrencyForPostGen(oData.CompanyCode, true);                                                                                                                                                                                                    
			}                                                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
		getI18nText: function (sTextKey) {                                                                                                                                                                                                                           
			return this.getResourceBundle().getText(sTextKey);                                                                                                                                                                                                          
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		/* =========================================================== */                                                                                                                                                                                            
		/* event handlers                                              */                                                                                                                                                                                            
		/* =========================================================== */                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
		/**                                                                                                                                                                                                                                                          
		 * Event handler when the share in JAM button has been clicked                                                                                                                                                                                               
		 * @public                                                                                                                                                                                                                                                   
		 */                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
		onBeforeVariantSaveFilterBar: function (oEvent) {                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
			let oView = this.getView();                                                                                                                                                                                                                                 
			let oFilterBar = oView.byId("idsmartFilterBar");                                                                                                                                                                                                            
			let oCnsdUnit = oView.byId("idConsUnit");                                                                                                                                                                                                                   
			let oFiscalYear = oView.byId("idFiscalYearFilter");                                                                                                                                                                                                         
			let oIntention = oView.byId("idIntentionComboBox");                                                                                                                                                                                                         
			let oCurrency = oView.byId("idCurrency");                                                                                                                                                                                                                   
			let oPeriodTo = oView.byId("idPeriodToInput");                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			oFilterBar.setFilterData({                                                                                                                                                                                                                                  
				"_CUSTOM": {                                                                                                                                                                                                                                               
					"ConsolidationUnit": oCnsdUnit.getSelectedKey(),                                                                                                                                                                                                          
					"FiscalYear": oFiscalYear.getValue(),                                                                                                                                                                                                                     
					"Intention": oIntention.getSelectedKey(),                                                                                                                                                                                                                 
					"Currency": oCurrency.getSelectedKey(),                                                                                                                                                                                                                   
					"PeriodTo": oPeriodTo.getValue(),                                                                                                                                                                                                                         
					"VariantID": oFilterBar.getCurrentVariantId()                                                                                                                                                                                                             
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onAfterVariantLoadFilterBar: function (oEvent) {                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			var oView = this.getView();                                                                                                                                                                                                                                 
			var oFilterBar = oView.byId("idsmartFilterBar");                                                                                                                                                                                                            
			var oCnsdUnit = oView.byId("idConsUnit");                                                                                                                                                                                                                   
			var oFiscalYear = oView.byId("idFiscalYearFilter");                                                                                                                                                                                                         
			let oIntention = oView.byId("idIntentionComboBox");                                                                                                                                                                                                         
			var oCurrency = oView.byId("idCurrency");                                                                                                                                                                                                                   
			let oPeriodTo = this.getView().byId("idPeriodToInput");                                                                                                                                                                                                     
			var oFilterData = oFilterBar.getFilterData()["_CUSTOM"];                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
			//	Setting Data to filter fields                                                                                                                                                                                                                            
			oCnsdUnit.setSelectedKey(oFilterData.ConsolidationUnit);                                                                                                                                                                                                    
			oFiscalYear.setValue(oFilterData.FiscalYear);                                                                                                                                                                                                               
			oIntention.setSelectedKey(oFilterData.Intention);                                                                                                                                                                                                           
			oCurrency.setSelectedKey(oFilterData.Currency);                                                                                                                                                                                                             
			oPeriodTo.setValue(formatter.convertStringToInt(oFilterData.PeriodTo));                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			// If Consolidation Unit is loaded, then call Ledger Data                                                                                                                                                                                                   
			if (oFilterData.ConsolidationUnit) {                                                                                                                                                                                                                        
				this.fetchReconLedgerData();                                                                                                                                                                                                                               
			}                                                                                                                                                                                                                                                           
			// Fetch Currency Data for Dropdown                                                                                                                                                                                                                         
			if (oFilterData.Currency) {                                                                                                                                                                                                                                 
				oCurrency.setVisible(true);                                                                                                                                                                                                                                
				this._fetchCurrencyData(true);                                                                                                                                                                                                                             
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			// Intention Data to be loaded.                                                                                                                                                                                                                             
			// If Intention is 'Empty' in Saved Variant, still we need data in DropDown list.                                                                                                                                                                           
			//	this._fetchIntentionData(oparam);                                                                                                                                                                                                                        
			var aParam = [oCnsdUnit, oFiscalYear];                                                                                                                                                                                                                      
			this._fetchIntentionStatus(aParam);                                                                                                                                                                                                                         
			                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onSearchButtonPressed: function (oEvent) {                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
			// Find the Binded entity Set Property List                                                                                                                                                                                                                 
			this.getView().byId("idFStxt").setVisible(true);                                                                                                                                                                                                            
			let serviceData = this.getModel().getServiceMetadata().dataServices.schema[0].entityType;                                                                                                                                                                   
			this.serviceDataProperty = serviceData.find(tempServiceData => tempServiceData.name === "xEY1xSAV_C_ReconciliationResult");                                                                                                                                 
                                                                                                                                                                                                                                                               
			this.fetchReconLedgerData(oEvent);                                                                                                                                                                                                                          
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onChangeDbCr: function () {                                                                                                                                                                                                                                  
			this._setAmountBal();                                                                                                                                                                                                                                       
		},                                                                                                                                                                                                                                                           
		onChangeTransType: function (oEvent) {                                                                                                                                                                                                                       
			let aValData = this.getModel("VHTTModel").getData(),                                                                                                                                                                                                        
				oSource = oEvent.getSource(),                                                                                                                                                                                                                              
				sVal = oSource.getValue(),                                                                                                                                                                                                                                 
				oModel = oSource.getModel(),                                                                                                                                                                                                                               
				sDocType,                                                                                                                                                                                                                                                  
				//	bExist = true;                                                                                                                                                                                                                                          
				//if (sVal) {                                                                                                                                                                                                                                              
				bExist = aValData.some(item => item.TransType === sVal);                                                                                                                                                                                                   
			//	}                                                                                                                                                                                                                                                        
			if (bExist) {                                                                                                                                                                                                                                               
				oSource.setValueState("None");                                                                                                                                                                                                                             
				bValidateTT = true;                                                                                                                                                                                                                                        
				sDocType = aValData.find(itm => itm.TransType === sVal).DocType;                                                                                                                                                                                           
				oModel.setProperty(oSource.getBindingContext().getPath() + "/DocType", sDocType);                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			} else {                                                                                                                                                                                                                                                    
				oSource.setValueState("Error");                                                                                                                                                                                                                            
				bValidateTT = false;                                                                                                                                                                                                                                       
			}                                                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onChangeGLAcc: function (oEvent) {                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			let aValData = this.getModel("GLAccVHModel").getData(),                                                                                                                                                                                                     
				sVal = oEvent.getSource().getValue(),                                                                                                                                                                                                                      
				oSF = this.byId("smartForm"),                                                                                                                                                                                                                              
				oModel = oSF.getModel(),                                                                                                                                                                                                                                   
				oBjSF = oModel.getProperty(oSF.getBindingContext().getPath()),                                                                                                                                                                                             
				aContrlAreaModelData = this.getModel("ContrlAreaModel").getData(),                                                                                                                                                                                         
				aDefParam = this.getModel("defParamModel").getData(),                                                                                                                                                                                                      
				//	bExist = true;                                                                                                                                                                                                                                          
				//if (sVal) {                                                                                                                                                                                                                                              
				bExist = aValData.some(item => item.GLAccount === sVal),                                                                                                                                                                                                   
				bFlag;                                                                                                                                                                                                                                                     
			if (aContrlAreaModelData[0].ControllingArea === aDefParam.ControllingArea) {                                                                                                                                                                                
				bFlag = true;                                                                                                                                                                                                                                              
			} else {                                                                                                                                                                                                                                                    
				bFlag = false;                                                                                                                                                                                                                                             
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			//	}                                                                                                                                                                                                                                                        
			if (bExist) {                                                                                                                                                                                                                                               
				oEvent.getSource().setValueState("None");                                                                                                                                                                                                                  
				//check if controlling area exists for the selected company code                                                                                                                                                                                           
				if (oBjSF.CompanyCode && bFlag) {                                                                                                                                                                                                                          
					this._fetchCostElemCat(sVal, aDefParam.ControllingArea, oEvent.getSource().getBindingContext().getPath());                                                                                                                                                
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			} else {                                                                                                                                                                                                                                                    
				oEvent.getSource().setValueState("Error");                                                                                                                                                                                                                 
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
		onChangeCostCentr: function (oEvent) {                                                                                                                                                                                                                       
			let aValData = this.getModel("CostCntrVHModel").getData(),                                                                                                                                                                                                  
				sVal = oEvent.getSource().getValue(),                                                                                                                                                                                                                      
				//	bExist = true;                                                                                                                                                                                                                                          
				//if (sVal) {                                                                                                                                                                                                                                              
				bExist = aValData.some(item => item.CostCenter === sVal);                                                                                                                                                                                                  
			//	}                                                                                                                                                                                                                                                        
			if (bExist) {                                                                                                                                                                                                                                               
				oEvent.getSource().setValueState("None");                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
			} else {                                                                                                                                                                                                                                                    
				oEvent.getSource().setValueState("Error");                                                                                                                                                                                                                 
			}                                                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
		onChangeProfitCentr: function (oEvent) {                                                                                                                                                                                                                     
			let aValData = this.getModel("PrftCentrVHModel").getData(),                                                                                                                                                                                                 
				sVal = oEvent.getSource().getValue(),                                                                                                                                                                                                                      
				//	bExist = true;                                                                                                                                                                                                                                          
				//if (sVal) {                                                                                                                                                                                                                                              
				bExist = aValData.some(item => item.ProfitCenter === sVal);                                                                                                                                                                                                
			//	}                                                                                                                                                                                                                                                        
			if (bExist) {                                                                                                                                                                                                                                               
				oEvent.getSource().setValueState("None");                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
			} else {                                                                                                                                                                                                                                                    
				oEvent.getSource().setValueState("Error");                                                                                                                                                                                                                 
			}                                                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
		onChangeDocType: function (oEvent) {                                                                                                                                                                                                                         
			let aValData = this.getModel("VHDTModel").getData(),                                                                                                                                                                                                        
				sVal = oEvent.getSource().getValue(),                                                                                                                                                                                                                      
				bExist = true;                                                                                                                                                                                                                                             
			if (sVal) {                                                                                                                                                                                                                                                 
				bExist = aValData.some(item => item.CADocumentType === sVal);                                                                                                                                                                                              
			}                                                                                                                                                                                                                                                           
			if (bExist) {                                                                                                                                                                                                                                               
				oEvent.getSource().setValueState("None");                                                                                                                                                                                                                  
			} else {                                                                                                                                                                                                                                                    
				oEvent.getSource().setValueState("Error");                                                                                                                                                                                                                 
			}                                                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
		onChangePeriod: function (oEvent) {                                                                                                                                                                                                                          
			// let aModelData = this.getModel("PeriodValModel").getData(),                                                                                                                                                                                              
			// 	aValData = aModelData.filter(item => item.AnalyticsPeriodTo != "" && item.AnalyticsPeriodTo != '17'),                                                                                                                                                   
			// 	sVal = oEvent.getSource().getValue(),                                                                                                                                                                                                                   
			// 	bExist = true;                                                                                                                                                                                                                                          
			// aValData.push({                                                                                                                                                                                                                                          
			// 	"AnalyticsPeriodTo": "12"                                                                                                                                                                                                                               
			// });                                                                                                                                                                                                                                                      
			// if (sVal) {                                                                                                                                                                                                                                              
			// 	bExist = aValData.some(item => item.AnalyticsPeriodTo === sVal);                                                                                                                                                                                        
			// }                                                                                                                                                                                                                                                        
			// if (bExist) {                                                                                                                                                                                                                                            
			// 	oEvent.getSource().setValueState("None");                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			// 	bValidatePer = true;                                                                                                                                                                                                                                    
			// } else {                                                                                                                                                                                                                                                 
			// 	oEvent.getSource().setValueState("Error");                                                                                                                                                                                                              
			// 	bValidatePer = false;                                                                                                                                                                                                                                   
			// }                                                                                                                                                                                                                                                        
		},                                                                                                                                                                                                                                                           
		onChangeAmount: function () {                                                                                                                                                                                                                                
			this._setAmountBal();                                                                                                                                                                                                                                       
		},                                                                                                                                                                                                                                                           
		onShareInJamPress: function () {                                                                                                                                                                                                                             
			var oViewModel = this.getModel("worklistView"),                                                                                                                                                                                                             
				oShareDialog = oSapUiCore.createComponent({                                                                                                                                                                                                                
					name: "sap.collaboration.components.fiori.sharing.dialog",                                                                                                                                                                                                
					settings: {                                                                                                                                                                                                                                               
						object: {                                                                                                                                                                                                                                                
							id: location.href,                                                                                                                                                                                                                                      
							share: oViewModel.getProperty("/shareOnJamTitle")                                                                                                                                                                                                       
						}                                                                                                                                                                                                                                                        
					}                                                                                                                                                                                                                                                         
				});                                                                                                                                                                                                                                                        
			oShareDialog.open();                                                                                                                                                                                                                                        
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onSearch: function (oEvent) {                                                                                                                                                                                                                                
			if (oEvent.getParameters().refreshButtonPressed) {                                                                                                                                                                                                          
				// Search field's 'refresh' button has been pressed.                                                                                                                                                                                                       
				// This is visible if you select any master list item.                                                                                                                                                                                                     
				// In this case no new search is triggered, we only                                                                                                                                                                                                        
				// refresh the list binding.                                                                                                                                                                                                                               
				this.onRefresh();                                                                                                                                                                                                                                          
			} else {                                                                                                                                                                                                                                                    
				var aTableSearchState = [];                                                                                                                                                                                                                                
				var sQuery = oEvent.getParameter("query");                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
				if (sQuery && sQuery.length > 0) {                                                                                                                                                                                                                         
					aTableSearchState = [new Filter("GLAccount", FilterOperator.Contains, sQuery)];                                                                                                                                                                           
				}                                                                                                                                                                                                                                                          
				this._applySearch(aTableSearchState);                                                                                                                                                                                                                      
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
		onLCDataRequested: function (oEvt) {                                                                                                                                                                                                                         
			this.getView().byId("idFStxt").setVisible(true);                                                                                                                                                                                                            
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onLCDataReceived: function (oEvt) {                                                                                                                                                                                                                          
			this.getBusyDialog().open();                                                                                                                                                                                                                                
			this.oGlobalSmartTable.getTable().setVisibleRowCount(10);                                                                                                                                                                                                   
			let oView = this.getView(),                                                                                                                                                                                                                                 
				oFSTextColumn = oView.byId("idFStxt"),                                                                                                                                                                                                                     
				oFSItemColumn = oView.byId("idFSItem");                                                                                                                                                                                                                    
			this.oGlobalSmartTable.getCustomToolbar().getContent()[8].attachPress(this._onSetPress, this);                                                                                                                                                              
			if (oFSItemColumn.getGrouped()) {                                                                                                                                                                                                                           
				oFSTextColumn.setVisible(true);                                                                                                                                                                                                                            
			} else {                                                                                                                                                                                                                                                    
				oFSTextColumn.setVisible(false);                                                                                                                                                                                                                           
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			var oIntervalCall = window.setInterval(function () {                                                                                                                                                                                                        
				this.onAdjustLCCol();                                                                                                                                                                                                                                      
				window.clearInterval(oIntervalCall);                                                                                                                                                                                                                       
			}.bind(this), 1000);                                                                                                                                                                                                                                        
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_onSetPress: function () {                                                                                                                                                                                                                                   
			//	this.oGlobalSmartTable.getTable().getColumns()[34].setVisible(true);                                                                                                                                                                                     
			this.getView().byId("idFStxt").setVisible(true);                                                                                                                                                                                                            
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onAdjustLCCol: function () {                                                                                                                                                                                                                                 
			let oMainTable = this.oGlobalSmartTable;                                                                                                                                                                                                                    
			var oTable = oMainTable.getTable();                                                                                                                                                                                                                         
			var aCols = oTable.getColumns();                                                                                                                                                                                                                            
			for (var i = aCols.length - 1; i >= 0; i--) {                                                                                                                                                                                                               
				oTable.autoResizeColumn(i);                                                                                                                                                                                                                                
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			// Function call to add Text Label in SUM Row                                                                                                                                                                                                               
			// this._addTextLabelToSumRow(oTable);                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			// Freeze 1st Column                                                                                                                                                                                                                                        
			oTable.setFixedColumnCount(4);                                                                                                                                                                                                                              
			this.getBusyDialog().close();                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onChangeDatePickerFilter: function (oEvent) {                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
			let oDP = oEvent.getSource(),                                                                                                                                                                                                                               
				sBunit = this.getView().byId("idConsUnit").getProperty("selectedKey");                                                                                                                                                                                     
			//oReconLedgerData.globalParameters.ConsolidationUnit;                                                                                                                                                                                                      
			if (oEvent.getParameter("valid")) {                                                                                                                                                                                                                         
				oDP.setValueState("None");                                                                                                                                                                                                                                 
				let sYear = oDP.getDateValue().getFullYear(),                                                                                                                                                                                                              
					aParam = [sBunit, sYear];                                                                                                                                                                                                                                 
				this._fetchIntentionStatus(aParam);                                                                                                                                                                                                                        
				this._fetchPostingDate();                                                                                                                                                                                                                                  
			} else {                                                                                                                                                                                                                                                    
				oDP.setValueState("Error");                                                                                                                                                                                                                                
			}                                                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onConsUnitChange: function (oEvent) {                                                                                                                                                                                                                        
			this._fetchCurrencyData(false);                                                                                                                                                                                                                             
			this._fetchPostingDate();                                                                                                                                                                                                                                   
			this._fetchCompCode();                                                                                                                                                                                                                                      
			this.fetchReconLedgerData();                                                                                                                                                                                                                                
			//Added Method Call                                                                                                                                                                                                                                         
			let oBunit = this.getView().byId("idConsUnit").getProperty("selectedKey");                                                                                                                                                                                  
			let aParam = [oBunit, this.getView().byId("idFiscalYearFilter").getDateValue().getFullYear()];                                                                                                                                                              
			this._fetchIntentionStatus(aParam);                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onChangeIntentionComboBox: function (oEvent) {                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			let oView = this.getView(),                                                                                                                                                                                                                                 
				oIntentionCtrl = oView.byId("idIntentionComboBox"),                                                                                                                                                                                                        
				oSelectedItem = oIntentionCtrl.getSelectedItem();                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			// Validation for Invalid data	                                                                                                                                                                                                                             
			if (!oSelectedItem) {                                                                                                                                                                                                                                       
				oIntentionCtrl.setSelectedItem("");                                                                                                                                                                                                                        
				return;                                                                                                                                                                                                                                                    
			}                                                                                                                                                                                                                                                           
			this._managePeriodFieldsEditability(true);                                                                                                                                                                                                                  
			                                                                                                                                                                                                                                                            
			this._formatG2SEnablity();                                                                                                                                                                                                                                  
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onCurrTypeChange: function () {},                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
		onLiveChangePeriodTo: function () {                                                                                                                                                                                                                          
			let oPeriodTo = this.getView().byId("idPeriodToInput");                                                                                                                                                                                                     
			let paramFromYb = parseInt(this.getView().byId("idPeriodFromInput").getValue(), [10]);                                                                                                                                                                      
			let paramToYb = parseInt(oPeriodTo.getValue(), [10]);                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			oPeriodTo.setValueState("None");                                                                                                                                                                                                                            
			//	If PeriodTo < PeriodFrom, then do not execute further service call&nbsp;                                                                                                                                                                                 
			if (paramToYb < paramFromYb) {                                                                                                                                                                                                                              
				oPeriodTo.setValueState("Error");                                                                                                                                                                                                                          
				oPeriodTo.setValueStateText(this.getI18nText("periodToLessThanPeriodFromErrorMsg"));                                                                                                                                                                       
				return;                                                                                                                                                                                                                                                    
			} else if (paramToYb > 12) {                                                                                                                                                                                                                                
				oPeriodTo.setValueState("Error");                                                                                                                                                                                                                          
				oPeriodTo.setValueStateText(this.getI18nText("periodToGreaterThanLastPeriod"));                                                                                                                                                                            
				return;                                                                                                                                                                                                                                                    
			} else if (isNaN(paramToYb)) {                                                                                                                                                                                                                              
				return;                                                                                                                                                                                                                                                    
			} else {                                                                                                                                                                                                                                                    
				this._managePerodicIntentionStatus(paramToYb);                                                                                                                                                                                                             
				this._fetchPostingDate();                                                                                                                                                                                                                                  
			}                                                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onPressGLAccountNavigation: function (oEvent) {                                                                                                                                                                                                              
			this.performCrossAppNavigation("AccountingDocument", "postGLDocument", true);                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onPressStatTaxAdj: function (oEvent) {                                                                                                                                                                                                                       
			setTimeout(function () {                                                                                                                                                                                                                                    
				this._fetchDefaultParameters();                                                                                                                                                                                                                            
			}.bind(this), 100);                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			let oView = this.getView(),                                                                                                                                                                                                                                 
				oPostJournModel = this.getModel("postAdjModel"),                                                                                                                                                                                                           
				//aDefParam = this.getModel("defParamModel").getData(),                                                                                                                                                                                                    
				aCompCodeData = this.getModel("CompnyCodeValModel").getData(),                                                                                                                                                                                             
				sCompanyCode, sCompanyName;                                                                                                                                                                                                                                
			if (aCompCodeData.length > 1) {                                                                                                                                                                                                                             
				sCompanyName = aCompCodeData[0].CompanyName;                                                                                                                                                                                                               
				let aItem = aCompCodeData.filter(itm => itm.CompanyName === itm.CompanyCode);                                                                                                                                                                              
				sCompanyCode = aItem[0].CompanyCode;                                                                                                                                                                                                                       
			} else if (aCompCodeData.length === 1) {                                                                                                                                                                                                                    
				sCompanyCode = aCompCodeData[0].CompanyCode;                                                                                                                                                                                                               
				sCompanyName = aCompCodeData[0].CompanyName;                                                                                                                                                                                                               
			} else {                                                                                                                                                                                                                                                    
				sCompanyCode = '';                                                                                                                                                                                                                                         
				sCompanyName = '';                                                                                                                                                                                                                                         
			}                                                                                                                                                                                                                                                           
			//	sJrnEntryTyp = aDefParam.AccountingDocumentType ? aDefParam.AccountingDocumentType : 'SA',                                                                                                                                                               
			//sCompanyCode = aDefParam.CompanyCode,                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			let iFiscalYear = oView.byId("idFiscalYearFilter").getDateValue().getFullYear(),                                                                                                                                                                            
				oNewDate = new Date(),                                                                                                                                                                                                                                     
				dPosDate = oView.getModel("postJournalModel").getData().POSTINGDATE,                                                                                                                                                                                       
				sYear = dPosDate.substring(0, 4),                                                                                                                                                                                                                          
				sMonth = dPosDate.substring(4, 6),                                                                                                                                                                                                                         
				sDay = dPosDate.substring(6, 8),                                                                                                                                                                                                                           
				//	pDateFormatted = new Date(sYear, sMonth - 1, sDay),                                                                                                                                                                                                     
				pDateFormatted = new Date(sYear + "-" + sMonth + "-" + sDay),                                                                                                                                                                                              
				iDateFormtSec = pDateFormatted.getTime(),                                                                                                                                                                                                                  
				iNewDateSec = oNewDate.getTime(),                                                                                                                                                                                                                          
				//oPostDate = oNewDate.getFullYear() === iFiscalYear ? oNewDate : pDateFormatted,                                                                                                                                                                          
				oPostDate = iNewDateSec > iDateFormtSec ? pDateFormatted : oNewDate,                                                                                                                                                                                       
				oCustData = oEvent.getSource().getCustomData(),                                                                                                                                                                                                            
				oIntentionBinding = oView.byId("idIntentionComboBox").getSelectedItem().getBindingContext("intentionVHModel").getObject(),                                                                                                                                 
				sIntentionVal = oIntentionBinding.IntentDescription + " (" + oIntentionBinding.TaxIntention + ")",                                                                                                                                                         
				iIntentionValue = parseInt(oIntentionBinding.TaxIntention, [10]),                                                                                                                                                                                          
				sMappedLedgerValue, sCustomDataKey, sCustomDataValue,                                                                                                                                                                                                      
				oGLAccVHModel = this.getModel("GLAccVHModel"),                                                                                                                                                                                                             
				oCostCntrVHModel = this.getModel("CostCntrVHModel"),                                                                                                                                                                                                       
				oPrftCentrVHModel = this.getModel("PrftCentrVHModel"),                                                                                                                                                                                                     
				oContrlAreaModel = this.getModel("ContrlAreaModel"),                                                                                                                                                                                                       
				bGLforPrftCntr = false,                                                                                                                                                                                                                                    
				sG2sTitle = this.getI18nText("g2stitle"),                                                                                                                                                                                                                  
				sS2tTitle = this.getI18nText("s2ttitle");                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
			// var oFormatDate = sap.ui.core.format.DateFormat.getDateTimeInstance({                                                                                                                                                                                    
			// 	pattern: "yyyy-MM-ddTKK:mm:ss"                                                                                                                                                                                                                          
			// });                                                                                                                                                                                                                                                      
			//  let oDate = oFormatDate.format(oPostDate);                                                                                                                                                                                                              
			//  	console.log(oDate);                                                                                                                                                                                                                                    
			console.log(oPostDate);                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			this._fetchValueHelpwithFilter("/C_GLAccountValueHelp", oGLAccVHModel, sCompanyCode);                                                                                                                                                                       
			this._fetchValueHelpwithFilter("/C_CostCenterVH", oCostCntrVHModel, sCompanyCode);                                                                                                                                                                          
			this._fetchValueHelpwithFilter("/xEY1xC_ProfitCenterVH", oPrftCentrVHModel, sCompanyCode);                                                                                                                                                                  
			this._fetchValueHelpwithFilter("/xEY1xSAV_C_ControllingArea", oContrlAreaModel, sCompanyCode);                                                                                                                                                              
                                                                                                                                                                                                                                                               
			for (let obj of oCustData) {                                                                                                                                                                                                                                
				sCustomDataKey = obj.getKey();                                                                                                                                                                                                                             
				sCustomDataValue = obj.getValue();                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			//handle intention field editability                                                                                                                                                                                                                        
			// if (iIntention >= 5) {                                                                                                                                                                                                                                   
			// 	oView.getModel("editPostJrnlModel").setProperty("/editIntention", true);                                                                                                                                                                                
			// 	iPoper = '';                                                                                                                                                                                                                                            
			// } else {                                                                                                                                                                                                                                                 
			// 	oView.getModel("editPostJrnlModel").setProperty("/editIntention", false);                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			// }                                                                                                                                                                                                                                                        
			oView.getModel("editPostJrnlModel").setProperty("/editIntention", false);                                                                                                                                                                                   
			//get the ledger value based on the button clicked                                                                                                                                                                                                          
			if (sCustomDataKey === "mappedLedger" && sCustomDataValue === "GAAPToSTATLedger") {                                                                                                                                                                         
				// sMappedLedgerValue = aLedgData.g2s;                                                                                                                                                                                                                     
				sMappedLedgerValue = 'G2S';                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
			} else if (sCustomDataKey === "mappedLedger" && sCustomDataValue === "STATToTAXLedger") {                                                                                                                                                                   
				// sMappedLedgerValue = aLedgData.s2t;                                                                                                                                                                                                                     
				sMappedLedgerValue = 'ST';                                                                                                                                                                                                                                 
			}                                                                                                                                                                                                                                                           
			oPostJournModel.setDefaultBindingMode("TwoWay");                                                                                                                                                                                                            
			if (!this._oPostJournalDialog) {                                                                                                                                                                                                                            
				this._oPostJournalDialog = sap.ui.xmlfragment(this.getView().getId(), "ey.sap.fin.cs.recgaapstattax.fragment.PostJournal", this);                                                                                                                          
				this.getView().addDependent(this._oPostJournalDialog);                                                                                                                                                                                                     
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (sCompanyCode) {                                                                                                                                                                                                                                         
				bValidateCC = true;                                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
			// if (iPoper) {                                                                                                                                                                                                                                            
			// 	bValidatePer = true;                                                                                                                                                                                                                                    
			// }                                                                                                                                                                                                                                                        
			//oPostDate.setHours(23, 59, 59);                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			//forming context for header smart form                                                                                                                                                                                                                     
			var oContextHeader = oPostJournModel.createEntry("/AccountHeaderSet", {                                                                                                                                                                                     
				properties: {                                                                                                                                                                                                                                              
					Guid: '',                                                                                                                                                                                                                                                 
					CompanyCode: sCompanyCode,                                                                                                                                                                                                                                
					CompanyName: sCompanyName,                                                                                                                                                                                                                                
					PstngDateDisply: oPostDate,                                                                                                                                                                                                                               
					DocDateDisply: oPostDate,                                                                                                                                                                                                                                 
					PstngDate: oPostDate,                                                                                                                                                                                                                                     
					//PstngDate: "2020-12-31",                                                                                                                                                                                                                                
					DocDate: oPostDate,                                                                                                                                                                                                                                       
					//DocDate: "2020-12-31",                                                                                                                                                                                                                                  
					LedgerGroup: sMappedLedgerValue,                                                                                                                                                                                                                          
					DocType: '',                                                                                                                                                                                                                                              
					FisPeriod: '',                                                                                                                                                                                                                                            
					Currency: '',                                                                                                                                                                                                                                             
					TaxIntention: sIntentionVal,                                                                                                                                                                                                                              
					Transactiontype: ''                                                                                                                                                                                                                                       
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
			this.byId("smartForm").setModel(oPostJournModel);                                                                                                                                                                                                           
			this.byId("smartForm").setBindingContext(oContextHeader);                                                                                                                                                                                                   
			this._oPostJournalDialog.open();                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
			if (sCustomDataKey === "mappedLedger" && sCustomDataValue === "GAAPToSTATLedger") {                                                                                                                                                                         
				this.byId("idPostJournlDialog").setTitle(sG2sTitle);                                                                                                                                                                                                       
			} else if (sCustomDataKey === "mappedLedger" && sCustomDataValue === "STATToTAXLedger") {                                                                                                                                                                   
				this.byId("idPostJournlDialog").setTitle(sS2tTitle);                                                                                                                                                                                                       
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			//saving default data aftr post                                                                                                                                                                                                                             
			let origData = {                                                                                                                                                                                                                                            
					Guid: '',                                                                                                                                                                                                                                                 
					CompanyCode: sCompanyCode,                                                                                                                                                                                                                                
					CompanyName: sCompanyName,                                                                                                                                                                                                                                
					PstngDateDisply: oPostDate,                                                                                                                                                                                                                               
					DocDateDisply: oPostDate,                                                                                                                                                                                                                                 
					PstngDate: oPostDate,                                                                                                                                                                                                                                     
					DocDate: oPostDate,                                                                                                                                                                                                                                       
					LedgerGroup: sMappedLedgerValue,                                                                                                                                                                                                                          
					DocType: '',                                                                                                                                                                                                                                              
					FisPeriod: '',                                                                                                                                                                                                                                            
					Currency: '',                                                                                                                                                                                                                                             
					TaxIntention: sIntentionVal,                                                                                                                                                                                                                              
					Transactiontype: ''                                                                                                                                                                                                                                       
				},                                                                                                                                                                                                                                                         
				oOrgnlDataModel = new JSONModel(origData);                                                                                                                                                                                                                 
			this.setModel(oOrgnlDataModel, "OrgnlDataModel");                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			this.byId("idLineItemsTable").setModel(oPostJournModel);                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
			if (sCompanyCode) {                                                                                                                                                                                                                                         
				this._fetchCurrencyForPostGen(sCompanyCode, true);                                                                                                                                                                                                         
				if (iIntentionValue >= 101 && iIntentionValue <= 105) {                                                                                                                                                                                                    
					this._fetchPeriodForIntention(oIntentionBinding.Intention);                                                                                                                                                                                               
				} else {                                                                                                                                                                                                                                                   
					this._fetchPeriodVal(sCompanyCode);                                                                                                                                                                                                                       
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onPressAddNewAcc: function () {                                                                                                                                                                                                                              
			//create binding context                                                                                                                                                                                                                                    
			iCount = iCount + 1;                                                                                                                                                                                                                                        
			let oLineItmTab = this.byId("idLineItemsTable"),                                                                                                                                                                                                            
				oSF = this.byId("smartForm"),                                                                                                                                                                                                                              
				oModel = oSF.getModel(),                                                                                                                                                                                                                                   
				oBjSF = oModel.getProperty(oSF.getBindingContext().getPath()),                                                                                                                                                                                             
				oContextLineItem = oLineItmTab.getModel("postAdjModel").createEntry("/AccountItemsSet", {                                                                                                                                                                  
					properties: {                                                                                                                                                                                                                                             
						Guid: '',                                                                                                                                                                                                                                                
						ItemnoAcc: iCount.toString(),                                                                                                                                                                                                                            
						GlAccount: '',                                                                                                                                                                                                                                           
						ProfitCtr: '',                                                                                                                                                                                                                                           
						CompCode: oBjSF.CompanyCode,                                                                                                                                                                                                                             
						Currency: '',                                                                                                                                                                                                                                            
						DbCrVal: '',                                                                                                                                                                                                                                             
						Costcenter: '',                                                                                                                                                                                                                                          
						AmtDoccur: '0.00',                                                                                                                                                                                                                                       
					}                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
				});                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			//get Template ....clone it and add it with context on item                                                                                                                                                                                                 
			let oTemp = oLineItmTab.getBindingInfo("items").template,                                                                                                                                                                                                   
				oItem = oTemp.clone();                                                                                                                                                                                                                                     
			oItem.setBindingContext(oContextLineItem);                                                                                                                                                                                                                  
			oLineItmTab.addItem(oItem);                                                                                                                                                                                                                                 
			this._setAmountBal();                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onRemoveItem: function (oEvent) {                                                                                                                                                                                                                            
			let oContext = oEvent.getSource().getBindingContext(),                                                                                                                                                                                                      
				oModel = oEvent.getSource().getModel();                                                                                                                                                                                                                    
			oModel.deleteCreatedEntry(oContext);                                                                                                                                                                                                                        
			this.byId("idLineItemsTable").removeItem(oEvent.getSource().getParent());                                                                                                                                                                                   
			this._setAmountBal();                                                                                                                                                                                                                                       
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onPressPostBtn: function () {                                                                                                                                                                                                                                
			//header data                                                                                                                                                                                                                                               
			let oSF = this.byId("smartForm"),                                                                                                                                                                                                                           
				oModel = oSF.getModel(),                                                                                                                                                                                                                                   
				oLinItmTab = this.byId("idLineItemsTable"),                                                                                                                                                                                                                
				aItems = oLinItmTab.getItems(),                                                                                                                                                                                                                            
				aLineItems = [],                                                                                                                                                                                                                                           
				oHeader = {},                                                                                                                                                                                                                                              
				that = this,                                                                                                                                                                                                                                               
				iAmntBal = 0,                                                                                                                                                                                                                                              
				//mandatory SF fields                                                                                                                                                                                                                                      
				oTrnsType = this.byId("idTransTypSF"),                                                                                                                                                                                                                     
				oCompCode = this.byId("idCompCodeSF"),                                                                                                                                                                                                                     
				oPer = this.byId("idPerSF");                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			if (!oTrnsType.getValue()) {                                                                                                                                                                                                                                
				oTrnsType.setValueState("Error");                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			if (!oCompCode.getValue()) {                                                                                                                                                                                                                                
				oCompCode.setValueState("Error");                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			if (!oPer.getValue()) {                                                                                                                                                                                                                                     
				oPer.setValueState("Error");                                                                                                                                                                                                                               
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			//validate header fields                                                                                                                                                                                                                                    
			if (!(bValidateTT && bValidateCC)) {                                                                                                                                                                                                                        
				MessageBox.error(this.getI18nText("manadtryFieldErrorMsg"));                                                                                                                                                                                               
				return;                                                                                                                                                                                                                                                    
			}                                                                                                                                                                                                                                                           
			//validate line items                                                                                                                                                                                                                                       
			if (aItems.length === 0) {                                                                                                                                                                                                                                  
				MessageBox.error(this.getI18nText("noLineItemsErrorMsg"));                                                                                                                                                                                                 
				return;                                                                                                                                                                                                                                                    
			}                                                                                                                                                                                                                                                           
			//validate fields of line items                                                                                                                                                                                                                             
			for (let i = 0; i < aItems.length; i++) {                                                                                                                                                                                                                   
				let oGLAccCtrl = aItems[i].getCells()[0],                                                                                                                                                                                                                  
					oAmountCtrl = aItems[i].getCells()[2],                                                                                                                                                                                                                    
					bFlag = true;                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
				if (oGLAccCtrl.getValue() === '' || oGLAccCtrl.getValueState() === "Error") {                                                                                                                                                                              
					oGLAccCtrl.setValueState("Error");                                                                                                                                                                                                                        
					bFlag = false;                                                                                                                                                                                                                                            
				}                                                                                                                                                                                                                                                          
				if (oAmountCtrl.getValue() === '' || oAmountCtrl.getValueState() === "Error") {                                                                                                                                                                            
					bFlag = false;                                                                                                                                                                                                                                            
					oAmountCtrl.setValueState("Error");                                                                                                                                                                                                                       
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				if (!bFlag) {                                                                                                                                                                                                                                              
					MessageBox.error(this.getI18nText("manadtryFieldErrorMsg"));                                                                                                                                                                                              
					return;                                                                                                                                                                                                                                                   
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			// oView = this.getView(),                                                                                                                                                                                                                                  
			// iFiscalYear = oView.byId("idFiscalYearFilter").getDateValue().getFullYear(),                                                                                                                                                                             
			// oNewDate = new Date(),                                                                                                                                                                                                                                   
			// dPosDate = oView.getModel("postJournalModel").getData().PostingDate.POSTINGDATE,                                                                                                                                                                         
			// sYear = dPosDate.substring(0, 4),                                                                                                                                                                                                                        
			// sMonth = dPosDate.substring(4, 6),                                                                                                                                                                                                                       
			// sDay = dPosDate.substring(6, 8),                                                                                                                                                                                                                         
			// pDateFormatted = new Date(sYear, sMonth - 1, sDay),                                                                                                                                                                                                      
			// oPostDate = oNewDate.getFullYear() === iFiscalYear ? oNewDate : pDateFormatted,                                                                                                                                                                          
			// am1 = '112',                                                                                                                                                                                                                                             
			// am2 = '-112';                                                                                                                                                                                                                                            
			oHeader = oModel.getProperty(oSF.getBindingContext().getPath());                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
			delete oHeader.__metadata;                                                                                                                                                                                                                                  
			delete oHeader.TaxIntention;                                                                                                                                                                                                                                
			delete oHeader.Currencyname;                                                                                                                                                                                                                                
			delete oHeader.Transactiontypetext;                                                                                                                                                                                                                         
			delete oHeader.PstngDateDisply;                                                                                                                                                                                                                             
			delete oHeader.DocDateDisply;                                                                                                                                                                                                                               
			delete oHeader.CompanyName;                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
			//line item data                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
			for (let i = 0; i < aItems.length; i++) {                                                                                                                                                                                                                   
				let sPath = aItems[i].getBindingContextPath(),                                                                                                                                                                                                             
					obj = oModel.getProperty(sPath);                                                                                                                                                                                                                          
				if (obj.DbCrVal === 'H') {                                                                                                                                                                                                                                 
					//	obj.AmtDoccur = -1 * parseFloat(obj.AmtDoccur, [10]).toFixed(2);                                                                                                                                                                                       
					obj.AmtDoccur = -1 * obj.AmtDoccur;                                                                                                                                                                                                                       
				} else {                                                                                                                                                                                                                                                   
					//	obj.AmtDoccur = 1 * parseFloat(obj.AmtDoccur, [10]).toFixed(2);                                                                                                                                                                                        
					obj.AmtDoccur = 1 * obj.AmtDoccur;                                                                                                                                                                                                                        
				}                                                                                                                                                                                                                                                          
				iAmntBal = iAmntBal + obj.AmtDoccur;                                                                                                                                                                                                                       
				aLineItems.push(obj);                                                                                                                                                                                                                                      
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (iAmntBal !== 0) {                                                                                                                                                                                                                                       
				MessageBox.error(this.getI18nText("postAmntBalanceErrorMsg"));                                                                                                                                                                                             
				return;                                                                                                                                                                                                                                                    
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			aLineItems.map(item => {                                                                                                                                                                                                                                    
				//	delete item.AmtDoccur;                                                                                                                                                                                                                                  
				delete item.PartPrctr;                                                                                                                                                                                                                                     
				delete item.DbCrVal;                                                                                                                                                                                                                                       
				delete item.Acttype;                                                                                                                                                                                                                                       
				delete item.Costobject;                                                                                                                                                                                                                                    
				delete item.__metadata;                                                                                                                                                                                                                                    
				item.Currency = oHeader.Currency;                                                                                                                                                                                                                          
				item.AmtDoccur = item.AmtDoccur;                                                                                                                                                                                                                           
				item.CsTransT = oHeader.Transactiontype;                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			// let obj1 = {};                                                                                                                                                                                                                                           
			// let obj2 = {};                                                                                                                                                                                                                                           
			// obj1.Guid = '';                                                                                                                                                                                                                                          
			// obj1.ItemnoAcc = '3';                                                                                                                                                                                                                                    
			// obj1.GlAccount = '0000220000';                                                                                                                                                                                                                           
			// obj1.ProfitCtr = '0000101000';                                                                                                                                                                                                                           
			// obj1.CompCode = 'GB02';                                                                                                                                                                                                                                  
			// obj1.Currency = 'GBP';                                                                                                                                                                                                                                   
			// obj1.AmtDoccur = parseFloat(am2, [10]).toFixed(2);                                                                                                                                                                                                       
			// aLineItems.push(obj1);                                                                                                                                                                                                                                   
			// obj2.Guid = '';                                                                                                                                                                                                                                          
			// obj2.ItemnoAcc = '4';                                                                                                                                                                                                                                    
			// obj2.GlAccount = '0000320000';                                                                                                                                                                                                                           
			// obj2.CompCode = 'GB02';                                                                                                                                                                                                                                  
			// obj2.Currency = 'GBP';                                                                                                                                                                                                                                   
			// obj2.AmtDoccur = parseFloat(am1, [10]).toFixed(2);                                                                                                                                                                                                       
			// aLineItems.push(obj2);                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
			// 	obj1.itemno_acc = '1';                                                                                                                                                                                                                                  
			// obj1.gl_account = '0000220000';                                                                                                                                                                                                                          
			// obj1.profit_ctr = '0000101000';                                                                                                                                                                                                                          
			// obj1.comp_code = 'GB02';                                                                                                                                                                                                                                 
			// obj1.currency = 'GBP';                                                                                                                                                                                                                                   
			// obj1.amt_doccur = parseFloat(am2, [10]).toFixed(2);                                                                                                                                                                                                      
			// aLineItems.push(obj1);                                                                                                                                                                                                                                   
			// obj2.itemno_acc = '2';                                                                                                                                                                                                                                   
			// obj2.gl_account = '0000320000';                                                                                                                                                                                                                          
			// obj2.comp_code = 'GB02';                                                                                                                                                                                                                                 
			// obj2.currency = 'GBP';                                                                                                                                                                                                                                   
			// obj2.amt_doccur = parseFloat(am1, [10]).toFixed(2);                                                                                                                                                                                                      
			// aLineItems.push(obj2);                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
			// oHeader.CompanyCode = 'GB02';                                                                                                                                                                                                                            
			// oHeader.PstngDate = oPostDate;                                                                                                                                                                                                                           
			// oHeader.DocDate = oPostDate;                                                                                                                                                                                                                             
			// oHeader.LedgerGroup = 'G2S';                                                                                                                                                                                                                             
			// oHeader.DocType = 'SA';                                                                                                                                                                                                                                  
			oHeader.AccountItemsSet = aLineItems;                                                                                                                                                                                                                       
			oHeader.ReturnSet = [];                                                                                                                                                                                                                                     
			oModel.setUseBatch(true);                                                                                                                                                                                                                                   
			//Ccreate call for header and line items data                                                                                                                                                                                                               
			oModel.create('/AccountHeaderSet', oHeader, {                                                                                                                                                                                                               
				success: function (oData, oResponse) {                                                                                                                                                                                                                     
					let oRspBody = JSON.parse(oResponse.body),                                                                                                                                                                                                                
						aData = oRspBody.d.ReturnSet.results,                                                                                                                                                                                                                    
						respData = that._getFormattedData(aData);                                                                                                                                                                                                                
					that.getModel("PostJrnMsgModel").setData([]);                                                                                                                                                                                                             
					that.getModel("PostJrnMsgModel").setData(respData);                                                                                                                                                                                                       
					that._generatePostjrnMsgPop();                                                                                                                                                                                                                            
					that._setOrignalMode();                                                                                                                                                                                                                                   
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
					let aData = JSON.parse(oError.responseText).error.innererror.errordetails,                                                                                                                                                                                
						aErrData = that._getFormattedData(aData);                                                                                                                                                                                                                
					that.getModel("PostJrnMsgModel").setData([]);                                                                                                                                                                                                             
					that.getModel("PostJrnMsgModel").setData(aErrData);                                                                                                                                                                                                       
					that._generatePostjrnMsgPop();                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
			// this._oPostJournalDialog.close();                                                                                                                                                                                                                        
			// this._oPostJournalDialog.destroy();                                                                                                                                                                                                                      
			// this._oPostJournalDialog = undefined;                                                                                                                                                                                                                    
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onhandleMessagePopoverPostJouurnal: function (oEvent) {                                                                                                                                                                                                      
			this.oMPPostJrn.toggle(oEvent.getSource());                                                                                                                                                                                                                 
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onPressCancelPostBtn: function () {                                                                                                                                                                                                                          
			bValidateTT = false;                                                                                                                                                                                                                                        
			bValidateCC = false;                                                                                                                                                                                                                                        
			//bValidatePer = false;                                                                                                                                                                                                                                     
			this._oPostJournalDialog.close();                                                                                                                                                                                                                           
			this._oPostJournalDialog.destroy();                                                                                                                                                                                                                         
			this._oPostJournalDialog = undefined;                                                                                                                                                                                                                       
		},                                                                                                                                                                                                                                                           
		onChangeCompanyCode: function (oEvent) {                                                                                                                                                                                                                     
			let aVHData = this.getModel("VHCompCodeModel").getData(),                                                                                                                                                                                                   
				aValCompData = this.getModel("CompnyCodeValModel").getData(),                                                                                                                                                                                              
				aValData = aValCompData.length > 0 ? aValCompData : aVHData,                                                                                                                                                                                               
				sVal = oEvent.getSource().getValue(),                                                                                                                                                                                                                      
				oGLAccVHModel = this.getModel("GLAccVHModel"),                                                                                                                                                                                                             
				oCostCntrVHModel = this.getModel("CostCntrVHModel"),                                                                                                                                                                                                       
				oPrftCentrVHModel = this.getModel("PrftCentrVHModel"),                                                                                                                                                                                                     
				oContrlAreaModel = this.getModel("ContrlAreaModel"),                                                                                                                                                                                                       
				bExist = aValData.some(item => item.CompanyCode === sVal);                                                                                                                                                                                                 
			bGLforPrftCntr = false;                                                                                                                                                                                                                                     
			if (sVal) {                                                                                                                                                                                                                                                 
				this._fetchPeriodVal(sVal);                                                                                                                                                                                                                                
				this._fetchCurrencyForPostGen(oEvent.getSource().getValue(), true);                                                                                                                                                                                        
				this._setMndValues();                                                                                                                                                                                                                                      
				this._fetchValueHelpwithFilter("/C_GLAccountValueHelp", oGLAccVHModel, sVal);                                                                                                                                                                              
				this._fetchValueHelpwithFilter("/C_CostCenterVH", oCostCntrVHModel, sVal);                                                                                                                                                                                 
				this._fetchValueHelpwithFilter("/xEY1xC_ProfitCenterVH", oPrftCentrVHModel, sVal);                                                                                                                                                                         
                                                                                                                                                                                                                                                               
				//fetchCA prft Center and Cost Centr logic                                                                                                                                                                                                                 
				this._fetchValueHelpwithFilter("/xEY1xSAV_C_ControllingArea", oContrlAreaModel, sVal);                                                                                                                                                                     
			}                                                                                                                                                                                                                                                           
			if (bExist) {                                                                                                                                                                                                                                               
				oEvent.getSource().setValueState("None");                                                                                                                                                                                                                  
				bValidateCC = true;                                                                                                                                                                                                                                        
			} else {                                                                                                                                                                                                                                                    
				oEvent.getSource().setValueState("Error");                                                                                                                                                                                                                 
				bValidateCC = false;                                                                                                                                                                                                                                       
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
		//if company code is changed gl acc , prft center and cost center should be empty again                                                                                                                                                                      
		_setMndValues: function () {                                                                                                                                                                                                                                 
			let oTab = this.byId("idLineItemsTable"),                                                                                                                                                                                                                   
				oSF = this.byId("smartForm"),                                                                                                                                                                                                                              
				aItems = oTab.getItems(),                                                                                                                                                                                                                                  
				oModel = oTab.getModel(),                                                                                                                                                                                                                                  
				oBjSF = oModel.getProperty(oSF.getBindingContext().getPath());                                                                                                                                                                                             
			for (let i = 0; i < aItems.length; i++) {                                                                                                                                                                                                                   
				let sPath = aItems[i].getBindingContextPath();                                                                                                                                                                                                             
				oModel.setProperty(sPath + "/GlAccount", '');                                                                                                                                                                                                              
				oModel.setProperty(sPath + "/Costcenter", '');                                                                                                                                                                                                             
				oModel.setProperty(sPath + "/ProfitCtr", '');                                                                                                                                                                                                              
				oModel.setProperty(sPath + "/CompCode", oBjSF.CompanyCode);                                                                                                                                                                                                
				// obj.GlAccount = '';                                                                                                                                                                                                                                     
				// obj.Costcenter = '';                                                                                                                                                                                                                                    
				// obj.ProfitCtr = '';                                                                                                                                                                                                                                     
			}                                                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_getFormattedData: function (aData) {                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			for (let i = 0; i < aData.length; i++) {                                                                                                                                                                                                                    
				if (aData[i].hasOwnProperty("Type")) {                                                                                                                                                                                                                     
					break;                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
				} else {                                                                                                                                                                                                                                                   
					if (aData[i].severity) {                                                                                                                                                                                                                                  
						switch (aData[i].severity) {                                                                                                                                                                                                                             
						case "error":                                                                                                                                                                                                                                            
							aData[i].Type = 'E';                                                                                                                                                                                                                                    
							break;                                                                                                                                                                                                                                                  
						case "success":                                                                                                                                                                                                                                          
							aData[i].Type = 'S';                                                                                                                                                                                                                                    
							break;                                                                                                                                                                                                                                                  
						default:                                                                                                                                                                                                                                                 
							aData[i].Type = 'w';                                                                                                                                                                                                                                    
							break;                                                                                                                                                                                                                                                  
						}                                                                                                                                                                                                                                                        
					}                                                                                                                                                                                                                                                         
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			return aData;                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
		_generatePostjrnMsgPop: function () {                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			let that = this,                                                                                                                                                                                                                                            
				aData = this.getModel("PostJrnMsgModel").getData();                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			this.oMPPostJrn = new MessagePopover({                                                                                                                                                                                                                      
				items: {                                                                                                                                                                                                                                                   
					path: "PostJrnMsgModel>/",                                                                                                                                                                                                                                
					template: new MessageItem({                                                                                                                                                                                                                               
						title: "{PostJrnMsgModel>message}",                                                                                                                                                                                                                      
						subtitle: "",                                                                                                                                                                                                                                            
						activeTitle: false,                                                                                                                                                                                                                                      
						type: {                                                                                                                                                                                                                                                  
							parts: [{                                                                                                                                                                                                                                               
								path: 'PostJrnMsgModel>Type'                                                                                                                                                                                                                           
							}],                                                                                                                                                                                                                                                     
							formatter: this.formatMessageType                                                                                                                                                                                                                       
						},                                                                                                                                                                                                                                                       
						description: "{PostJrnMsgModel>message}"                                                                                                                                                                                                                 
					})                                                                                                                                                                                                                                                        
				},                                                                                                                                                                                                                                                         
				groupItems: true                                                                                                                                                                                                                                           
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			this.getView().addDependent(this.oMPPostJrn);                                                                                                                                                                                                               
			this.byId("idMsgPopoverBtn").setVisible(true);                                                                                                                                                                                                              
			this.byId("idMsgPopoverBtn").setText(aData.length);                                                                                                                                                                                                         
			this.byId("idMsgPopoverBtn").setType(this._buttonTypeFormatter(aData));                                                                                                                                                                                     
			this._buttonIconFormatter(aData, this.byId("idMsgPopoverBtn"));                                                                                                                                                                                             
			setTimeout(function () {                                                                                                                                                                                                                                    
				this.oMPPostJrn.openBy(this.byId("idMsgPopoverBtn"));                                                                                                                                                                                                      
			}.bind(this), 100);                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
		//New                                                                                                                                                                                                                                                        
		_generateMessagePopover: function () {                                                                                                                                                                                                                       
			let that = this,                                                                                                                                                                                                                                            
				aMessages = this._oDataMonitor.getContent()[0].getModel().getData().results;                                                                                                                                                                               
			this.oMP = new MessagePopover({                                                                                                                                                                                                                             
				activeTitlePress: function (oEvent) {                                                                                                                                                                                                                      
					let oItemTitle = oEvent.getParameters().item.getProperty("title");                                                                                                                                                                                        
					let oData = oEvent.getSource().getModel().getData().results;                                                                                                                                                                                              
					for (let i = 0; i < oData.length; i++) {                                                                                                                                                                                                                  
						if (oItemTitle === oData[i].MessageText) {                                                                                                                                                                                                               
							let oGuid = oData[i].LogNumber;                                                                                                                                                                                                                         
							oGuid = that._removeChar(oGuid, "-");                                                                                                                                                                                                                   
							oGuid = oGuid.trim();                                                                                                                                                                                                                                   
							oGuid = oGuid.toUpperCase();                                                                                                                                                                                                                            
							let oCrossAppNavigator = sap.ushell.Container.getService("CrossApplicationNavigation");                                                                                                                                                                 
							oCrossAppNavigator.isIntentSupported(["ConsolidationLog-log"])                                                                                                                                                                                          
								.done(function (aResponses) {})                                                                                                                                                                                                                        
								.fail(function () {                                                                                                                                                                                                                                    
									new sap.m.MessageToast("Provide corresponding intent to navigate");                                                                                                                                                                                   
								});                                                                                                                                                                                                                                                    
							let hash = (oCrossAppNavigator && oCrossAppNavigator.hrefForExternal({                                                                                                                                                                                  
								target: {                                                                                                                                                                                                                                              
									semanticObject: "ConsolidationLog",                                                                                                                                                                                                                   
									action: "log"                                                                                                                                                                                                                                         
								}                                                                                                                                                                                                                                                      
							})) || "";                                                                                                                                                                                                                                              
							let newHash = hash + "&/LogHeaderSet/" + oGuid;                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
							let url1 = window.location.href.split('#')[0] + newHash;                                                                                                                                                                                                
							sap.m.URLHelper.redirect(url1, true);                                                                                                                                                                                                                   
						}                                                                                                                                                                                                                                                        
					}                                                                                                                                                                                                                                                         
				},                                                                                                                                                                                                                                                         
				items: {                                                                                                                                                                                                                                                   
					path: "/results",                                                                                                                                                                                                                                         
					template: new MessageItem({                                                                                                                                                                                                                               
						title: "{MessageText}",                                                                                                                                                                                                                                  
						subtitle: "",                                                                                                                                                                                                                                            
						activeTitle: {                                                                                                                                                                                                                                           
							parts: [{                                                                                                                                                                                                                                               
								path: "URL"                                                                                                                                                                                                                                            
							}],                                                                                                                                                                                                                                                     
							formatter: this._isActive                                                                                                                                                                                                                               
						},                                                                                                                                                                                                                                                       
						type: {                                                                                                                                                                                                                                                  
							path: "Type",                                                                                                                                                                                                                                           
							formatter: this.formatMessageType                                                                                                                                                                                                                       
						},                                                                                                                                                                                                                                                       
						description: "{MessageText}"                                                                                                                                                                                                                             
					})                                                                                                                                                                                                                                                        
				},                                                                                                                                                                                                                                                         
				groupItems: true                                                                                                                                                                                                                                           
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			this.getView().addDependent(this.oMP);                                                                                                                                                                                                                      
			this.getView().byId("idMessagePopoverBtn").setVisible(true);                                                                                                                                                                                                
			this.getView().byId("idMessagePopoverBtn").setText(aMessages.length);                                                                                                                                                                                       
			this.getView().byId("idMessagePopoverBtn").setType(this._buttonTypeFormatter(aMessages));                                                                                                                                                                   
			this._buttonIconFormatter(aMessages, this.getView().byId("idMessagePopoverBtn"));                                                                                                                                                                           
			setTimeout(function () {                                                                                                                                                                                                                                    
				this.oMP.openBy(this.getView().byId("idMessagePopoverBtn"));                                                                                                                                                                                               
			}.bind(this), 100);                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onCloseToolbarPress: function (oEvent) {                                                                                                                                                                                                                     
			this.getView().byId("idReconAppFooterOverflowToolbar").setVisible(false);                                                                                                                                                                                   
			//this.getView().byId("iddynamicPage").setFooter(false);                                                                                                                                                                                                    
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_buttonTypeFormatter: function (aMessages) {                                                                                                                                                                                                                 
			var sHighestSeverity;                                                                                                                                                                                                                                       
			//var aMessages = this._oDataMonitor.getContent()[0].getModel().getData().results;                                                                                                                                                                          
			aMessages.forEach(function (sMessage) {                                                                                                                                                                                                                     
				switch (sMessage.Type) {                                                                                                                                                                                                                                   
				case "E":                                                                                                                                                                                                                                                  
					sHighestSeverity = "Reject";                                                                                                                                                                                                                              
					break;                                                                                                                                                                                                                                                    
				case "W":                                                                                                                                                                                                                                                  
					sHighestSeverity = sHighestSeverity !== "Reject" ? "Critical" : sHighestSeverity;                                                                                                                                                                         
					break;                                                                                                                                                                                                                                                    
				case "S":                                                                                                                                                                                                                                                  
					sHighestSeverity = sHighestSeverity !== "Reject" && sHighestSeverity !== "Critical" ? "Accept" : sHighestSeverity;                                                                                                                                        
					break;                                                                                                                                                                                                                                                    
				default:                                                                                                                                                                                                                                                   
					sHighestSeverity = !sHighestSeverity ? "Neutral" : sHighestSeverity;                                                                                                                                                                                      
					break;                                                                                                                                                                                                                                                    
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			//this.getView().byId("idMessagePopoverBtn").setType(sHighestSeverity);                                                                                                                                                                                     
			return sHighestSeverity;                                                                                                                                                                                                                                    
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_buttonIconFormatter: function (aMessages, oControl) {                                                                                                                                                                                                       
			var sIcon;                                                                                                                                                                                                                                                  
			//	var aMessages =this._oDataMonitor.getContent()[0].getModel().getData().results;                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			aMessages.forEach(function (sMessage) {                                                                                                                                                                                                                     
				switch (sMessage.Type) {                                                                                                                                                                                                                                   
				case "E":                                                                                                                                                                                                                                                  
					sIcon = "sap-icon://message-error";                                                                                                                                                                                                                       
					break;                                                                                                                                                                                                                                                    
				case "W":                                                                                                                                                                                                                                                  
					sIcon = sIcon !== "sap-icon://message-error" ? "sap-icon://message-warning" : sIcon;                                                                                                                                                                      
					break;                                                                                                                                                                                                                                                    
				case "S":                                                                                                                                                                                                                                                  
					sIcon = "sap-icon://message-error" && sIcon !== "sap-icon://message-warning" ? "sap-icon://message-success" : sIcon;                                                                                                                                      
					break;                                                                                                                                                                                                                                                    
				default:                                                                                                                                                                                                                                                   
					sIcon = !sIcon ? "sap-icon://message-information" : sIcon;                                                                                                                                                                                                
					break;                                                                                                                                                                                                                                                    
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
			oControl.setIcon(sIcon);                                                                                                                                                                                                                                    
		},                                                                                                                                                                                                                                                           
		//Shift To Fromatter                                                                                                                                                                                                                                         
		_isActive: function (oURL) {                                                                                                                                                                                                                                 
			if (oURL === "") {                                                                                                                                                                                                                                          
				return false;                                                                                                                                                                                                                                              
			} else {                                                                                                                                                                                                                                                    
				return true;                                                                                                                                                                                                                                               
			}                                                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
		//Shift To Formatter                                                                                                                                                                                                                                         
		formatMessageType: function (oType) {                                                                                                                                                                                                                        
			if (oType === "E") {                                                                                                                                                                                                                                        
				return coreLibrary.MessageType.Error;                                                                                                                                                                                                                      
			} else if (oType === "S") {                                                                                                                                                                                                                                 
				return coreLibrary.MessageType.Success;                                                                                                                                                                                                                    
			} else {                                                                                                                                                                                                                                                    
				return coreLibrary.MessageType.Warning;                                                                                                                                                                                                                    
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onhandleMessagePopoverPress: function (oEvent) {                                                                                                                                                                                                             
			this.oMP.toggle(oEvent.getSource());                                                                                                                                                                                                                        
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onDataMonitorPress: function (oEvent) {                                                                                                                                                                                                                      
			let that = this,                                                                                                                                                                                                                                            
				oModel = this.getOwnerComponent().getModel(),                                                                                                                                                                                                              
				oConsolidationUnit = this.getView().byId("idConsUnit"),                                                                                                                                                                                                    
				oFilter = [],                                                                                                                                                                                                                                              
				sURLParameter = "/LedgerSet",                                                                                                                                                                                                                              
				aFilter = new Filter({                                                                                                                                                                                                                                     
					path: "BUnit",                                                                                                                                                                                                                                            
					operator: FilterOperator.EQ,                                                                                                                                                                                                                              
					value1: oConsolidationUnit.getSelectedItem().getKey()                                                                                                                                                                                                     
				});                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			if (this.oMP) {                                                                                                                                                                                                                                             
				let newModel = new JSONModel();                                                                                                                                                                                                                            
				let newData = [];                                                                                                                                                                                                                                          
				newModel.setData(newData);                                                                                                                                                                                                                                 
				this.oMP.setModel(newModel);                                                                                                                                                                                                                               
				this.getView().byId("idMessagePopoverBtn").setVisible(false);                                                                                                                                                                                              
			}                                                                                                                                                                                                                                                           
			this.getView().byId("idReconAppFooterOverflowToolbar").setVisible(true);                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
			this.getBusyDialog().open();                                                                                                                                                                                                                                
			oFilter.push(aFilter);                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			oModel.read(sURLParameter, {                                                                                                                                                                                                                                
				filters: oFilter,                                                                                                                                                                                                                                          
				success: that._onLedgerSetSuccess.bind(this),                                                                                                                                                                                                              
				error: that._onLedgerSetError.bind(this)                                                                                                                                                                                                                   
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_onLedgerSetSuccess: function (oData) {                                                                                                                                                                                                                      
			let oModel = this.getOwnerComponent().getModel(), //"dataMonitor"                                                                                                                                                                                           
				oConsolidationUnit = this.getView().byId("idConsUnit"),                                                                                                                                                                                                    
				oFiscalYear = this.getView().byId("idFiscalYearFilter"),                                                                                                                                                                                                   
				oCurrencyCB = this.getView().byId("idCurrency"),                                                                                                                                                                                                           
				oCurrLocalGroupVHModel = this.getModel("currLocalGroupVHModel"),                                                                                                                                                                                           
				sURLParameter = "/DataMonitorParameters";                                                                                                                                                                                                                  
			if (!this._oDataMonitor) {                                                                                                                                                                                                                                  
				this._oDataMonitor = sap.ui.xmlfragment("ey.sap.fin.cs.recgaapstattax.fragment.DataMonitorLog", this);                                                                                                                                                     
				this.getView().addDependent(this._oDataMonitor);                                                                                                                                                                                                           
			}                                                                                                                                                                                                                                                           
			let oList = this._oDataMonitor.getContent()[0];                                                                                                                                                                                                             
			if (oList.getModel().getData()) {                                                                                                                                                                                                                           
				let newJSONData = null;                                                                                                                                                                                                                                    
				oList.getModel().setData(newJSONData);                                                                                                                                                                                                                     
			}                                                                                                                                                                                                                                                           
			let i = 0;                                                                                                                                                                                                                                                  
			let oFilterData = {                                                                                                                                                                                                                                         
				Action: "'" + 1015 + "'",                                                                                                                                                                                                                                  
				ConsolidationUnit: "'" + oConsolidationUnit.getSelectedItem().getKey() + "'",                                                                                                                                                                              
				FiscalYear: "'" + oFiscalYear.getDateValue().getFullYear() + "'",                                                                                                                                                                                          
				Ledger: "'" + oData.results[i].RLDNR + "'",                                                                                                                                                                                                                
				GroupCurrency: "'" + oCurrLocalGroupVHModel.getData().results[1].Currency + "'",                                                                                                                                                                           
				LocalCurrency: "'" + oCurrencyCB.getSelectedItem().getKey() + "'",                                                                                                                                                                                         
				PeriodFrom: "'" + this.getView().byId("idPeriodFromInput").getValue() + "'",                                                                                                                                                                               
				PeriodTo: "'" + this.getView().byId("idPeriodToInput").getValue() + "'",                                                                                                                                                                                   
				Intention: "'" + this.getView().byId("idIntentionComboBox").getSelectedItem().getBindingContext("intentionVHModel").getObject().Intention + "'"                                                                                                            
			};                                                                                                                                                                                                                                                          
			this._callDataMonitorFunctionImportRecursion(oModel, sURLParameter, i, oFilterData.Action,                                                                                                                                                                  
				oFilterData.ConsolidationUnit, oFilterData.FiscalYear, oData.results, oFilterData.GroupCurrency,                                                                                                                                                           
				oFilterData.LocalCurrency, oFilterData.PeriodFrom, oFilterData.PeriodTo, oData.results.length);                                                                                                                                                            
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_callDataMonitorFunctionImportRecursion: function (oModel, sURLParameter, i, Action, ConsolidationUnit, FiscalYear, Ledger,                                                                                                                                  
			GroupCurrency, LocalCurrency, PeriodFrom, PeriodTo, length) {                                                                                                                                                                                               
			let oFilterData = {                                                                                                                                                                                                                                         
				Action: Action,                                                                                                                                                                                                                                            
				ConsolidationUnit: ConsolidationUnit,                                                                                                                                                                                                                      
				FiscalYear: FiscalYear,                                                                                                                                                                                                                                    
				Ledger: "'" + Ledger[i].RLDNR + "'",                                                                                                                                                                                                                       
				GroupCurrency: GroupCurrency,                                                                                                                                                                                                                              
				LocalCurrency: LocalCurrency,                                                                                                                                                                                                                              
				PeriodFrom: PeriodFrom,                                                                                                                                                                                                                                    
				PeriodTo: PeriodTo,                                                                                                                                                                                                                                        
				Intention: "'" + this.getView().byId("idIntentionComboBox").getSelectedItem().getBindingContext("intentionVHModel").getObject().Intention + "'"                                                                                                            
			};                                                                                                                                                                                                                                                          
			this._callDataMonitorFunctionImport(this, sURLParameter, oModel, oFilterData, i, Action, ConsolidationUnit, FiscalYear, Ledger,                                                                                                                             
				GroupCurrency, LocalCurrency, PeriodFrom, PeriodTo, length);                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_callDataMonitorFunctionImport: function (that, sURLParameter, oModel, oFilterData, i, Action, ConsolidationUnit, FiscalYear,                                                                                                                                
			Ledger,                                                                                                                                                                                                                                                     
			GroupCurrency, LocalCurrency, PeriodFrom, PeriodTo, length) {                                                                                                                                                                                               
			oModel.read(sURLParameter, {                                                                                                                                                                                                                                
				method: "GET",                                                                                                                                                                                                                                             
				//groupId: "newBatch" + i,                                                                                                                                                                                                                                 
				urlParameters: oFilterData,                                                                                                                                                                                                                                
				success: function (oData) {                                                                                                                                                                                                                                
					//that._oDataMonitor.open();                                                                                                                                                                                                                              
					let oList = that._oDataMonitor.getContent()[0];                                                                                                                                                                                                           
					let oJSONData = oList.getModel().getData();                                                                                                                                                                                                               
					oList.setBusy(true);                                                                                                                                                                                                                                      
					let oJSONModel = new JSONModel();                                                                                                                                                                                                                         
					if (!oJSONData) {                                                                                                                                                                                                                                         
						oJSONData = oData;                                                                                                                                                                                                                                       
					} else {                                                                                                                                                                                                                                                  
						for (let j = 0; j < oData.results.length; j++) {                                                                                                                                                                                                         
							oJSONData.results.push(oData.results[j]);                                                                                                                                                                                                               
						}                                                                                                                                                                                                                                                        
					}                                                                                                                                                                                                                                                         
					oJSONModel.setData(oJSONData);                                                                                                                                                                                                                            
					oList.setModel(oJSONModel);                                                                                                                                                                                                                               
					i = i + 1;                                                                                                                                                                                                                                                
					if (i < length) {                                                                                                                                                                                                                                         
						that._callDataMonitorFunctionImportRecursion(oModel, sURLParameter, i, Action, ConsolidationUnit, FiscalYear, Ledger,                                                                                                                                    
							GroupCurrency,                                                                                                                                                                                                                                          
							LocalCurrency, PeriodFrom, PeriodTo, length);                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
					} else {                                                                                                                                                                                                                                                  
						oList.setBusy(false);                                                                                                                                                                                                                                    
						that.getBusyDialog().close();                                                                                                                                                                                                                            
						that._generateMessagePopover();                                                                                                                                                                                                                          
						if (that._oDataMonitor) {                                                                                                                                                                                                                                
							let oLists = that._oDataMonitor.getContent()[0];                                                                                                                                                                                                        
							if (oLists.getModel().getData()) {                                                                                                                                                                                                                      
								that.oMP.setModel((oLists.getModel()));                                                                                                                                                                                                                
							}                                                                                                                                                                                                                                                       
						}                                                                                                                                                                                                                                                        
					}                                                                                                                                                                                                                                                         
				},                                                                                                                                                                                                                                                         
				error: function (oResponse) {                                                                                                                                                                                                                              
					that.getBusyDialog().close();                                                                                                                                                                                                                             
					MessageBox.error(that.getI18nText("errorDataMonitor"));                                                                                                                                                                                                   
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			oModel.submitChanges();                                                                                                                                                                                                                                     
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_onLedgerSetError: function (oResponse) {                                                                                                                                                                                                                    
			this.getBusyDialog().close();                                                                                                                                                                                                                               
			MessageBox.error(this.getI18nText("errorLedgerSet"));                                                                                                                                                                                                       
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onPressOkBtnDataMonitor: function (oEvent) {                                                                                                                                                                                                                 
			this.getBusyDialog().close();                                                                                                                                                                                                                               
			this._oDataMonitor.close();                                                                                                                                                                                                                                 
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onDataMonitorListItemPress: function (oEvent) {                                                                                                                                                                                                              
			let oListData = this._oDataMonitor.getContent()[0].getModel().getData().results,                                                                                                                                                                            
				oSourceText = oEvent.getSource().getText(),                                                                                                                                                                                                                
				oGuid;                                                                                                                                                                                                                                                     
			for (let k = 0; k < oListData.length; k++) {                                                                                                                                                                                                                
				if (oListData[k].MessageText === oSourceText) {                                                                                                                                                                                                            
					oGuid = oListData[k].LogNumber;                                                                                                                                                                                                                           
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
			oGuid = this._removeChar(oGuid, "-");                                                                                                                                                                                                                       
			oGuid = oGuid.trim();                                                                                                                                                                                                                                       
			oGuid = oGuid.toUpperCase();                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
			var oCrossAppNavigator = sap.ushell.Container.getService("CrossApplicationNavigation");                                                                                                                                                                     
			oCrossAppNavigator.isIntentSupported(["ConsolidationLog-log"])                                                                                                                                                                                              
				.done(function (aResponses) {})                                                                                                                                                                                                                            
				.fail(function () {                                                                                                                                                                                                                                        
					new sap.m.MessageToast("Provide corresponding intent to navigate");                                                                                                                                                                                       
				});                                                                                                                                                                                                                                                        
			var hash = (oCrossAppNavigator && oCrossAppNavigator.hrefForExternal({                                                                                                                                                                                      
				target: {                                                                                                                                                                                                                                                  
					semanticObject: "ConsolidationLog",                                                                                                                                                                                                                       
					action: "log"                                                                                                                                                                                                                                             
				}                                                                                                                                                                                                                                                          
			})) || "";                                                                                                                                                                                                                                                  
			var newHash = hash + "&/LogHeaderSet/" + oGuid;                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			var url1 = window.location.href.split('#')[0] + newHash;                                                                                                                                                                                                    
			sap.m.URLHelper.redirect(url1, true);                                                                                                                                                                                                                       
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_removeChar: function (s, c) {                                                                                                                                                                                                                               
			let j, count = 0,                                                                                                                                                                                                                                           
				n = s.length;                                                                                                                                                                                                                                              
			let t = s.split("");                                                                                                                                                                                                                                        
			for (let i = j = 0; i < n; i++) {                                                                                                                                                                                                                           
				if (t[i] !== c)                                                                                                                                                                                                                                            
					t[j++] = t[i];                                                                                                                                                                                                                                            
				else                                                                                                                                                                                                                                                       
					count++;                                                                                                                                                                                                                                                  
			}                                                                                                                                                                                                                                                           
			while (count > 0) {                                                                                                                                                                                                                                         
				t[j++] = ' ';                                                                                                                                                                                                                                              
				count--;                                                                                                                                                                                                                                                   
			}                                                                                                                                                                                                                                                           
			return t.join("");                                                                                                                                                                                                                                          
		},                                                                                                                                                                                                                                                           
		//End                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
		onPressJournalEntriesDetail: function (oEvent) {                                                                                                                                                                                                             
			// Generate Data for Journal Entries Filter                                                                                                                                                                                                                 
			var oJournalEntryData = this._createJournalEntriesFilterData(oEvent);                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			// If oJournalEntryData does not exist, then Do Not Execute code further                                                                                                                                                                                    
			if (!oJournalEntryData) {                                                                                                                                                                                                                                   
				return;                                                                                                                                                                                                                                                    
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			var oModel = new JSONModel(oJournalEntryData);                                                                                                                                                                                                              
			this.getOwnerComponent().setModel(oModel, "JournalEntryData");                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			this.oRouter.navTo("JournalEntries");                                                                                                                                                                                                                       
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		// <!--	~~~~~~~~~~~~~~~~~~~~~~~~~	PTA Drill Down	~~~~~~~~~~~~~~~~~~~~~~~~	-->                                                                                                                                                                                
		onPressPTAEntriesDetail: function (oEvent) {                                                                                                                                                                                                                 
			// Generate Data for PTA Entries Filter                                                                                                                                                                                                                     
			var oPTAEntryData = this._createPTAEntriesFilterData(oEvent);                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			if (oPTAEntryData.GLAccount === this.getI18nText("BalanceCheckSumLabel")) {                                                                                                                                                                                 
				return;                                                                                                                                                                                                                                                    
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			var oModel = new JSONModel(oPTAEntryData);                                                                                                                                                                                                                  
			this.getOwnerComponent().setModel(oModel, "PTAEntryConfigData");                                                                                                                                                                                            
			this.oRouter.navTo("PTAEntries");                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onPressPostPTAEntriesBtn: function (oEvent) {                                                                                                                                                                                                                
			// Variable declaration                                                                                                                                                                                                                                     
			let oAnalyticalTable = this.oGlobalSmartTable.getTable(),                                                                                                                                                                                                   
				oAnalyticalTableBinding = oAnalyticalTable.getBinding(),                                                                                                                                                                                                   
				aSelectedIndices = oAnalyticalTable.getSelectedIndices(),                                                                                                                                                                                                  
				aGlAccountList = [];                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			// If nothing is selected by user - Return error                                                                                                                                                                                                            
			if (!aSelectedIndices.length > 0) {                                                                                                                                                                                                                         
				MessageBox.error(this.getI18nText("errorNoGlAccountSelected"));                                                                                                                                                                                            
				return;                                                                                                                                                                                                                                                    
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (bAreAllTableRowsSelectedGlobal) {                                                                                                                                                                                                                       
				// '-1' as we are not considering SUM row                                                                                                                                                                                                                  
				let iDataLength = oAnalyticalTableBinding.getLength() - 1;                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
				// User selected GL Accounts using SelectAll.  With/Without Scrolling - Get all GL Account List.                                                                                                                                                           
				// Capture Data to be sent - Loop on selected indices                                                                                                                                                                                                      
				for (let i = 0; i < iDataLength; i++) {                                                                                                                                                                                                                    
					//	Get the row data using the "getContextByIndex" method - (getSelectedItem method does not exists for Analytical column)                                                                                                                                 
					let oTempData = oAnalyticalTableBinding.getContextByIndex(i).getObject();                                                                                                                                                                                 
					aGlAccountList.push(oTempData.GLAccount);                                                                                                                                                                                                                 
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			} else {                                                                                                                                                                                                                                                    
				// User selected GL Accounts manually                                                                                                                                                                                                                      
				// Capture Data to be sent - Loop on selected indices                                                                                                                                                                                                      
				for (let iSbCounter of aSelectedIndices) {                                                                                                                                                                                                                 
					//	Get the row data using the "getContextByIndex" method - (getSelectedItem method does not exists for Analytical column)                                                                                                                                 
					let oTempData = oAnalyticalTableBinding.getContextByIndex(iSbCounter).getObject();                                                                                                                                                                        
					aGlAccountList.push(oTempData.GLAccount);                                                                                                                                                                                                                 
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			this.validatePAndLAccounts(aGlAccountList);                                                                                                                                                                                                                 
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		validatePAndLAccounts: function (aGlAccountList) {                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			let oServiceCallModel = this.getModel(),                                                                                                                                                                                                                    
				that = this,                                                                                                                                                                                                                                               
				pnlValue = "P&L",                                                                                                                                                                                                                                          
				aGlFilters = [],                                                                                                                                                                                                                                           
				oFFilters,                                                                                                                                                                                                                                                 
				postPTAEntryConfigModel = this.getOwnerComponent().getModel("postPTAEntriesConfigModel"),                                                                                                                                                                  
				postPTAEntryConfigData = postPTAEntryConfigModel.getData(),                                                                                                                                                                                                
				oConsolidationUnit = this.getView().byId("idConsUnit"),                                                                                                                                                                                                    
				oFiscalYear = this.getView().byId("idFiscalYearFilter"),                                                                                                                                                                                                   
				sPoper = parseInt(this.getView().byId("idPeriodToInput").getValue(), [10]),                                                                                                                                                                                
				oSelectedIntention = this.getView().byId("idIntentionComboBox").getSelectedItem().getBindingContext("intentionVHModel").getObject(),                                                                                                                       
				oCurrencyCB = this.getView().byId("idCurrency"),                                                                                                                                                                                                           
				globalParameterData = this.getView().getModel("viewConfigDataModel").getData(),                                                                                                                                                                            
				oCurrLocalGroupVHModel = this.getModel("currLocalGroupVHModel"),                                                                                                                                                                                           
				sServiceURL = this.oGlobalSmartTable.getTableBindingPath() + "/$count",                                                                                                                                                                                    
				sServiceUrlPD = "/PostingDate",                                                                                                                                                                                                                            
				oPostingDateModel = new JSONModel();                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			sap.ui.getCore().setModel(oPostingDateModel, "viewPostingDataModel");                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			//Get Posting Date - Last day of selected period to                                                                                                                                                                                                         
			oServiceCallModel.callFunction(sServiceUrlPD, {                                                                                                                                                                                                             
				method: "GET",                                                                                                                                                                                                                                             
				urlParameters: {                                                                                                                                                                                                                                           
					ConsolidationUnit: oConsolidationUnit.getSelectedItem().getKey(),                                                                                                                                                                                         
					FiscalYear: oFiscalYear.getDateValue().getFullYear(),                                                                                                                                                                                                     
					Poper: sPoper                                                                                                                                                                                                                                             
				},                                                                                                                                                                                                                                                         
				success: function (oData) {                                                                                                                                                                                                                                
					sap.ui.getCore().getModel("viewPostingDataModel").setData({                                                                                                                                                                                               
						"PostingDate": oData                                                                                                                                                                                                                                     
					});                                                                                                                                                                                                                                                       
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
					if (parseInt(oError.statusCode, [10]) !== 404) {                                                                                                                                                                                                          
						MessageToast.show(that.getI18nText("GetPostingDateServiceCallError"));                                                                                                                                                                                   
					}                                                                                                                                                                                                                                                         
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			// Generate filters for service call                                                                                                                                                                                                                        
			for (let sGlAccount of aGlAccountList) {                                                                                                                                                                                                                    
				aGlFilters.push(new Filter("GLAccount", FilterOperator.EQ, sGlAccount));                                                                                                                                                                                   
			}                                                                                                                                                                                                                                                           
			oFFilters = new Filter({                                                                                                                                                                                                                                    
				filters: [new Filter({                                                                                                                                                                                                                                     
					filters: aGlFilters                                                                                                                                                                                                                                       
				}), new Filter("BsEqPl", FilterOperator.EQ, pnlValue), postPTAEntryConfigData.oMainServiceFilters],                                                                                                                                                        
				and: true                                                                                                                                                                                                                                                  
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			this.getBusyDialog().open();                                                                                                                                                                                                                                
			oServiceCallModel.read(sServiceURL, {                                                                                                                                                                                                                       
				method: "GET",                                                                                                                                                                                                                                             
				filters: [oFFilters],                                                                                                                                                                                                                                      
				success: function (oData) {                                                                                                                                                                                                                                
					that.getBusyDialog().close();                                                                                                                                                                                                                             
					// P&L Data exists                                                                                                                                                                                                                                        
					if (parseInt(oData, [10]) > 0 && parseInt(oData, [10]) === aGlAccountList.length) {                                                                                                                                                                       
						postPTAEntryConfigData.postPTAEntriesList = aGlAccountList;                                                                                                                                                                                              
						postPTAEntryConfigData.ConsolidationUnit = oConsolidationUnit.getSelectedItem().getKey();                                                                                                                                                                
						postPTAEntryConfigData.FiscalYear = oFiscalYear.getDateValue().getFullYear();                                                                                                                                                                            
						postPTAEntryConfigData.CurrencyType = oCurrencyCB.getSelectedItem().getAdditionalText();                                                                                                                                                                 
						postPTAEntryConfigData.globalParameterData = globalParameterData;                                                                                                                                                                                        
						postPTAEntryConfigData.currLocalGroupVHData = oCurrLocalGroupVHModel.getData();                                                                                                                                                                          
                                                                                                                                                                                                                                                               
						if (oSelectedIntention.TaxIntention <= 105 && oSelectedIntention.TaxIntention >= 101) {                                                                                                                                                                  
							postPTAEntryConfigData.TaxIntention = oSelectedIntention.TaxIntention;                                                                                                                                                                                  
							postPTAEntryConfigData.TaxIntentionDesc = oSelectedIntention.IntentDescription;                                                                                                                                                                         
						} else {                                                                                                                                                                                                                                                 
							postPTAEntryConfigData.TaxIntention = "";                                                                                                                                                                                                               
						}                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
						postPTAEntryConfigData.postingDate = sap.ui.getCore().getModel("viewPostingDataModel").getData().PostingDate;                                                                                                                                            
                                                                                                                                                                                                                                                               
						postPTAEntryConfigModel.setData(postPTAEntryConfigData);                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
						// Navigate to POST PTA Entries Screen                                                                                                                                                                                                                   
						that.getBusyDialog().open();                                                                                                                                                                                                                             
						that.oRouter.navTo("PostPTAEntries");                                                                                                                                                                                                                    
					} else { // P&L data doesn't exists                                                                                                                                                                                                                       
						MessageBox.error(that.getI18nText("errorSelectOnlyPnLAccounts"));                                                                                                                                                                                        
					}                                                                                                                                                                                                                                                         
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
					that.getBusyDialog().close();                                                                                                                                                                                                                             
					MessageBox.error(that.getI18nText("errorValidatingPnLAccount"));                                                                                                                                                                                          
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onPressRowSelectionChangeAnalyticalTable: function (oEvent) {                                                                                                                                                                                                
			bAreAllTableRowsSelectedGlobal = false;                                                                                                                                                                                                                     
			if (oEvent.getParameters().selectAll) {                                                                                                                                                                                                                     
				bAreAllTableRowsSelectedGlobal = oEvent.getParameters().selectAll;                                                                                                                                                                                         
				return;                                                                                                                                                                                                                                                    
			}                                                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
		onPressOkBtnAppSettingsCTA: function (oEvent) {                                                                                                                                                                                                              
			let bValid = this.getView().byId("idsmartFilterBar").validateMandatoryFields();                                                                                                                                                                             
			if (bValid) {                                                                                                                                                                                                                                               
				this.oGlobalSmartTable.rebindTable();                                                                                                                                                                                                                      
			}                                                                                                                                                                                                                                                           
			this._oAppSettingDialogCTA.close();                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onPressReconciliationAnalyticsBtn: function (oEvent) {                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			//  Variable declaration                                                                                                                                                                                                                                    
			let oView = this.getView(),                                                                                                                                                                                                                                 
				globalParameterData = oView.getModel("viewConfigDataModel").getData(),                                                                                                                                                                                     
				sConsUnit = oView.byId("idConsUnit").getSelectedKey(),                                                                                                                                                                                                     
				sFiscalYear = oView.byId("idFiscalYearFilter").getDateValue().getFullYear(),                                                                                                                                                                               
				sPreviousFiscalYear = parseInt(sFiscalYear, [10]) - 1,                                                                                                                                                                                                     
				paramFromYb = parseInt(oView.byId("idPeriodFromInput").getValue(), [10]),                                                                                                                                                                                  
				paramToYb = parseInt(oView.byId("idPeriodToInput").getValue(), [10]),                                                                                                                                                                                      
				sCurrencyUnit = oView.byId("idCurrency").getSelectedKey(),                                                                                                                                                                                                 
				oIsCTAIncluded = this._oAppSettingDialogCTA.getContent().find(item => item.getId() === "idAppSettingsCTAIsCTAIncludedCheckBox"),                                                                                                                           
				sIsCTAIncluded = oIsCTAIncluded.getSelected() ? 'X' : '',                                                                                                                                                                                                  
				oIntentionBinding = oView.byId("idIntentionComboBox").getSelectedItem().getBindingContext("intentionVHModel"),                                                                                                                                             
				iTaxIntentionVal = parseInt(oIntentionBinding.getObject().TaxIntention, [10]),                                                                                                                                                                             
				iIntentn = oIntentionBinding.getObject().TaxIntention,                                                                                                                                                                                                     
				intentionValue = iTaxIntentionVal > 12 ? iTaxIntentionVal : "",                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
				// Mandatory filters                                                                                                                                                                                                                                       
				oFilters = new Filter({                                                                                                                                                                                                                                    
					filters: [new Filter("ConsolidationUnit", FilterOperator.EQ, sConsUnit),                                                                                                                                                                                  
						//	new Filter("ChartOfAccounts", FilterOperator.EQ, "CANA"),                                                                                                                                                                                             
						new Filter("ConsolidationChartofAccounts", FilterOperator.EQ, globalParameterData.globalParameters.ConsolidationChartofAccounts),                                                                                                                        
						new Filter("MainCurrency", FilterOperator.EQ, sCurrencyUnit)                                                                                                                                                                                             
					],                                                                                                                                                                                                                                                        
					and: true                                                                                                                                                                                                                                                 
				});                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			// GL Account Filters                                                                                                                                                                                                                                       
			let oTableBinding = this.getView().byId("idgaaptostat").getTable().getBinding(),                                                                                                                                                                            
				aGLAccounts = [];                                                                                                                                                                                                                                          
			if (oTableBinding.getSelectedContexts() && oTableBinding.getSelectedContexts().length > 0) {                                                                                                                                                                
				let aSelectedContext = oTableBinding.getSelectedContexts(),                                                                                                                                                                                                
					i;                                                                                                                                                                                                                                                        
				for (i = 0; i < aSelectedContext.length; i++) {                                                                                                                                                                                                            
					aGLAccounts.push(new Filter("GLAccount", FilterOperator.EQ, aSelectedContext[i].getObject().GLAccount));                                                                                                                                                  
				}                                                                                                                                                                                                                                                          
				oFilters = new Filter({                                                                                                                                                                                                                                    
					filters: [oFilters, new Filter({                                                                                                                                                                                                                          
						filters: aGLAccounts                                                                                                                                                                                                                                     
					})],                                                                                                                                                                                                                                                      
					and: true                                                                                                                                                                                                                                                 
				});                                                                                                                                                                                                                                                        
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			// Service Calls for Data                                                                                                                                                                                                                                   
			let that = this,                                                                                                                                                                                                                                            
				sServiceCallURL = "/xEY1xSAV_C_Reconciliation(p_ryear='" + sFiscalYear + "',p_fromyb='" + paramFromYb + "',p_toyb='" +                                                                                                                                     
				paramToYb + "',p_switch='" + sIsCTAIncluded + "',p_taxintention='" + intentionValue + "',p_intention='" + iIntentn +                                                                                                                                       
				"')/Results",                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
				sPrevServiceCallURL = "/xEY1xSAV_C_Reconciliation(p_ryear='" + sPreviousFiscalYear + "',p_fromyb='" + paramFromYb +                                                                                                                                        
				"',p_toyb='" +                                                                                                                                                                                                                                             
				paramToYb + "',p_switch='" + sIsCTAIncluded + "',p_taxintention='" + intentionValue + "',p_intention='" + iIntentn +                                                                                                                                       
				"')/Results",                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
				oPromiseFYCall = this.fetchAnalyticsReconData(sServiceCallURL, oFilters),                                                                                                                                                                                  
				oPromisePreviousFYCall = this.fetchAnalyticsReconData(sPrevServiceCallURL, oFilters);                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			// Initialize fragment with chart                                                                                                                                                                                                                           
			this.getBusyDialog().open();                                                                                                                                                                                                                                
			Promise.all([oPromiseFYCall, oPromisePreviousFYCall]).then(result => {                                                                                                                                                                                      
				that.getBusyDialog().close();                                                                                                                                                                                                                              
				that.initializeAnalytics(result);                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		fetchAnalyticsReconData: function (sServiceURL, oFilters) {                                                                                                                                                                                                  
			let oModel = this.getOwnerComponent().getModel(),                                                                                                                                                                                                           
				oPromiseFYCall = new Promise(function (resolve, reject) {                                                                                                                                                                                                  
					oModel.read(sServiceURL, {                                                                                                                                                                                                                                
						method: "GET",                                                                                                                                                                                                                                           
						filters: [oFilters],                                                                                                                                                                                                                                     
						sorters: [                                                                                                                                                                                                                                               
							new sap.ui.model.Sorter("GLAccount")                                                                                                                                                                                                                    
						],                                                                                                                                                                                                                                                       
						success: function (oData, oResponse) {                                                                                                                                                                                                                   
							resolve(oData);                                                                                                                                                                                                                                         
						},                                                                                                                                                                                                                                                       
						error: function (oError) {                                                                                                                                                                                                                               
							reject(oError);                                                                                                                                                                                                                                         
						}                                                                                                                                                                                                                                                        
					});                                                                                                                                                                                                                                                       
				});                                                                                                                                                                                                                                                        
			return oPromiseFYCall;                                                                                                                                                                                                                                      
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		initializeAnalytics: function (oData) {                                                                                                                                                                                                                      
			// Initialize fragment with chart                                                                                                                                                                                                                           
			if (!this._oAnalyticsDialog) {                                                                                                                                                                                                                              
				this._oAnalyticsDialog = sap.ui.xmlfragment("ey.sap.fin.cs.recgaapstattax.fragment.ReconAnalytics", this);                                                                                                                                                 
				this.getView().addDependent(this._oAnalyticsDialog);                                                                                                                                                                                                       
			}                                                                                                                                                                                                                                                           
			this._oAnalyticsDialog.open();                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			// -------------------- Fragment code START----------------------------                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			// Data for Drop Down - Measures List                                                                                                                                                                                                                       
			this._oAnalyticsDialog.setModel(new JSONModel({                                                                                                                                                                                                             
				results: [{                                                                                                                                                                                                                                                
					propertyName: "GaapOpeningBalance",                                                                                                                                                                                                                       
					text: "GAAP OB"                                                                                                                                                                                                                                           
				}, {                                                                                                                                                                                                                                                       
					propertyName: "GaapYearBalance",                                                                                                                                                                                                                          
					text: "GAAP Mvmnt"                                                                                                                                                                                                                                        
				}, {                                                                                                                                                                                                                                                       
					propertyName: "GaapClosingBalance",                                                                                                                                                                                                                       
					text: "GAAP CB"                                                                                                                                                                                                                                           
				}, {                                                                                                                                                                                                                                                       
					propertyName: "GaapToStatPL",                                                                                                                                                                                                                             
					text: "G2S P&L"                                                                                                                                                                                                                                           
				}, {                                                                                                                                                                                                                                                       
					propertyName: "GaapToStatPmnt",                                                                                                                                                                                                                           
					text: "G2S PERM"                                                                                                                                                                                                                                          
				}, {                                                                                                                                                                                                                                                       
					propertyName: "GaapToStatEQ",                                                                                                                                                                                                                             
					text: "G2S EQ"                                                                                                                                                                                                                                            
				}, {                                                                                                                                                                                                                                                       
					propertyName: "StatOpeningBalance",                                                                                                                                                                                                                       
					text: "STAT OB"                                                                                                                                                                                                                                           
				}, {                                                                                                                                                                                                                                                       
					propertyName: "StatYearBalance",                                                                                                                                                                                                                          
					text: "STAT Mvmnt"                                                                                                                                                                                                                                        
				}, {                                                                                                                                                                                                                                                       
					propertyName: "StatClosingBalance",                                                                                                                                                                                                                       
					text: "STAT CB"                                                                                                                                                                                                                                           
				}]                                                                                                                                                                                                                                                         
			}), "modelMeasureList");                                                                                                                                                                                                                                    
			oSapUiCore.byId("idMeasuresList").setSelectedKey("GaapOpeningBalance");                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			// Setting default measure                                                                                                                                                                                                                                  
			this.addFeedsToChart();                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			// Default Setup for chart                                                                                                                                                                                                                                  
			Format.numericFormatter(ChartFormatter.getInstance());                                                                                                                                                                                                      
			let formatPattern = ChartFormatter.DefaultPattern,                                                                                                                                                                                                          
				oVizFrame = oSapUiCore.byId("idVizFrame"),                                                                                                                                                                                                                 
				aResultArray = [],                                                                                                                                                                                                                                         
				oDataModel,                                                                                                                                                                                                                                                
				oPopOver = oSapUiCore.byId("idPopOver"),                                                                                                                                                                                                                   
				libraries = sap.ui.getVersionInfo().libraries || [],                                                                                                                                                                                                       
				bSuiteAvailable = libraries.some(function (lib) {                                                                                                                                                                                                          
					return lib.name.indexOf("sap.suite.ui.commons") > -1;                                                                                                                                                                                                     
				});                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			// Data merge in single model                                                                                                                                                                                                                               
			oData.map(arrayItem => arrayItem.results.map(item => aResultArray.push(item)));                                                                                                                                                                             
			oDataModel = new JSONModel({                                                                                                                                                                                                                                
				"results": aResultArray                                                                                                                                                                                                                                    
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			// Setup properties for VIZ frame & set Data Model                                                                                                                                                                                                          
			oVizFrame.setVizProperties({                                                                                                                                                                                                                                
				plotArea: {                                                                                                                                                                                                                                                
					dataLabel: {                                                                                                                                                                                                                                              
						formatString: formatPattern.SHORTFLOAT_MFD2,                                                                                                                                                                                                             
						visible: true                                                                                                                                                                                                                                            
					}                                                                                                                                                                                                                                                         
				},                                                                                                                                                                                                                                                         
				valueAxis: {                                                                                                                                                                                                                                               
					label: {                                                                                                                                                                                                                                                  
						formatString: formatPattern.SHORTFLOAT                                                                                                                                                                                                                   
					},                                                                                                                                                                                                                                                        
					title: {                                                                                                                                                                                                                                                  
						visible: false                                                                                                                                                                                                                                           
					}                                                                                                                                                                                                                                                         
				},                                                                                                                                                                                                                                                         
				categoryAxis: {                                                                                                                                                                                                                                            
					title: {                                                                                                                                                                                                                                                  
						visible: false                                                                                                                                                                                                                                           
					}                                                                                                                                                                                                                                                         
				},                                                                                                                                                                                                                                                         
				title: {                                                                                                                                                                                                                                                   
					visible: false,                                                                                                                                                                                                                                           
					text: "OB GAAP to STAT to TAX"                                                                                                                                                                                                                            
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
			oVizFrame.setModel(oDataModel, "chartModelAnalytics");                                                                                                                                                                                                      
			oPopOver.connect(oVizFrame.getVizUid());                                                                                                                                                                                                                    
			oPopOver.setFormatString(formatPattern.STANDARDFLOAT);                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			//	Create chart container for Chart                                                                                                                                                                                                                         
			if (bSuiteAvailable) {                                                                                                                                                                                                                                      
				jQuery.sap.require("sap/suite/ui/commons/ChartContainer");                                                                                                                                                                                                 
				let vizframe = oSapUiCore.byId("idVizFrame"),                                                                                                                                                                                                              
					// vizframe1 = oSapUiCore.byId("idVizFrame1"),                                                                                                                                                                                                            
					oChartContainerContent = new sap.suite.ui.commons.ChartContainerContent({                                                                                                                                                                                 
						icon: "sap-icon://vertical-bar-chart",                                                                                                                                                                                                                   
						title: "OB GAAP to STAT to TAX",                                                                                                                                                                                                                         
						content: [vizframe]                                                                                                                                                                                                                                      
					}),                                                                                                                                                                                                                                                       
					oChartContainer = new sap.suite.ui.commons.ChartContainer({                                                                                                                                                                                               
						content: [oChartContainerContent]                                                                                                                                                                                                                        
					});                                                                                                                                                                                                                                                       
				oChartContainer.setShowFullScreen(true);                                                                                                                                                                                                                   
				oChartContainer.setAutoAdjustHeight(true);                                                                                                                                                                                                                 
				oSapUiCore.byId("chartFixFlex").setFlexContent(oChartContainer);                                                                                                                                                                                           
			}                                                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		handleMeasureListChange: function (oEvent) {                                                                                                                                                                                                                 
			this.addFeedsToChart();                                                                                                                                                                                                                                     
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		addFeedsToChart: function () {                                                                                                                                                                                                                               
			let oVizFrame = oSapUiCore.byId("idVizFrame");                                                                                                                                                                                                              
			oVizFrame.removeAllFeeds(true);                                                                                                                                                                                                                             
			oVizFrame.destroyFeeds();                                                                                                                                                                                                                                   
			oVizFrame.addFeed(new sap.viz.ui5.controls.common.feeds.FeedItem({                                                                                                                                                                                          
				type: "Dimension",                                                                                                                                                                                                                                         
				uid: "categoryAxis",                                                                                                                                                                                                                                       
				values: ["ddGLAccount"]                                                                                                                                                                                                                                    
			}));                                                                                                                                                                                                                                                        
			oVizFrame.addFeed(new sap.viz.ui5.controls.common.feeds.FeedItem({                                                                                                                                                                                          
				type: "Dimension",                                                                                                                                                                                                                                         
				uid: "categoryAxis",                                                                                                                                                                                                                                       
				values: ["ddFiscalYear"]                                                                                                                                                                                                                                   
			}));                                                                                                                                                                                                                                                        
			oVizFrame.addFeed(new sap.viz.ui5.controls.common.feeds.FeedItem({                                                                                                                                                                                          
				type: "Measure",                                                                                                                                                                                                                                           
				uid: "valueAxis",                                                                                                                                                                                                                                          
				values: [oSapUiCore.byId("idMeasuresList").getSelectedItem().getText()]                                                                                                                                                                                    
			}));                                                                                                                                                                                                                                                        
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onPressOkBtnReconAnalytics: function (oEvent) {                                                                                                                                                                                                              
			this._oAnalyticsDialog.close();                                                                                                                                                                                                                             
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onPressReconciliationSmartChartBtn: function () {                                                                                                                                                                                                            
			// if (!this._oSmartChartDialog) {                                                                                                                                                                                                                          
			// 	this._oSmartChartDialog = sap.ui.xmlfragment("ey.sap.fin.cs.recgaapstattax.fragment.SmartChart", this);                                                                                                                                                 
			// 	this.getView().addDependent(this._oSmartChartDialog);                                                                                                                                                                                                   
			// }                                                                                                                                                                                                                                                        
			// this._oSmartChartDialog.open();                                                                                                                                                                                                                          
			// this._oSmartChartDialog.setModel(oSapUiCore.byId("idSmartChartRecon").getModel("ReconciliationSmartChart"));                                                                                                                                             
                                                                                                                                                                                                                                                               
			// oSapUiCore.byId("idSmartChartRecon").setModel(oSapUiCore.byId("idSmartChartRecon").getModel("ReconciliationSmartChart"));                                                                                                                                
			// oSapUiCore.byId("idSmartChartRecon").rebindChart();                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			this.getView().byId("idSmartChartRecon").rebindChart();                                                                                                                                                                                                     
		},                                                                                                                                                                                                                                                           
		                                                                                                                                                                                                                                                             
		_formatG2SEnablity: function(){                                                                                                                                                                                                                              
			                                                                                                                                                                                                                                                            
			let Intention = null;                                                                                                                                                                                                                                       
			                                                                                                                                                                                                                                                            
			if(this.getView().byId("idIntentionComboBox").getSelectedItem()){                                                                                                                                                                                           
				Intention = this.getView().byId("idIntentionComboBox").getSelectedItem().getBindingContext("intentionVHModel").getObject().Intention;                                                                                                                      
				if(!this.getView().byId('idStatAdjBtn').getEnabled()){                                                                                                                                                                                                     
					return;                                                                                                                                                                                                                                                   
				}                                                                                                                                                                                                                                                          
			} else{                                                                                                                                                                                                                                                     
				Intention = this.getView().getModel("viewConfigDataModel").getData("globalParameters").globalParameters.Intention;                                                                                                                                         
			}                                                                                                                                                                                                                                                           
			&nbsp;&nbsp;                                                                                                                                                                                                                                                
			if(Intention === 'CIT' ||                                                                                                                                                                                                                                   
			   Intention === 'TXA' ||                                                                                                                                                                                                                                   
			   Intention === 'TXU'){                                                                                                                                                                                                                                    
			   	this.getView().byId('idStatAdjBtn').setEnabled(false);&nbsp;                                                                                                                                                                                            
			   }                                                                                                                                                                                                                                                        
			   else{                                                                                                                                                                                                                                                    
			   	this.getView().byId('idStatAdjBtn').setEnabled(true);&nbsp;&nbsp;                                                                                                                                                                                       
			   }                                                                                                                                                                                                                                                        
		}                                                                                                                                                                                                                                                            
	});                                                                                                                                                                                                                                                           
});                                                                                                                                                                                                                                                            