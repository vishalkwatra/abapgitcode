sap.ui.define(["./BaseController","sap/ui/model/json/JSONModel","../model/formatter","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/m/MessageToast","sap/m/MessageBox","sap/ui/core/ListItem","sap/ui/generic/app/navigation/service/NavigationHandl+
er"],function(e,t,o,n,i,r,s,a,l){"use strict";let d=[];return e.extend("ey.sap.fin.cs.equityreconciliation.controller.MainReport",{formatter:o,onInit:function(){this.oRouter=this.getOwnerComponent().getRouter();this.oRouter.getRoute("MainReport").attachM+
atched(this._onRouteMatched,this);let e=new t;this.setModel(e,"viewConfigDataModel");this._fetchGlobalParameters();this._fetchAdjustmentReasons()},_onRouteMatched:function(){this.getBusyDialog().close()},_fetchAdjustmentReasons:function(){let e=this.getO+
wnerComponent().getModel();let t="/xEY1xSAV_C_Recon_Adj_Reason";let o=this;e.read(t,{method:"GET",success:function(e,t){var n=o.getModel("viewConfigDataModel");n.getData().adjustmentReason=e.results;n.refresh()},error:function(e){if(parseInt(e.statusCode+
,[10])!==404){r.show(o.getI18nText("adjustmentReasonsServiceCallError"))}}})},_fetchGlobalParameters:function(){var e=this;var t=this.getOwnerComponent().getModel();var o={Default:true};t.callFunction("/GlobalParameter",{method:"GET",urlParameters:o,succ+
ess:function(t){e.getView().getModel("viewConfigDataModel").setData({globalParameters:t});let o=e.getView().byId("idEquityReconSmartFilterBar");if(!o.getCurrentVariantId()){e._setFilterBarParameters(t)}},error:function(t){s.error(e.getI18nText("errorRead+
ingGlobalParameters"))}})},_setFilterBarParameters:function(e){let t=this.getView(),n=t.byId("idCurrency");if(e.LocalCurrencyType&&e.LocalCurrency){n.setSelectedKey(e.LocalCurrency)}else{n.setSelectedKey(e.GroupCurrency)}if(e.ConsolidationUnit){t.byId("i+
dConsUnit").setSelectedKey(e.ConsolidationUnit);n.setVisible(true);this._fetchCurrencyData(true);this.fetchReconLedgerData()}if(e.FiscalYear){let o=new Date("06/06/".concat(e.FiscalYear.toString()));t.byId("idFiscalYearFilter").setDateValue(o)}if(e.Inten+
tion){t.byId("idIntentionComboBox").setSelectedKey(e.Intention)}var i=[e.ConsolidationUnit,e.FiscalYear];this._fetchIntentionStatus(i);if(e.PeriodFrom){t.byId("idPeriodFromInput").setValue(o.convertStringToInt(e.PeriodFrom))}if(e.PeriodTo){t.byId("idPeri+
odToInput").setValue(o.convertStringToInt(e.PeriodTo))}},getI18nText:function(e){return this.getResourceBundle().getText(e)},_fetchCurrencyData:function(e){var o=this.getView(),s=o.byId("idConsUnit").getSelectedKey(),a=new n("ConsolidationUnit",i.EQ,s),l+
=this.getModel(),d=this,u=o.byId("idCurrType"),c=o.byId("idCurrency");u.setVisible(true);c.setBusy(true);l.read("/xEY1xSAV_C_CurrLocalGroupVH",{method:"GET",filters:[a],success:function(o,n){c.setBusy(false);d.setModel(new t(o),"currLocalGroupVHModel");i+
f(!e&&o.results.length>0){c.setSelectedKey(o.results[0].Currency)}},error:function(e){c.setBusy(false);r.show(d.getI18nText("errorFetchingCurrency"))}})},_fetchIntentionStatus:function(e){let o=this.getModel();let r=e[0],a=e[1],l="/xEY1xSAV_C_IntentionsS+
tatus(p_bunit='"+r+"')/Set",d=new n("Gjahr",i.EQ,a),u=this,c=u.getView(),g=c.byId("idIntentionComboBox");this.getBusyDialog().open();o.read(l,{method:"GET",sorters:[new sap.ui.model.Sorter("SerialNumber")],filters:[d],success:function(e,o){u.getBusyDialo+
g().close();if(e.results.length===0){g.setSelectedKey("");g.setEnabled(false);s.error(u.getI18nText("IntentionNotYetOpen")+a);return}g.setEnabled(true);let n=u.getView().getModel("viewConfigDataModel").getData().globalParameters;g.setSelectedKey(n.Intent+
ion);g.setSelectedKey("");for(let t=0;t<e.results.length;t++){if(e.results[t].isSelected==="X"){g.setSelectedKey(e.results[t].Intention)}}if(g.getSelectedKey()===""){for(let t=0;t<e.results.length;t++){if(e.results[t].status==="Open"){g.setSelectedKey(e.+
results[t].Intention)}}}let i=new t(e);u.getView().setModel(i,"intentionVHModel");u._managePeriodFieldsEditability(false)},error:function(e){u.getBusyDialog().close();s.error(u.getI18nText("errorFetchingIntentionStatus"))}})},_managePeriodFieldsEditabili+
ty:function(e){let t=this.getView(),n=t.byId("idIntentionComboBox");if(!e){n.setSelectedKey(n.getSelectedKey())}let i=n.getSelectedItem(),r=i.getBindingContext("intentionVHModel").getObject();let s=t.byId("idPeriodToInput"),a=o.convertStringToInt(r.TaxIn+
tention);if(a!==o.convertStringToInt(0)){this._manageIntentionStatus(r);s.setEditable(false);s.setValue(o.convertStringToInt(r.PeriodTo))}else{this._managePerodicIntentionStatus(r.PeriodTo);s.setEditable(true);s.setValue(o.convertStringToInt(r.CurrOpenPe+
riod))}},_manageIntentionStatus:function(e){let t=this;if(e.status===this.getI18nText("YetToOpen")){t.getBusyDialog().close();s.error(this.getModel("i18n").getResourceBundle().getText("ThisIntentionNotYetOpen",[e.IntentDescription,e.Gjahr]));return}else{+
return}},_managePerodicIntentionStatus:function(e){let t=this.getView().byId("idIntentionComboBox").getSelectedItem().getBindingContext("intentionVHModel").getObject(),o=parseInt(t.CurrOpenPeriod,[10]);if(e>o){this.getBusyDialog().close();s.error(this.ge+
tModel("i18n").getResourceBundle().getText("errorPeriodnotopen",[e,o]));return}else{return}},fetchReconLedgerData:function(){let e=this.getModel();let t=e.createKey("/xEY1xSAV_C_Recon_Ledger",{bunit:this.byId("idConsUnit").getSelectedKey()});let o=this;e+
.read(t,{method:"GET",success:function(e,t){var n=o.getModel("viewConfigDataModel");n.getData().reconData=e;n.refresh();o._fetchCnsldVersion();o._fetchAccountClass()},error:function(e){if(parseInt(e.statusCode,[10])!==404){r.show(o.getI18nText("reconServ+
iceCallError"))}}})},_fetchCnsldVersion:function(){let e=this.getModel(),o=this.getModel("viewConfigDataModel").getData(),n=o.globalParameters.ConsolidationGroup,i="/xEY1xSAV_C_Get_Version(p_congr='"+n+"')/Set",s=this,a=new t;sap.ui.getCore().setModel(a,+
"viewCnlVersionModel");e.read(i,{method:"GET",sorters:[new sap.ui.model.Sorter("FiscalYear")],success:function(e,t){sap.ui.getCore().getModel("viewCnlVersionModel").setData({ConsolidationVersion:e})},error:function(e){if(parseInt(e.statusCode,[10])!==404+
){r.show(s.getI18nText("GetConsolidationVersionServiceCallError"))}}})},_fetchAccountClass:function(){let e=this.getModel(),o="/xEY1xSAV_C_Accounts_Class",n=this,i=new t;n.setModel(i,"viewAccountClass");e.read(o,{method:"GET",success:function(e,t){n.getM+
odel("viewAccountClass").setData({AccountClass:e})},error:function(e){if(parseInt(e.statusCode,[10])!==404){r.show(n.getI18nText("GetAccountClassServiceCallError"))}}})},_createJournalEntriesFilterData:function(e){let t=e.getSource().getCustomData(),n=t[+
t.map(e=>e.getProperty("key")).indexOf("modelName")].getValue();let i=e.getSource().getBindingContext(n);if(!i.getProperty("AccountDescription")){return}let r=this.getModel("viewConfigDataModel").getData(),s=this.getModel("viewAccountClass").getData().Ac+
countClass.results,a=this.getView().byId("idFiscalYearFilter"),l=a.getDateValue().getFullYear(),d=parseInt(this.getView().byId("idPeriodFromInput").getValue(),[10]),u=parseInt(this.getView().byId("idPeriodToInput").getValue(),[10]),c=this.getView().byId(+
"idConsUnit"),g=this.getView().byId("idCurrency"),h=this.getView().byId("idIntentionComboBox").getSelectedItem().getBindingContext("intentionVHModel").getObject(),f=o.convertStringToInt(h.PeriodTo)===0?"":o.convertStringToInt(h.TaxIntention),T=[],C=[],y=+
false,p=r.globalParameters.ConsolidationGroup,S,I=[],b=true;let _=t[t.map(e=>e.getProperty("key")).indexOf("mappedLedger")].getValue();T=r.reconData[_];for(let o of t){let t=o.getValue();let n=o.getKey();if(n==="mappedAccountClass"&&t==="EQT"){if(e.getSo+
urce().getBindingContext("S2TTableModel")===undefined){S=e.getSource().getBindingContext("G2STableModel").getObject().AccountClassCode}else{S=e.getSource().getBindingContext("S2TTableModel").getObject().AccountClassCode}if(S!=="RE"){for(let e=0;e<s.lengt+
h;e++){if(s[e].AccClassCode===S){if((s[e].BSEQPL==="BS"||s[e].BSEQPL==="EQ")&&(s[e].TaxEffect===b&&s[e].Profit===b)){I.push("EQ");break}else if(s[e].BSEQPL==="EQ"&&s[e].TaxEffect===b&&s[e].Profit!==b){I.push("EQ");I.push("P&L");I.push("PERMANENT");break}+
}}}else{for(let e=0;e<s.length;e++){if(s[e].AccClassCode===S&&s[e].bl_eq_pl==="EQ"&&s[e].tax_effect===b){I.push("EQ");I.push("P&L");I.push("PERMANENT");break}}}for(let e=0;e<I.length;e++){for(let t=0;t<r.adjustmentReason.length;t++){if(r.adjustmentReason+
[t].AdjustmentReason===I[e]){C.push(r.adjustmentReason[t].TransType)}}}}if(n==="mappedAdjReason"&&(t==="P&L"||t==="EQ"||t==="OP&L"||t==="OPERMANENT"||t==="OEQ"||t==="PERMANENT"||t==="OB")){for(let e=0;e<r.adjustmentReason.length;e++){if(r.adjustmentReaso+
n[e].AdjustmentReason===t){C.push(r.adjustmentReason[e].TransType)}if(t==="OB"){C.push(r.adjustmentReason[e].TransType)}}continue}if(n==="mappedIsOpeningBalanceEntry"){y=true}}let E=i.getProperty("GLAccount").padStart(10,"0");let M=e.getSource().getBindi+
ngInfo("text").parts,m=M[M.map(e=>e.path.indexOf("MainCurrency")!==0).indexOf(true)].path;let x=t[t.map(e=>e.getProperty("key")).indexOf("columnHeader")].getValue();return{ConsolidationChartOfAccounts:r.globalParameters.ConsolidationChartofAccounts,Fisca+
lYear:l,PeriodFrom:d||"1",PeriodTo:u||"12",ConsolidatioUnit:c.getSelectedKey(),ConsolidationLedger:T,Value:i.getProperty(m),Currency:i.getProperty("MainCurrency"),GLAccount:E,GLAccountDesc:i.getProperty("AccountDescription"),ConsolidationVersion:"",Selec+
tedIntention:f,ConsolidationGroup:"",PeriodMode:"PER",RefConsolidationDocumentType:"W",bIsOpeningBalanceEntry:y,selectedCurrency:g.getSelectedKey(),SectionName:x,FinancialTransactionType:C,MapLedger:_,Congr:p}},_serviceCallGE:function(e,o){let n=this.get+
Model(),i=this.getView().byId("idGE"),s=this;i.setBusy(true);n.read(e,{method:"GET",filters:[o],sorters:[new sap.ui.model.Sorter("GLAccount")],success:function(e,o){i.setBusy(false);i.setModel(new t(e),"GETableModel");i.setVisibleRowCount(i.getModel("GET+
ableModel").getData().results.length);d.push(i.getModel("GETableModel"))},error:function(e){i.setBusy(false);r.show(s.getI18nText("GEServiceCallError"))}})},_serviceCallGEFooter:function(e,o){let n=this.getModel(),i=this.getView().byId("idGEFooter"),s=[]+
,a=this;i.setBusy(true);n.read(e,{method:"GET",filters:[o],success:function(e,o){i.setBusy(false);i.setModel(new t(e),"GEFooterTableModel");d.push(i.getModel("GEFooterTableModel"))},error:function(e){i.setBusy(false);r.show(a.getI18nText("GEFooterService+
CallError"))}})},_serviceCallG2S:function(e,o){let n=this.getModel(),i=this.getView().byId("idG2S"),s=this;i.setBusy(true);n.read(o,{method:"GET",filters:[e],success:function(e,o){i.setBusy(false);i.setModel(new t(e),"G2STableModel");i.setVisibleRowCount+
(i.getModel("G2STableModel").getData().results.length);d.push(i.getModel("G2STableModel"))},error:function(e){i.setBusy(false);r.show(s.getI18nText("G2SServiceCallError"))}})},_serviceCallG2STotalFooter:function(e,o){let n=this.getModel(),i=this.getView(+
).byId("idG2STotalFooter"),s=this;i.setBusy(true);n.read(o,{method:"GET",filters:[e],success:function(e,o){i.setBusy(false);i.setModel(new t(e),"G2STotalFooterTableModel");d.push(i.getModel("G2STotalFooterTableModel"))},error:function(e){i.setBusy(false)+
;r.show(s.getI18nText("G2SServiceCallError"))}})},_serviceCallSGETotalFooter:function(e,o){let n=this.getModel(),i=this.getView().byId("idSGETotalFooter"),s=this;i.setBusy(true);n.read(o,{method:"GET",filters:[e],success:function(e,o){i.setBusy(false);i.+
setModel(new t(e),"SGETotalFooterTableModel");d.push(i.getModel("SGETotalFooterTableModel"))},error:function(e){i.setBusy(false);r.show(s.getI18nText("G2SServiceCallError"))}})},_serviceCallG2SRecChkFooter:function(e,o){let n=this.getModel(),i=this.getVi+
ew().byId("idRecChkFooter"),s=this;i.setBusy(true);n.read(o,{method:"GET",filters:[e],success:function(e,o){i.setBusy(false);i.setModel(new t(e),"RecChkFooterTableModel");d.push(i.getModel("RecChkFooterTableModel"))},error:function(e){i.setBusy(false);r.+
show(s.getI18nText("G2SServiceCallError"))}})},_serviceCallS2T:function(e,o){let n=this.getModel(),i=this.getView().byId("idS2T"),s=this;i.setBusy(true);n.read(o,{method:"GET",filters:[e],success:function(e,o){i.setBusy(false);i.setModel(new t(e),"S2TTab+
leModel");i.setVisibleRowCount(i.getModel("S2TTableModel").getData().results.length);d.push(i.getModel("S2TTableModel"))},error:function(e){i.setBusy(false);r.show(s.getI18nText("S2TServiceCallError"))}})},_serviceCallS2TTotalFooter:function(e,o){let n=t+
his.getModel(),i=this.getView().byId("idS2TTotalFooter"),s=this;i.setBusy(true);n.read(o,{method:"GET",filters:[e],success:function(e,o){i.setBusy(false);i.setModel(new t(e),"S2TTotalFooterTableModel");d.push(i.getModel("S2TTotalFooterTableModel"))},erro+
r:function(e){i.setBusy(false);r.show(s.getI18nText("S2TServiceCallError"))}})},_serviceCallTETotalFooter:function(e,o){let n=this.getModel(),i=this.getView().byId("idTETotalFooter"),s=this;i.setBusy(true);n.read(o,{method:"GET",filters:[e],success:funct+
ion(e,o){i.setBusy(false);i.setModel(new t(e),"TETotalFooterTableModel");d.push(i.getModel("TETotalFooterTableModel"))},error:function(e){i.setBusy(false);r.show(s.getI18nText("S2TServiceCallError"))}})},_serviceCallS2TRecChkFooter:function(e,o){let n=th+
is.getModel(),i=this.getView().byId("idRecChkFooterS2T"),s=this;i.setBusy(true);n.read(o,{method:"GET",filters:[e],success:function(e,o){i.setBusy(false);i.setModel(new t(e),"RecChkFooterS2TTableModel");d.push(i.getModel("RecChkFooterS2TTableModel"))},er+
ror:function(e){i.setBusy(false);r.show(s.getI18nText("S2TServiceCallError"))}})},_EmptyTableCall:function(){let e=this.getView();e.byId("idGE").getModel("GETableModel").setData([]);e.byId("idGEFooter").getModel("GEFooterTableModel").setData([]);e.byId("+
idG2S").getModel("G2STableModel").setData([]);e.byId("idG2STotalFooter").getModel("G2STotalFooterTableModel").setData([]);e.byId("idSGETotalFooter").getModel("SGETotalFooterTableModel").setData([]);e.byId("idRecChkFooter").getModel("RecChkFooterTableMode+
l").setData([]);e.byId("idS2T").getModel("S2TTableModel").setData([]);e.byId("idS2TTotalFooter").getModel("S2TTotalFooterTableModel").setData([]);e.byId("idTETotalFooter").getModel("TETotalFooterTableModel").setData([]);e.byId("idRecChkFooterS2T").getMod+
el("RecChkFooterS2TTableModel").setData([])},_fetchAllTabData:function(){let e=this.getView(),t=e.getModel("viewConfigDataModel").getData();if(!t.globalParameters||!t.globalParameters.ConsolidationChartofAccounts||!t.globalParameters.ConsolidationGroup){+
s.error(this.getI18nText("errorMaintainGlobalParameter"));return}let o=e.byId("idConsUnit"),r=o.getSelectedKey(),a=e.byId("idCurrency"),l=a.getSelectedKey(),u=e.byId("idFiscalYearFilter"),c=u.getDateValue().getFullYear(),g=e.byId("idPeriodToInput"),h=par+
seInt(g.getValue(),[10]),f=e.byId("idPeriodFromInput"),T=parseInt(f.getValue(),[10]),C="X",y;if(e.byId("idIntentionComboBox").getEnabled()===false){s.error(this.getI18nText("IntentionNotYetOpen")+c);if(d.length>0){this._EmptyTableCall()}return}let p=e.by+
Id("idIntentionComboBox").getSelectedItem().getBindingContext("intentionVHModel"),S=p.getObject(),I=parseInt(S.CurrOpenPeriod,[10]);if(S.status===this.getI18nText("YetToOpen")){this.getBusyDialog().close();s.error(this.getModel("i18n").getResourceBundle(+
).getText("ThisIntentionNotYetOpen",[S.IntentDescription,S.Gjahr]));if(d.length>0){this._EmptyTableCall()}return}if(h>I){this.getBusyDialog().close();s.error(this.getModel("i18n").getResourceBundle().getText("errorPeriodnotopen",[h,I]));if(d.length>0){th+
is._EmptyTableCall()}return}let b=e.byId("idIntentionComboBox").getSelectedItem()?parseInt(e.byId("idIntentionComboBox").getSelectedItem().getBindingContext("intentionVHModel").getObject().TaxIntention,[10]):t.globalParameters.TaxIntention,_=b>100?b:"",E+
=e.byId("idIntentionComboBox").getSelectedItem()?e.byId("idIntentionComboBox").getSelectedItem().getBindingContext("intentionVHModel").getObject().TaxIntention:t.globalParameters.TaxIntention,M=new n({filters:[new n("ConsolidationUnit",i.EQ,r),new n("Con+
solidationChartofAccounts",i.EQ,t.globalParameters.ConsolidationChartofAccounts),new n("MainCurrency",i.EQ,l)],and:true});y=M;d=[];let m="/xEY1xSAV_C_ER_GAAP_Equity(p_ryear='"+c+"',p_fromperiod='"+T+"',p_toperiod='"+h+"',p_taxintention='"+_+"')/Results";+
this._serviceCallGE(m,y);let x="/xEY1xSAV_C_ER_GAAPEQ_Total(p_ryear='"+c+"',p_fromperiod='"+T+"',p_toperiod='"+h+"',p_taxintention='"+_+"')/Set";this._serviceCallGEFooter(x,y);let V="/xEY1xSAV_C_ER_Gaap2Stat(p_toperiod='"+h+"',p_ryear='"+c+"',p_taxintent+
ion='"+_+"')/Set";this._serviceCallG2S(y,V);let F="/xEY1xSAV_C_ER_Gaap2Stat_Total(p_toperiod='"+h+"',p_ryear='"+c+"',p_taxintention='"+_+"')/Set";this._serviceCallG2STotalFooter(y,F);let w="/xEY1xSAV_C_ER_StatGaapEqTotal(p_toperiod='"+h+"',p_ryear='"+c+"+
',p_taxintention='"+_+"',p_fromperiod='"+T+"')/Set";this._serviceCallSGETotalFooter(y,w);let G="/xEY1xSAV_C_ER_G2S_RecChk(p_toperiod='"+h+"',p_ryear='"+c+"',p_taxintention='"+_+"',p_fromperiod='"+T+"',p_switch='"+C+"',p_intention='"+E+"')/Set";this._serv+
iceCallG2SRecChkFooter(y,G);let B="/xEY1xSAV_C_ER_Stat2Tax(p_toperiod='"+h+"',p_ryear='"+c+"',p_taxintention='"+_+"')/Set";this._serviceCallS2T(y,B);let P="/xEY1xSAV_C_ER_Stat2Tax_Total(p_toperiod='"+h+"',p_ryear='"+c+"',p_taxintention='"+_+"')/Set";this+
._serviceCallS2TTotalFooter(y,P);let v="/xEY1xSAV_C_ER_TaxGaapEqTotal(p_toperiod='"+h+"',p_ryear='"+c+"',p_taxintention='"+_+"',p_fromperiod='"+T+"')/Set";this._serviceCallTETotalFooter(y,v);let R="/xEY1xSAV_C_ER_S2T_RecChk(p_toperiod='"+h+"',p_ryear='"++
c+"',p_taxintention='"+_+"',p_fromperiod='"+T+"',p_switch='"+C+"',p_intention='"+E+"')/Set";this._serviceCallS2TRecChkFooter(y,R)},onSearchButtonPressed:function(e){this._fetchAllTabData()},onPressJournalEntriesDetail:function(e){var o=this._createJourna+
lEntriesFilterData(e);if(!o){return}var n=new t(o);this.getOwnerComponent().setModel(n,"JournalEntryData");this.oRouter.navTo("JournalEntries")},onBeforeVariantSaveFilterBar:function(e){let t=this.getView(),o=t.byId("idEquityReconSmartFilterBar"),n=t.byI+
d("idConsUnit"),i=t.byId("idFiscalYearFilter"),r=t.byId("idIntentionComboBox"),s=t.byId("idCurrency"),a=t.byId("idPeriodToInput");o.setFilterData({_CUSTOM:{ConsolidationUnit:n.getSelectedKey(),FiscalYear:i.getValue(),Intention:r.getSelectedKey(),CurrType+
:s.getSelectedKey(),PeriodTo:a.getValue(),VariantID:o.getCurrentVariantId()}})},onAfterVariantLoadFilterBar:function(e){var t=this.getView();var n=t.byId("idEquityReconSmartFilterBar");var i=t.byId("idConsUnit");var r=t.byId("idFiscalYearFilter");let s=t+
.byId("idIntentionComboBox");var a=t.byId("idCurrency");let l=this.getView().byId("idPeriodToInput");var d=n.getFilterData()._CUSTOM;i.setSelectedKey(d.ConsolidationUnit);r.setValue(d.FiscalYear);s.setSelectedKey(d.Intention);a.setSelectedKey(d.CurrType)+
;l.setValue(o.convertStringToInt(d.PeriodTo));if(d.ConsolidationUnit){this.fetchReconLedgerData()}if(d.CurrType){a.setVisible(true);this._fetchCurrencyData(true)}let u=[d.ConsolidationUnit,d.FiscalYear.getFullYear()];this._fetchIntentionStatus(u)},onChan+
geDatePickerFilter:function(e){let t=e.getSource(),o=this.getModel("viewConfigDataModel").getData(),n=this.getView().byId("idConsUnit").getProperty("selectedKey");if(e.getParameter("valid")){t.setValueState("None");let e=t.getDateValue().getFullYear(),o=+
[n,e];this._fetchIntentionStatus(o)}else{t.setValueState("Error")}},onConsUnitChange:function(e){this._fetchCurrencyData(false);this.fetchReconLedgerData();let t=this.getView().byId("idConsUnit").getSelectedKey(),o=[t,this.getView().byId("idFiscalYearFil+
ter").getDateValue().getFullYear()];this._fetchIntentionStatus(o)},onChangeIntentionComboBox:function(e){let t=this.getView(),o=t.byId("idIntentionComboBox"),n=o.getSelectedItem();if(!n){o.setSelectedItem("");return}this._managePeriodFieldsEditability(tr+
ue)},onLiveChangePeriodTo:function(){let e=this.getView().byId("idPeriodToInput");let t=parseInt(this.getView().byId("idPeriodFromInput").getValue(),[10]);let o=parseInt(e.getValue(),[10]);e.setValueState("None");if(o<t){e.setValueState("Error");e.setVal+
ueStateText(this.getI18nText("periodToLessThanPeriodFromErrorMsg"));return}else if(o>"012"){e.setValueState("Error");e.setValueStateText(this.getI18nText("periodToGreaterThanLastPeriod"));return}else{this._managePerodicIntentionStatus(o)}}})});           