sap.ui.define([                                                                                                                                                                                                                                                
	"./BaseController",                                                                                                                                                                                                                                           
	"sap/ui/model/json/JSONModel",                                                                                                                                                                                                                                
	"../model/formatter",                                                                                                                                                                                                                                         
	"sap/ui/model/Filter",                                                                                                                                                                                                                                        
	"sap/ui/model/FilterOperator",                                                                                                                                                                                                                                
	"sap/m/MessageToast",                                                                                                                                                                                                                                         
	"sap/m/MessageBox",                                                                                                                                                                                                                                           
	"sap/ui/core/ListItem",                                                                                                                                                                                                                                       
	"sap/ui/generic/app/navigation/service/NavigationHandler"                                                                                                                                                                                                     
], function (BaseController, JSONModel, formatter, Filter, FilterOperator, MessageToast, MessageBox, ListItem, NavigationHandler) {                                                                                                                            
	"use strict";                                                                                                                                                                                                                                                 
	let aModelTable = [];                                                                                                                                                                                                                                         
	return BaseController.extend("ey.sap.fin.cs.equityreconciliation.controller.MainReport", {                                                                                                                                                                    
                                                                                                                                                                                                                                                               
		formatter: formatter,                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
		/* =========================================================== */                                                                                                                                                                                            
		/* lifecycle methods                                           */                                                                                                                                                                                            
		/* =========================================================== */                                                                                                                                                                                            
		onInit: function () {                                                                                                                                                                                                                                        
			this.oRouter = this.getOwnerComponent().getRouter();                                                                                                                                                                                                        
			this.oRouter.getRoute("MainReport").attachMatched(this._onRouteMatched, this);                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			let oReconDataModel = new JSONModel();                                                                                                                                                                                                                      
			this.setModel(oReconDataModel, "viewConfigDataModel");                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			this._fetchGlobalParameters();                                                                                                                                                                                                                              
			this._fetchAdjustmentReasons();                                                                                                                                                                                                                             
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		/* =========================================================== */                                                                                                                                                                                            
		/* internal methods  -PRIVATE                                  */                                                                                                                                                                                            
		/* =========================================================== */                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
		_onRouteMatched: function () {                                                                                                                                                                                                                               
			this.getBusyDialog().close();                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_fetchAdjustmentReasons: function () {                                                                                                                                                                                                                       
			let oModel = this.getOwnerComponent().getModel();                                                                                                                                                                                                           
			let sServiceURL = "/xEY1xSAV_C_Recon_Adj_Reason";                                                                                                                                                                                                           
			let that = this;                                                                                                                                                                                                                                            
			oModel.read(sServiceURL, {                                                                                                                                                                                                                                  
				method: "GET",                                                                                                                                                                                                                                             
				success: function (oData, oResponse) {                                                                                                                                                                                                                     
					var oReconModel = that.getModel("viewConfigDataModel");                                                                                                                                                                                                   
					oReconModel.getData().adjustmentReason = oData.results;                                                                                                                                                                                                   
					oReconModel.refresh();                                                                                                                                                                                                                                    
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
					if (parseInt(oError.statusCode, [10]) !== 404) {                                                                                                                                                                                                          
						MessageToast.show(that.getI18nText("adjustmentReasonsServiceCallError"));                                                                                                                                                                                
					}                                                                                                                                                                                                                                                         
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_fetchGlobalParameters: function () {                                                                                                                                                                                                                        
			var that = this;                                                                                                                                                                                                                                            
			var oModel = this.getOwnerComponent().getModel();                                                                                                                                                                                                           
			var oGlobalParameterData = {                                                                                                                                                                                                                                
				"Default": true                                                                                                                                                                                                                                            
			};                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			oModel.callFunction("/GlobalParameter", {                                                                                                                                                                                                                   
				method: "GET",                                                                                                                                                                                                                                             
				urlParameters: oGlobalParameterData,                                                                                                                                                                                                                       
				success: function (oData) {                                                                                                                                                                                                                                
					// Saving global parameters in Model                                                                                                                                                                                                                      
					that.getView().getModel("viewConfigDataModel").setData({                                                                                                                                                                                                  
						"globalParameters": oData                                                                                                                                                                                                                                
					});                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
					// If 'VARIANT' is being used, Do Not over write global parameters                                                                                                                                                                                        
					let oFilterBar = that.getView().byId("idEquityReconSmartFilterBar");                                                                                                                                                                                      
					if (!oFilterBar.getCurrentVariantId()) {                                                                                                                                                                                                                  
						that._setFilterBarParameters(oData);                                                                                                                                                                                                                     
					}                                                                                                                                                                                                                                                         
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
					MessageBox.error(that.getI18nText("errorReadingGlobalParameters"));                                                                                                                                                                                       
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_setFilterBarParameters: function (oGlobalParameters) {                                                                                                                                                                                                      
			let oView = this.getView(),                                                                                                                                                                                                                                 
				oCurrency = oView.byId("idCurrency");                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			if (oGlobalParameters.LocalCurrencyType && oGlobalParameters.LocalCurrency) {                                                                                                                                                                               
				oCurrency.setSelectedKey(oGlobalParameters.LocalCurrency);                                                                                                                                                                                                 
			} else {                                                                                                                                                                                                                                                    
				oCurrency.setSelectedKey(oGlobalParameters.GroupCurrency);                                                                                                                                                                                                 
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (oGlobalParameters.ConsolidationUnit) {                                                                                                                                                                                                                  
				oView.byId("idConsUnit").setSelectedKey(oGlobalParameters.ConsolidationUnit);                                                                                                                                                                              
				oCurrency.setVisible(true);                                                                                                                                                                                                                                
				this._fetchCurrencyData(true);                                                                                                                                                                                                                             
				this.fetchReconLedgerData();                                                                                                                                                                                                                               
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (oGlobalParameters.FiscalYear) {                                                                                                                                                                                                                         
				// Generating a Date mid-year 6th of June - with provided fiscal year.                                                                                                                                                                                     
				let oFiscalYearDate = new Date("06/06/".concat(oGlobalParameters.FiscalYear.toString()));                                                                                                                                                                  
				oView.byId("idFiscalYearFilter").setDateValue(oFiscalYearDate);                                                                                                                                                                                            
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (oGlobalParameters.Intention) {                                                                                                                                                                                                                          
				oView.byId("idIntentionComboBox").setSelectedKey(oGlobalParameters.Intention);                                                                                                                                                                             
			}                                                                                                                                                                                                                                                           
			// Fetch data for Intention. This is independent of Intention data stored in Global Parameter App.                                                                                                                                                          
			//	this._fetchIntentionData(oparam);                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			var aParam = [oGlobalParameters.ConsolidationUnit, oGlobalParameters.FiscalYear];                                                                                                                                                                           
			this._fetchIntentionStatus(aParam);                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			if (oGlobalParameters.PeriodFrom) {                                                                                                                                                                                                                         
				oView.byId("idPeriodFromInput").setValue(formatter.convertStringToInt(oGlobalParameters.PeriodFrom));                                                                                                                                                      
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			if (oGlobalParameters.PeriodTo) {                                                                                                                                                                                                                           
				oView.byId("idPeriodToInput").setValue(formatter.convertStringToInt(oGlobalParameters.PeriodTo));                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		getI18nText: function (sTextKey) {                                                                                                                                                                                                                           
			return this.getResourceBundle().getText(sTextKey);                                                                                                                                                                                                          
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_fetchCurrencyData: function (bIsVariantCall) {                                                                                                                                                                                                              
			var oView = this.getView(),                                                                                                                                                                                                                                 
				consKey = oView.byId("idConsUnit").getSelectedKey(),                                                                                                                                                                                                       
				oFilter = new Filter("ConsolidationUnit", FilterOperator.EQ, consKey),                                                                                                                                                                                     
				oServiceCallModel = this.getModel(),                                                                                                                                                                                                                       
				that = this,                                                                                                                                                                                                                                               
				oCurrencyCtrl = oView.byId("idCurrType"),                                                                                                                                                                                                                  
				oCurrControl = oView.byId("idCurrency");                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
			oCurrencyCtrl.setVisible(true);                                                                                                                                                                                                                             
			oCurrControl.setBusy(true);                                                                                                                                                                                                                                 
			oServiceCallModel.read("/xEY1xSAV_C_CurrLocalGroupVH", {                                                                                                                                                                                                    
				method: "GET",                                                                                                                                                                                                                                             
				filters: [oFilter],                                                                                                                                                                                                                                        
				success: function (oData, oResponse) {                                                                                                                                                                                                                     
					oCurrControl.setBusy(false);                                                                                                                                                                                                                              
					that.setModel(new JSONModel(oData), "currLocalGroupVHModel");                                                                                                                                                                                             
					if (!bIsVariantCall && oData.results.length > 0) {                                                                                                                                                                                                        
						oCurrControl.setSelectedKey(oData.results[0].Currency);                                                                                                                                                                                                  
					}                                                                                                                                                                                                                                                         
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
					oCurrControl.setBusy(false);                                                                                                                                                                                                                              
					MessageToast.show(that.getI18nText("errorFetchingCurrency"));                                                                                                                                                                                             
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		/*_fetchIntentionData: function () {                                                                                                                                                                                                                         
			let oServiceCallModel = this.getModel(),                                                                                                                                                                                                                    
				sServiceURL = "/xEY1xSAV_C_ReadIntentVH",                                                                                                                                                                                                                  
				that = this;                                                                                                                                                                                                                                               
			this.getBusyDialog().open();                                                                                                                                                                                                                                
			oServiceCallModel.read(sServiceURL, {                                                                                                                                                                                                                       
				method: "GET",                                                                                                                                                                                                                                             
				sorters: [                                                                                                                                                                                                                                                 
					new sap.ui.model.Sorter("SerialNumber")                                                                                                                                                                                                                   
				],                                                                                                                                                                                                                                                         
				success: function (oData, oResponse) {                                                                                                                                                                                                                     
					that.getBusyDialog().close();                                                                                                                                                                                                                             
					let oModel = new JSONModel(oData);                                                                                                                                                                                                                        
					that.getView().setModel(oModel, "intentionVHModel");                                                                                                                                                                                                      
					that._managePeriodFieldsEditability(false);                                                                                                                                                                                                               
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
					that.getBusyDialog().close();                                                                                                                                                                                                                             
					MessageToast.show(that.getI18nText("errorFetchingIntentions"));                                                                                                                                                                                           
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},*/                                                                                                                                                                                                                                                         
		_fetchIntentionStatus: function (aParam) {                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                               
			let oServiceCallModel = this.getModel();                                                                                                                                                                                                                    
			let sBunit = aParam[0],                                                                                                                                                                                                                                     
				sYear = aParam[1],                                                                                                                                                                                                                                         
				sServiceURL = "/xEY1xSAV_C_IntentionsStatus(p_bunit='" + sBunit + "')/Set",                                                                                                                                                                                
				oFilter = new Filter("Gjahr", FilterOperator.EQ, sYear),                                                                                                                                                                                                   
				that = this,                                                                                                                                                                                                                                               
				oView = that.getView(),                                                                                                                                                                                                                                    
				oIntentionCtrl = oView.byId("idIntentionComboBox");                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			this.getBusyDialog().open();                                                                                                                                                                                                                                
			oServiceCallModel.read(sServiceURL, {                                                                                                                                                                                                                       
				method: "GET",                                                                                                                                                                                                                                             
				sorters: [                                                                                                                                                                                                                                                 
					new sap.ui.model.Sorter("SerialNumber")                                                                                                                                                                                                                   
				],                                                                                                                                                                                                                                                         
				filters: [oFilter],                                                                                                                                                                                                                                        
				success: function (oData, oResponse) {                                                                                                                                                                                                                     
					that.getBusyDialog().close();                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
					if (oData.results.length === 0) {                                                                                                                                                                                                                         
						oIntentionCtrl.setSelectedKey('');                                                                                                                                                                                                                       
						oIntentionCtrl.setEnabled(false);                                                                                                                                                                                                                        
						MessageBox.error(that.getI18nText("IntentionNotYetOpen") + sYear);                                                                                                                                                                                       
						return;                                                                                                                                                                                                                                                  
					}                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
					oIntentionCtrl.setEnabled(true);                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
					let oGlobalParamter = that.getView().getModel("viewConfigDataModel").getData().globalParameters;                                                                                                                                                          
					oIntentionCtrl.setSelectedKey(oGlobalParamter.Intention);                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
					//Added Lines                                                                                                                                                                                                                                             
					oIntentionCtrl.setSelectedKey("");                                                                                                                                                                                                                        
					for (let m = 0; m < oData.results.length; m++) {                                                                                                                                                                                                          
						if (oData.results[m].isSelected === "X") {                                                                                                                                                                                                               
							oIntentionCtrl.setSelectedKey(oData.results[m].Intention);                                                                                                                                                                                              
						}                                                                                                                                                                                                                                                        
					}                                                                                                                                                                                                                                                         
					if (oIntentionCtrl.getSelectedKey() === "") {                                                                                                                                                                                                             
						for (let n = 0; n < oData.results.length; n++) {                                                                                                                                                                                                         
							if (oData.results[n].status === "Open") {                                                                                                                                                                                                               
								oIntentionCtrl.setSelectedKey(oData.results[n].Intention);                                                                                                                                                                                             
							}                                                                                                                                                                                                                                                       
						}                                                                                                                                                                                                                                                        
					}                                                                                                                                                                                                                                                         
					//End added Lines                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
					let oModel = new JSONModel(oData);                                                                                                                                                                                                                        
					that.getView().setModel(oModel, "intentionVHModel");                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
					that._managePeriodFieldsEditability(false);                                                                                                                                                                                                               
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
					that.getBusyDialog().close();                                                                                                                                                                                                                             
					MessageBox.error(that.getI18nText("errorFetchingIntentionStatus"));                                                                                                                                                                                       
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
		_managePeriodFieldsEditability: function (bIsChangeEventCalled) {                                                                                                                                                                                            
			let oView = this.getView(),                                                                                                                                                                                                                                 
				oIntentionCtrl = oView.byId("idIntentionComboBox");                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			if (!bIsChangeEventCalled) {                                                                                                                                                                                                                                
				oIntentionCtrl.setSelectedKey(oIntentionCtrl.getSelectedKey());                                                                                                                                                                                            
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			let oSelectedItem = oIntentionCtrl.getSelectedItem(),                                                                                                                                                                                                       
				oSelectedData = oSelectedItem.getBindingContext("intentionVHModel").getObject();                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			let oPeriodTo = oView.byId("idPeriodToInput"),                                                                                                                                                                                                              
				iTaxIntentionVal = formatter.convertStringToInt(oSelectedData.TaxIntention);                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			if (iTaxIntentionVal !== formatter.convertStringToInt(0)) {                                                                                                                                                                                                 
				this._manageIntentionStatus(oSelectedData);                                                                                                                                                                                                                
				oPeriodTo.setEditable(false);                                                                                                                                                                                                                              
				oPeriodTo.setValue(formatter.convertStringToInt(oSelectedData.PeriodTo));                                                                                                                                                                                  
			} else {                                                                                                                                                                                                                                                    
				this._managePerodicIntentionStatus(oSelectedData.PeriodTo);                                                                                                                                                                                                
				// IF 'PERIODIC' selected, then set Editable                                                                                                                                                                                                               
				oPeriodTo.setEditable(true);                                                                                                                                                                                                                               
				oPeriodTo.setValue(formatter.convertStringToInt(oSelectedData.CurrOpenPeriod));                                                                                                                                                                            
				// oPeriodTo.setValue(0);                                                                                                                                                                                                                                  
			}                                                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_manageIntentionStatus: function (oSelectedData) {                                                                                                                                                                                                           
			let that = this;                                                                                                                                                                                                                                            
			if (oSelectedData.status === this.getI18nText("YetToOpen")) {                                                                                                                                                                                               
				that.getBusyDialog().close();                                                                                                                                                                                                                              
				MessageBox.error((this.getModel("i18n").getResourceBundle().getText("ThisIntentionNotYetOpen", [oSelectedData.IntentDescription,                                                                                                                           
					oSelectedData.Gjahr                                                                                                                                                                                                                                       
				])));                                                                                                                                                                                                                                                      
				return;                                                                                                                                                                                                                                                    
			} else {                                                                                                                                                                                                                                                    
				return;                                                                                                                                                                                                                                                    
			}                                                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
		_managePerodicIntentionStatus: function (paramToYb) {                                                                                                                                                                                                        
			let oSelectedIntention = this.getView().byId("idIntentionComboBox").getSelectedItem().getBindingContext("intentionVHModel").getObject(),                                                                                                                    
				iCurrentPeriod = parseInt(oSelectedIntention.CurrOpenPeriod, [10]);                                                                                                                                                                                        
			if (paramToYb > iCurrentPeriod) {                                                                                                                                                                                                                           
				this.getBusyDialog().close();                                                                                                                                                                                                                              
				MessageBox.error(this.getModel("i18n").getResourceBundle().getText("errorPeriodnotopen", [paramToYb, iCurrentPeriod]));                                                                                                                                    
				return;                                                                                                                                                                                                                                                    
			} else {                                                                                                                                                                                                                                                    
				return;                                                                                                                                                                                                                                                    
			}                                                                                                                                                                                                                                                           
		},                                                                                                                                                                                                                                                           
		fetchReconLedgerData: function () {                                                                                                                                                                                                                          
			let oServiceCallModel = this.getModel();                                                                                                                                                                                                                    
			let sServiceURL = oServiceCallModel.createKey("/xEY1xSAV_C_Recon_Ledger", {                                                                                                                                                                                 
				"bunit": this.byId("idConsUnit").getSelectedKey()                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
			let that = this;                                                                                                                                                                                                                                            
			oServiceCallModel.read(sServiceURL, {                                                                                                                                                                                                                       
				method: "GET",                                                                                                                                                                                                                                             
				success: function (oData, oResponse) {                                                                                                                                                                                                                     
					var oModel = that.getModel("viewConfigDataModel");                                                                                                                                                                                                        
					oModel.getData().reconData = oData;                                                                                                                                                                                                                       
					oModel.refresh();                                                                                                                                                                                                                                         
					that._fetchCnsldVersion();                                                                                                                                                                                                                                
					that._fetchAccountClass();                                                                                                                                                                                                                                
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
					if (parseInt(oError.statusCode, [10]) !== 404) {                                                                                                                                                                                                          
						MessageToast.show(that.getI18nText("reconServiceCallError"));                                                                                                                                                                                            
					}                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		// _getDataFooter: function (dataFooter, aValues) {                                                                                                                                                                                                          
		// 	/* dataFooter: OData results from service call.                                                                                                                                                                                                          
		// 	aValues: Array of String - Which values needs to be displayed.                                                                                                                                                                                           
		// 	aLabels: Array of String - Corresponding Labels needs to be Displayed.                                                                                                                                                                                   
		// 	aHighlighted = Array of Boolean - true(if data to be highlighted in Semantic colors), false(if data to be displayed normally)                                                                                                                            
		// 	*/                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
		// 	let dataSetFooter = {                                                                                                                                                                                                                                    
		// 			results: []                                                                                                                                                                                                                                            
		// 		},                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
		// 		for (var iData = 0; iData < dataFooter.length; iData++) {                                                                                                                                                                                               
		// 			let iCount = 1,                                                                                                                                                                                                                                        
		// 				oTempEntry = {};                                                                                                                                                                                                                                      
		// 			for (var i = 0; i < aValues.length; i++) {                                                                                                                                                                                                             
		// 				let sCurrentValue = aValues[i];                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
		// 				if (parseInt(dataFooter[iData][sCurrentValue], [10]) !== parseInt("0.00", [10])) {                                                                                                                                                                    
		// 					let sProperty = "val" + iCount;                                                                                                                                                                                                                      
		// 					oTempEntry[sProperty] = dataFooter[iData][sCurrentValue];                                                                                                                                                                                            
		// 					iCount = iCount + 1;                                                                                                                                                                                                                                 
		// 				}                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
		// 			}                                                                                                                                                                                                                                                      
		// 			dataSetFooter.results.push(oTempEntry);                                                                                                                                                                                                                
		// 		}                                                                                                                                                                                                                                                       
		// 		// if (aValues.length === aLabels.length) {                                                                                                                                                                                                             
		// 		// 	for (var i = 0; i < aValues.length; i++) {                                                                                                                                                                                                          
		// 		// 		let sCurrentValue = aValues[i],                                                                                                                                                                                                                    
		// 		// 			sCurrentLabel = aLabels[i],                                                                                                                                                                                                                       
		// 		// 			bCurrentHighlight = aHighlighted[i],                                                                                                                                                                                                              
		// 		// 			bCurrentBold = aBold[i],                                                                                                                                                                                                                          
		// 		// 			aDataFooterMap = dataFooter.map(item => parseInt(item[sCurrentValue], [10]) !== parseInt("0.00", [10])),                                                                                                                                          
		// 		// 			oTempEntry = {                                                                                                                                                                                                                                    
		// 		// 				value: aDataFooterMap.indexOf(true) === -1 ? "0.00" : dataFooter[aDataFooterMap.indexOf(true)][sCurrentValue],                                                                                                                                   
		// 		// 				text: this.getI18nText(sCurrentLabel),                                                                                                                                                                                                           
		// 		// 				bLabelCheck: bCurrentHighlight,                                                                                                                                                                                                                  
		// 		// 				bLabelBold: bCurrentBold                                                                                                                                                                                                                         
		// 		// 			};                                                                                                                                                                                                                                                
		// 		// 		dataSetFooter.results.push(oTempEntry);                                                                                                                                                                                                            
		// 		// 	}                                                                                                                                                                                                                                                   
		// 		// } else {                                                                                                                                                                                                                                             
		// 		// 	MessageToast.show(this.getI18nText("errorFooterDetailsInvalid"));                                                                                                                                                                                   
		// 		// }                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
		// 	return dataSetFooter;                                                                                                                                                                                                                                    
		// },                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
		_fetchCnsldVersion: function () {                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
			let oServiceCallModel = this.getModel(),                                                                                                                                                                                                                    
				oReconLedgerData = this.getModel("viewConfigDataModel").getData(),                                                                                                                                                                                         
				sCongr = oReconLedgerData.globalParameters.ConsolidationGroup,                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
				sServiceUrl = "/xEY1xSAV_C_Get_Version(p_congr='" + sCongr + "')/Set",                                                                                                                                                                                     
				that = this,                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
				oCnlVersionModel = new JSONModel();                                                                                                                                                                                                                        
			sap.ui.getCore().setModel(oCnlVersionModel, "viewCnlVersionModel");                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			oServiceCallModel.read(sServiceUrl, {                                                                                                                                                                                                                       
				method: "GET",                                                                                                                                                                                                                                             
				sorters: [                                                                                                                                                                                                                                                 
					new sap.ui.model.Sorter("FiscalYear")                                                                                                                                                                                                                     
				],                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
				success: function (oData, oResponse) {                                                                                                                                                                                                                     
					sap.ui.getCore().getModel("viewCnlVersionModel").setData({                                                                                                                                                                                                
						"ConsolidationVersion": oData                                                                                                                                                                                                                            
					});                                                                                                                                                                                                                                                       
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
					if (parseInt(oError.statusCode, [10]) !== 404) {                                                                                                                                                                                                          
						MessageToast.show(that.getI18nText("GetConsolidationVersionServiceCallError"));                                                                                                                                                                          
					}                                                                                                                                                                                                                                                         
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_fetchAccountClass: function () {                                                                                                                                                                                                                            
			let oServiceCallModel = this.getModel(),                                                                                                                                                                                                                    
				sServiceURL = "/xEY1xSAV_C_Accounts_Class",                                                                                                                                                                                                                
				that = this,                                                                                                                                                                                                                                               
				oCnlVersionModel = new JSONModel();                                                                                                                                                                                                                        
			that.setModel(oCnlVersionModel, "viewAccountClass");                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			oServiceCallModel.read(sServiceURL, {                                                                                                                                                                                                                       
				method: "GET",                                                                                                                                                                                                                                             
				success: function (oData, oResponse) {                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
					that.getModel("viewAccountClass").setData({                                                                                                                                                                                                               
						"AccountClass": oData                                                                                                                                                                                                                                    
					});                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
					if (parseInt(oError.statusCode, [10]) !== 404) {                                                                                                                                                                                                          
						MessageToast.show(that.getI18nText("GetAccountClassServiceCallError"));                                                                                                                                                                                  
					}                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		_createJournalEntriesFilterData: function (oEvent) {                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
			let aControlCustomData = oEvent.getSource().getCustomData(),                                                                                                                                                                                                
				sModelName = aControlCustomData[aControlCustomData.map(item => item.getProperty("key")).indexOf("modelName")].getValue();                                                                                                                                  
                                                                                                                                                                                                                                                               
			let oBindingContext = oEvent.getSource().getBindingContext(sModelName);                                                                                                                                                                                     
			// If SUM row is clicked, then Do Not Execute code further                                                                                                                                                                                                  
			if (!oBindingContext.getProperty("AccountDescription")) {                                                                                                                                                                                                   
				return;                                                                                                                                                                                                                                                    
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			let oReconLedgerData = this.getModel("viewConfigDataModel").getData(),                                                                                                                                                                                      
				aAccountClassData = this.getModel("viewAccountClass").getData().AccountClass.results,                                                                                                                                                                      
                                                                                                                                                                                                                                                               
				oFiscalYear = this.getView().byId("idFiscalYearFilter"),                                                                                                                                                                                                   
				sFiscalYearVal = oFiscalYear.getDateValue().getFullYear(),                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
				sPeriodFrom = parseInt(this.getView().byId("idPeriodFromInput").getValue(), [10]),                                                                                                                                                                         
				sPeriodTo = parseInt(this.getView().byId("idPeriodToInput").getValue(), [10]),                                                                                                                                                                             
				oCnsldtnUnit = this.getView().byId("idConsUnit"),                                                                                                                                                                                                          
				oLocalOrGroupCurrency = this.getView().byId("idCurrency"),                                                                                                                                                                                                 
				oSelectedIntention = this.getView().byId("idIntentionComboBox").getSelectedItem().getBindingContext("intentionVHModel").getObject(),                                                                                                                       
				sIntentValue = formatter.convertStringToInt(oSelectedIntention.PeriodTo) === 0 ? "" : formatter.convertStringToInt(                                                                                                                                        
					oSelectedIntention.TaxIntention),                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
				// If multiple Custom Data controls are maintained, select the one which is used for Ledger Mapping                                                                                                                                                        
				aMappedLedgerValue = [],                                                                                                                                                                                                                                   
				aMappedTransType = [],                                                                                                                                                                                                                                     
				bIsOpeningBalanceEntry = false,                                                                                                                                                                                                                            
				sCongr = oReconLedgerData.globalParameters.ConsolidationGroup,                                                                                                                                                                                             
				sAccClassCode,                                                                                                                                                                                                                                             
				aEQTransType = [],                                                                                                                                                                                                                                         
				sbool = true;                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			let sMappedLedger = aControlCustomData[aControlCustomData.map(item => item.getProperty("key")).indexOf("mappedLedger")].getValue();                                                                                                                         
			aMappedLedgerValue = oReconLedgerData.reconData[sMappedLedger];                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			for (let obj of aControlCustomData) {                                                                                                                                                                                                                       
				let sCustomDataValue = obj.getValue();                                                                                                                                                                                                                     
				let sCustomDataKey = obj.getKey();                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
				if (sCustomDataKey === "mappedAccountClass" && sCustomDataValue === "EQT") {                                                                                                                                                                               
                                                                                                                                                                                                                                                               
					if (oEvent.getSource().getBindingContext("S2TTableModel") === undefined) {                                                                                                                                                                                
                                                                                                                                                                                                                                                               
						sAccClassCode = oEvent.getSource().getBindingContext("G2STableModel").getObject().AccountClassCode;                                                                                                                                                      
					} else {                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
						sAccClassCode = oEvent.getSource().getBindingContext("S2TTableModel").getObject().AccountClassCode;                                                                                                                                                      
					}                                                                                                                                                                                                                                                         
					if (sAccClassCode !== "RE") {                                                                                                                                                                                                                             
						for (let i = 0; i < aAccountClassData.length; i++) {                                                                                                                                                                                                     
							if (aAccountClassData[i].AccClassCode === sAccClassCode) {                                                                                                                                                                                              
								if ((aAccountClassData[i].BSEQPL === "BS" || aAccountClassData[i].BSEQPL === "EQ") && (aAccountClassData[i].TaxEffect ===                                                                                                                              
										sbool &&                                                                                                                                                                                                                                             
										aAccountClassData[i].Profit === sbool)) {                                                                                                                                                                                                            
									aEQTransType.push("EQ");                                                                                                                                                                                                                              
									break;                                                                                                                                                                                                                                                
								} else if (aAccountClassData[i].BSEQPL === "EQ" && aAccountClassData[i].TaxEffect === sbool && aAccountClassData[i].Profit !==                                                                                                                         
									sbool) {                                                                                                                                                                                                                                              
									aEQTransType.push("EQ");                                                                                                                                                                                                                              
									aEQTransType.push("P&L");                                                                                                                                                                                                                             
									aEQTransType.push("PERMANENT");                                                                                                                                                                                                                       
									break;                                                                                                                                                                                                                                                
								}                                                                                                                                                                                                                                                      
							}                                                                                                                                                                                                                                                       
						}                                                                                                                                                                                                                                                        
					} else {                                                                                                                                                                                                                                                  
						for (let i = 0; i < aAccountClassData.length; i++) {                                                                                                                                                                                                     
							if (aAccountClassData[i].AccClassCode === sAccClassCode && aAccountClassData[i].bl_eq_pl === "EQ" && aAccountClassData[i].tax_effect ===                                                                                                                
								sbool) {                                                                                                                                                                                                                                               
								aEQTransType.push("EQ");                                                                                                                                                                                                                               
								aEQTransType.push("P&L");                                                                                                                                                                                                                              
								aEQTransType.push("PERMANENT");                                                                                                                                                                                                                        
								break;                                                                                                                                                                                                                                                 
							}                                                                                                                                                                                                                                                       
						}                                                                                                                                                                                                                                                        
					}                                                                                                                                                                                                                                                         
					for (let j = 0; j < aEQTransType.length; j++) {                                                                                                                                                                                                           
						for (let i = 0; i < oReconLedgerData.adjustmentReason.length; i++) {                                                                                                                                                                                     
							if (oReconLedgerData.adjustmentReason[i].AdjustmentReason === aEQTransType[j]) {                                                                                                                                                                        
                                                                                                                                                                                                                                                               
								aMappedTransType.push(oReconLedgerData.adjustmentReason[i].TransType);                                                                                                                                                                                 
							}                                                                                                                                                                                                                                                       
						}                                                                                                                                                                                                                                                        
					}                                                                                                                                                                                                                                                         
				}                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
				if (sCustomDataKey === "mappedAdjReason" && (sCustomDataValue === "P&L" || sCustomDataValue === "EQ" || sCustomDataValue ===                                                                                                                               
						"OP&L" || sCustomDataValue === "OPERMANENT" || sCustomDataValue === "OEQ" || sCustomDataValue === "PERMANENT" ||                                                                                                                                         
						sCustomDataValue === "OB")) {                                                                                                                                                                                                                            
					for (let i = 0; i < oReconLedgerData.adjustmentReason.length; i++) {                                                                                                                                                                                      
						if (oReconLedgerData.adjustmentReason[i].AdjustmentReason === sCustomDataValue) {                                                                                                                                                                        
                                                                                                                                                                                                                                                               
							aMappedTransType.push(oReconLedgerData.adjustmentReason[i].TransType);                                                                                                                                                                                  
						}                                                                                                                                                                                                                                                        
						if (sCustomDataValue === "OB") {                                                                                                                                                                                                                         
							aMappedTransType.push(oReconLedgerData.adjustmentReason[i].TransType);                                                                                                                                                                                  
						}                                                                                                                                                                                                                                                        
					}                                                                                                                                                                                                                                                         
					continue;                                                                                                                                                                                                                                                 
				}                                                                                                                                                                                                                                                          
				if (sCustomDataKey === "mappedIsOpeningBalanceEntry") {                                                                                                                                                                                                    
					bIsOpeningBalanceEntry = true;                                                                                                                                                                                                                            
				}                                                                                                                                                                                                                                                          
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			let sGLAccount = oBindingContext.getProperty("GLAccount").padStart(10, "0");                                                                                                                                                                                
                                                                                                                                                                                                                                                               
			// Find Column heading Text                                                                                                                                                                                                                                 
			let oBindingParts = oEvent.getSource().getBindingInfo("text").parts,                                                                                                                                                                                        
				linkedProperty = oBindingParts[oBindingParts.map(item => item.path.indexOf("MainCurrency") !== 0).indexOf(true)].path;                                                                                                                                     
                                                                                                                                                                                                                                                               
			//  Find the Binded entity Set Property List                                                                                                                                                                                                                
			// let propertyData = this.serviceDataProperty.property;                                                                                                                                                                                                    
			// propertyData = propertyData[propertyData.map(item => item.name).indexOf(linkedProperty)];                                                                                                                                                                
			// let labelData = propertyData.extensions;                                                                                                                                                                                                                 
			// labelData = labelData[labelData.map(item => item.name).indexOf("label")];                                                                                                                                                                                
                                                                                                                                                                                                                                                               
			let sColHeaderValue = aControlCustomData[aControlCustomData.map(item => item.getProperty("key")).indexOf("columnHeader")].getValue();                                                                                                                       
                                                                                                                                                                                                                                                               
			return {                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
				"ConsolidationChartOfAccounts": oReconLedgerData.globalParameters.ConsolidationChartofAccounts,                                                                                                                                                            
				"FiscalYear": sFiscalYearVal,                                                                                                                                                                                                                              
				"PeriodFrom": sPeriodFrom || "1",                                                                                                                                                                                                                          
				"PeriodTo": sPeriodTo || "12",                                                                                                                                                                                                                             
				"ConsolidatioUnit": oCnsldtnUnit.getSelectedKey(),                                                                                                                                                                                                         
				"ConsolidationLedger": aMappedLedgerValue,                                                                                                                                                                                                                 
				"Value": oBindingContext.getProperty(linkedProperty),                                                                                                                                                                                                      
				"Currency": oBindingContext.getProperty("MainCurrency"),                                                                                                                                                                                                   
				"GLAccount": sGLAccount,                                                                                                                                                                                                                                   
				"GLAccountDesc": oBindingContext.getProperty("AccountDescription"),                                                                                                                                                                                        
				"ConsolidationVersion": "",                                                                                                                                                                                                                                
				"SelectedIntention": sIntentValue,                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
				"ConsolidationGroup": "",                                                                                                                                                                                                                                  
				"PeriodMode": "PER",                                                                                                                                                                                                                                       
				"RefConsolidationDocumentType": "W",                                                                                                                                                                                                                       
				"bIsOpeningBalanceEntry": bIsOpeningBalanceEntry,                                                                                                                                                                                                          
				// Currently selected currency                                                                                                                                                                                                                             
				"selectedCurrency": oLocalOrGroupCurrency.getSelectedKey(),                                                                                                                                                                                                
				//	Column heading                                                                                                                                                                                                                                          
				"SectionName": sColHeaderValue,                                                                                                                                                                                                                            
				"FinancialTransactionType": aMappedTransType,                                                                                                                                                                                                              
				"MapLedger": sMappedLedger,                                                                                                                                                                                                                                
				"Congr": sCongr                                                                                                                                                                                                                                            
			};                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
		//*****service call for GE section                                                                                                                                                                                                                           
		_serviceCallGE: function (sServiceURLGE, oFilters) {                                                                                                                                                                                                         
			let oServiceCallModel = this.getModel(),                                                                                                                                                                                                                    
				oGETable = this.getView().byId("idGE"),                                                                                                                                                                                                                    
				that = this;                                                                                                                                                                                                                                               
			oGETable.setBusy(true);                                                                                                                                                                                                                                     
			oServiceCallModel.read(sServiceURLGE, {                                                                                                                                                                                                                     
				method: "GET",                                                                                                                                                                                                                                             
				filters: [oFilters],                                                                                                                                                                                                                                       
				sorters: [                                                                                                                                                                                                                                                 
					new sap.ui.model.Sorter("GLAccount")                                                                                                                                                                                                                      
				],                                                                                                                                                                                                                                                         
				success: function (oData, oResponse) {                                                                                                                                                                                                                     
					oGETable.setBusy(false);                                                                                                                                                                                                                                  
					oGETable.setModel(new JSONModel(oData), "GETableModel");                                                                                                                                                                                                  
					oGETable.setVisibleRowCount(oGETable.getModel("GETableModel").getData().results.length);                                                                                                                                                                  
					aModelTable.push(oGETable.getModel("GETableModel"));                                                                                                                                                                                                      
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
					oGETable.setBusy(false);                                                                                                                                                                                                                                  
					MessageToast.show(that.getI18nText("GEServiceCallError"));                                                                                                                                                                                                
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//*****service call for GE footer section                                                                                                                                                                                                                    
		_serviceCallGEFooter: function (sServiceURLGEDetails, oFilters) {                                                                                                                                                                                            
			let oServiceCallModel = this.getModel(),                                                                                                                                                                                                                    
				oFooterTableGE = this.getView().byId("idGEFooter"),                                                                                                                                                                                                        
				dataFooter = [],                                                                                                                                                                                                                                           
				that = this;                                                                                                                                                                                                                                               
			oFooterTableGE.setBusy(true);                                                                                                                                                                                                                               
			oServiceCallModel.read(sServiceURLGEDetails, {                                                                                                                                                                                                              
				method: "GET",                                                                                                                                                                                                                                             
				filters: [oFilters],                                                                                                                                                                                                                                       
				success: function (oData, oResponse) {                                                                                                                                                                                                                     
					oFooterTableGE.setBusy(false);                                                                                                                                                                                                                            
					// if (oData.results.length) {                                                                                                                                                                                                                            
					// 	dataFooter = that._getDataFooter(oData.results, ["SumGaapOB", "SumGaapYB", "SumGaapEQ", "SumGaapCTA", "SumGaapCB"], [                                                                                                                                 
					// 		"totalGELabel"                                                                                                                                                                                                                                       
					// 		// "RecCheckRepGaapLabel"                                                                                                                                                                                                                            
					// 	], [false, false], [true, true]);                                                                                                                                                                                                                     
					// }                                                                                                                                                                                                                                                      
					// oFooterTableGE.setModel(new JSONModel(dataFooter), "GEFooterTableModel");                                                                                                                                                                              
					oFooterTableGE.setModel(new JSONModel(oData), "GEFooterTableModel");                                                                                                                                                                                      
					aModelTable.push(oFooterTableGE.getModel("GEFooterTableModel"));                                                                                                                                                                                          
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
					oFooterTableGE.setBusy(false);                                                                                                                                                                                                                            
					MessageToast.show(that.getI18nText("GEFooterServiceCallError"));                                                                                                                                                                                          
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//*****service call for G2S section                                                                                                                                                                                                                          
		_serviceCallG2S: function (oFilters, sServiceURLG2S) {                                                                                                                                                                                                       
			let oServiceCallModel = this.getModel(),                                                                                                                                                                                                                    
				oG2STable = this.getView().byId("idG2S"),                                                                                                                                                                                                                  
				that = this;                                                                                                                                                                                                                                               
			oG2STable.setBusy(true);                                                                                                                                                                                                                                    
			oServiceCallModel.read(sServiceURLG2S, {                                                                                                                                                                                                                    
				method: "GET",                                                                                                                                                                                                                                             
				filters: [oFilters],                                                                                                                                                                                                                                       
				success: function (oData, oResponse) {                                                                                                                                                                                                                     
					oG2STable.setBusy(false);                                                                                                                                                                                                                                 
					oG2STable.setModel(new JSONModel(oData), "G2STableModel");                                                                                                                                                                                                
					oG2STable.setVisibleRowCount(oG2STable.getModel("G2STableModel").getData().results.length);                                                                                                                                                               
					aModelTable.push(oG2STable.getModel("G2STableModel"));                                                                                                                                                                                                    
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
					oG2STable.setBusy(false);                                                                                                                                                                                                                                 
					MessageToast.show(that.getI18nText("G2SServiceCallError"));                                                                                                                                                                                               
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//*****service call for G2S total footer section                                                                                                                                                                                                             
		_serviceCallG2STotalFooter: function (oFilters, sServiceURLG2STotalDetails) {                                                                                                                                                                                
			let oServiceCallModel = this.getModel(),                                                                                                                                                                                                                    
				oFooterTableG2STotal = this.getView().byId("idG2STotalFooter"),                                                                                                                                                                                            
				that = this;                                                                                                                                                                                                                                               
			oFooterTableG2STotal.setBusy(true);                                                                                                                                                                                                                         
			oServiceCallModel.read(sServiceURLG2STotalDetails, {                                                                                                                                                                                                        
				method: "GET",                                                                                                                                                                                                                                             
				filters: [oFilters],                                                                                                                                                                                                                                       
				success: function (oData, oResponse) {                                                                                                                                                                                                                     
					oFooterTableG2STotal.setBusy(false);                                                                                                                                                                                                                      
					oFooterTableG2STotal.setModel(new JSONModel(oData), "G2STotalFooterTableModel");                                                                                                                                                                          
					aModelTable.push(oFooterTableG2STotal.getModel("G2STotalFooterTableModel"));                                                                                                                                                                              
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
					oFooterTableG2STotal.setBusy(false);                                                                                                                                                                                                                      
					MessageToast.show(that.getI18nText("G2SServiceCallError"));                                                                                                                                                                                               
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//*****service call for SGE total footer section G2S                                                                                                                                                                                                         
		_serviceCallSGETotalFooter: function (oFilters, sServiceURLSGETotalDetails) {                                                                                                                                                                                
			let oServiceCallModel = this.getModel(),                                                                                                                                                                                                                    
				oFooterTableSGETotal = this.getView().byId("idSGETotalFooter"),                                                                                                                                                                                            
				that = this;                                                                                                                                                                                                                                               
			oFooterTableSGETotal.setBusy(true);                                                                                                                                                                                                                         
			oServiceCallModel.read(sServiceURLSGETotalDetails, {                                                                                                                                                                                                        
				method: "GET",                                                                                                                                                                                                                                             
				filters: [oFilters],                                                                                                                                                                                                                                       
				success: function (oData, oResponse) {                                                                                                                                                                                                                     
					oFooterTableSGETotal.setBusy(false);                                                                                                                                                                                                                      
					oFooterTableSGETotal.setModel(new JSONModel(oData), "SGETotalFooterTableModel");                                                                                                                                                                          
					aModelTable.push(oFooterTableSGETotal.getModel("SGETotalFooterTableModel"));                                                                                                                                                                              
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
					oFooterTableSGETotal.setBusy(false);                                                                                                                                                                                                                      
					MessageToast.show(that.getI18nText("G2SServiceCallError"));                                                                                                                                                                                               
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//*****service call for RecChk footer section G2S                                                                                                                                                                                                            
		_serviceCallG2SRecChkFooter: function (oFilters, sServiceURLG2SRecChkDetails) {                                                                                                                                                                              
			let oServiceCallModel = this.getModel(),                                                                                                                                                                                                                    
				oFooterTableRecChk = this.getView().byId("idRecChkFooter"),                                                                                                                                                                                                
				that = this;                                                                                                                                                                                                                                               
			oFooterTableRecChk.setBusy(true);                                                                                                                                                                                                                           
			oServiceCallModel.read(sServiceURLG2SRecChkDetails, {                                                                                                                                                                                                       
				method: "GET",                                                                                                                                                                                                                                             
				filters: [oFilters],                                                                                                                                                                                                                                       
				success: function (oData, oResponse) {                                                                                                                                                                                                                     
					oFooterTableRecChk.setBusy(false);                                                                                                                                                                                                                        
					oFooterTableRecChk.setModel(new JSONModel(oData), "RecChkFooterTableModel");                                                                                                                                                                              
					aModelTable.push(oFooterTableRecChk.getModel("RecChkFooterTableModel"));                                                                                                                                                                                  
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
					oFooterTableRecChk.setBusy(false);                                                                                                                                                                                                                        
					MessageToast.show(that.getI18nText("G2SServiceCallError"));                                                                                                                                                                                               
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//*****service call for S2T section                                                                                                                                                                                                                          
		_serviceCallS2T: function (oFilters, sServiceURLS2T) {                                                                                                                                                                                                       
			let oServiceCallModel = this.getModel(),                                                                                                                                                                                                                    
				oS2TTable = this.getView().byId("idS2T"),                                                                                                                                                                                                                  
				that = this;                                                                                                                                                                                                                                               
			oS2TTable.setBusy(true);                                                                                                                                                                                                                                    
			oServiceCallModel.read(sServiceURLS2T, {                                                                                                                                                                                                                    
				method: "GET",                                                                                                                                                                                                                                             
				filters: [oFilters],                                                                                                                                                                                                                                       
				success: function (oData, oResponse) {                                                                                                                                                                                                                     
					oS2TTable.setBusy(false);                                                                                                                                                                                                                                 
					oS2TTable.setModel(new JSONModel(oData), "S2TTableModel");                                                                                                                                                                                                
					oS2TTable.setVisibleRowCount(oS2TTable.getModel("S2TTableModel").getData().results.length);                                                                                                                                                               
					aModelTable.push(oS2TTable.getModel("S2TTableModel"));                                                                                                                                                                                                    
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
					oS2TTable.setBusy(false);                                                                                                                                                                                                                                 
					MessageToast.show(that.getI18nText("S2TServiceCallError"));                                                                                                                                                                                               
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//*****service call for S2T total footer section                                                                                                                                                                                                             
		_serviceCallS2TTotalFooter: function (oFilters, sServiceURLS2TTotalDetails) {                                                                                                                                                                                
			let oServiceCallModel = this.getModel(),                                                                                                                                                                                                                    
				oFooterTableS2TTotal = this.getView().byId("idS2TTotalFooter"),                                                                                                                                                                                            
				that = this;                                                                                                                                                                                                                                               
			oFooterTableS2TTotal.setBusy(true);                                                                                                                                                                                                                         
			oServiceCallModel.read(sServiceURLS2TTotalDetails, {                                                                                                                                                                                                        
				method: "GET",                                                                                                                                                                                                                                             
				filters: [oFilters],                                                                                                                                                                                                                                       
				success: function (oData, oResponse) {                                                                                                                                                                                                                     
					oFooterTableS2TTotal.setBusy(false);                                                                                                                                                                                                                      
					oFooterTableS2TTotal.setModel(new JSONModel(oData), "S2TTotalFooterTableModel");                                                                                                                                                                          
					aModelTable.push(oFooterTableS2TTotal.getModel("S2TTotalFooterTableModel"));                                                                                                                                                                              
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
					oFooterTableS2TTotal.setBusy(false);                                                                                                                                                                                                                      
					MessageToast.show(that.getI18nText("S2TServiceCallError"));                                                                                                                                                                                               
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//*****service call for SGE total footer section S2T                                                                                                                                                                                                         
		_serviceCallTETotalFooter: function (oFilters, sServiceURLTETotalDetails) {                                                                                                                                                                                  
			let oServiceCallModel = this.getModel(),                                                                                                                                                                                                                    
				oFooterTableTETotal = this.getView().byId("idTETotalFooter"),                                                                                                                                                                                              
				that = this;                                                                                                                                                                                                                                               
			oFooterTableTETotal.setBusy(true);                                                                                                                                                                                                                          
			oServiceCallModel.read(sServiceURLTETotalDetails, {                                                                                                                                                                                                         
				method: "GET",                                                                                                                                                                                                                                             
				filters: [oFilters],                                                                                                                                                                                                                                       
				success: function (oData, oResponse) {                                                                                                                                                                                                                     
					oFooterTableTETotal.setBusy(false);                                                                                                                                                                                                                       
					oFooterTableTETotal.setModel(new JSONModel(oData), "TETotalFooterTableModel");                                                                                                                                                                            
					aModelTable.push(oFooterTableTETotal.getModel("TETotalFooterTableModel"));                                                                                                                                                                                
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
					oFooterTableTETotal.setBusy(false);                                                                                                                                                                                                                       
					MessageToast.show(that.getI18nText("S2TServiceCallError"));                                                                                                                                                                                               
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		//*****service call for RecChk footer section S2T                                                                                                                                                                                                            
		_serviceCallS2TRecChkFooter: function (oFilters, sServiceURLS2TRecChkDetails) {                                                                                                                                                                              
			let oServiceCallModel = this.getModel(),                                                                                                                                                                                                                    
				oFooterTableS2TRecChk = this.getView().byId("idRecChkFooterS2T"),                                                                                                                                                                                          
				that = this;                                                                                                                                                                                                                                               
			oFooterTableS2TRecChk.setBusy(true);                                                                                                                                                                                                                        
			oServiceCallModel.read(sServiceURLS2TRecChkDetails, {                                                                                                                                                                                                       
				method: "GET",                                                                                                                                                                                                                                             
				filters: [oFilters],                                                                                                                                                                                                                                       
				success: function (oData, oResponse) {                                                                                                                                                                                                                     
					oFooterTableS2TRecChk.setBusy(false);                                                                                                                                                                                                                     
					oFooterTableS2TRecChk.setModel(new JSONModel(oData), "RecChkFooterS2TTableModel");                                                                                                                                                                        
					aModelTable.push(oFooterTableS2TRecChk.getModel("RecChkFooterS2TTableModel"));                                                                                                                                                                            
				},                                                                                                                                                                                                                                                         
				error: function (oError) {                                                                                                                                                                                                                                 
					oFooterTableS2TRecChk.setBusy(false);                                                                                                                                                                                                                     
					MessageToast.show(that.getI18nText("S2TServiceCallError"));                                                                                                                                                                                               
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		// _fetchValidTaxRates: function (oParams) {                                                                                                                                                                                                                 
		// 	oParams = oParams ? oParams : {};                                                                                                                                                                                                                        
		// 	let that = this,                                                                                                                                                                                                                                         
		// 		oView = this.getView(),                                                                                                                                                                                                                                 
		// 		sCnsldtnUnitKey = oView.byId("idConsUnit").getSelectedKey(),                                                                                                                                                                                            
		// 		oSelectedItem = oView.byId("idIntentionComboBox").getSelectedItem(),                                                                                                                                                                                    
		// 		oFiscalDate = oView.byId("idFiscalYearFilter").getDateValue(),                                                                                                                                                                                          
		// 		oServiceCallModel = this.getModel();                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
		// 	let sConsldtnUnit = oParams.ConsolidationUnit ? oParams.ConsolidationUnit : sCnsldtnUnitKey,                                                                                                                                                             
		// 		iPeriodTo = oParams.PeriodTo ? oParams.PeriodTo : oSelectedItem.getBindingContext("intentionVHModel").getObject().PeriodTo,                                                                                                                             
		// 		sFiscalYearVal = oParams.FiscalYear ? oParams.FiscalYear : oFiscalDate.getFullYear();                                                                                                                                                                   
                                                                                                                                                                                                                                                               
		// 	// If no value exists - return                                                                                                                                                                                                                           
		// 	if (!sConsldtnUnit || !iPeriodTo || !sFiscalYearVal) {                                                                                                                                                                                                   
		// 		return;                                                                                                                                                                                                                                                 
		// 	}                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
		// 	let sServiceURL = "/xEY1xSAV_C_Fetch_Tax_Rates(p_toperiod='" + iPeriodTo + "',p_ryear='" + sFiscalYearVal + "')/Set";                                                                                                                                    
		// 	oServiceCallModel.read(sServiceURL, {                                                                                                                                                                                                                    
		// 		method: "GET",                                                                                                                                                                                                                                          
		// 		filters: [new Filter("ConsolidationUnit", "EQ", sConsldtnUnit)],                                                                                                                                                                                        
		// 		success: function (oData) {                                                                                                                                                                                                                             
		// 			if (oData.results.length < 1) {                                                                                                                                                                                                                        
		// 				MessageBox.warning(that.getI18nText("errorTaxRatesNotMaintained"));                                                                                                                                                                                   
		// 			}                                                                                                                                                                                                                                                      
		// 		},                                                                                                                                                                                                                                                      
		// 		error: function (oError) {                                                                                                                                                                                                                              
		// 			MessageToast.show(that.getI18nText("warningFetchingTaxRates"));                                                                                                                                                                                        
		// 		}                                                                                                                                                                                                                                                       
		// 	});                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
		// },                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
		// _fetchTiers: function () {                                                                                                                                                                                                                                
		// 	let that = this,                                                                                                                                                                                                                                         
		// 		oView = this.getView(),                                                                                                                                                                                                                                 
		// 		sCountryKeyVal = oView.byId("idConsUnit").getSelectedItem().getBindingContext().getObject().Country,                                                                                                                                                    
		// 		sFiscalYearVal = oView.byId("idFiscalYearFilter").getDateValue().getFullYear(),                                                                                                                                                                         
		// 		sIntention = oView.byId("idIntentionComboBox").getSelectedKey(),                                                                                                                                                                                        
		// 		oServiceCallModel = this.getModel();                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
		// 	if (sIntention === "PER") {                                                                                                                                                                                                                              
		// 		sIntention = this._getIntentionForManageTier();                                                                                                                                                                                                         
		// 	}                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
		// 	// If no value exists - return                                                                                                                                                                                                                           
		// 	if (!sCountryKeyVal || !sFiscalYearVal || !sIntention) {                                                                                                                                                                                                 
		// 		return;                                                                                                                                                                                                                                                 
		// 	}                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
		// 	let sServiceURL = "/xEY1xSAV_C_TIERS";                                                                                                                                                                                                                   
		// 	oServiceCallModel.read(sServiceURL, {                                                                                                                                                                                                                    
		// 		method: "GET",                                                                                                                                                                                                                                          
		// 		filters: [new Filter("CountryKey", "EQ", sCountryKeyVal), new Filter("FiscalYear", "EQ", sFiscalYearVal), new Filter("Intention",                                                                                                                       
		// 			"EQ", sIntention)],                                                                                                                                                                                                                                    
		// 		success: function (oData) {                                                                                                                                                                                                                             
		// 			if (oData.results.length < 1) {                                                                                                                                                                                                                        
		// 				MessageBox.warning(that.getI18nText("errorTiersNotMaintained"));                                                                                                                                                                                      
		// 			}                                                                                                                                                                                                                                                      
		// 		},                                                                                                                                                                                                                                                      
		// 		error: function (oError) {                                                                                                                                                                                                                              
		// 			MessageToast.show(that.getI18nText("warningFetchingTierss"));                                                                                                                                                                                          
		// 		}                                                                                                                                                                                                                                                       
		// 	});                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
		// },                                                                                                                                                                                                                                                        
		_EmptyTableCall: function () {                                                                                                                                                                                                                               
			let oView = this.getView();                                                                                                                                                                                                                                 
			oView.byId("idGE").getModel("GETableModel").setData([]);                                                                                                                                                                                                    
			oView.byId("idGEFooter").getModel("GEFooterTableModel").setData([]);                                                                                                                                                                                        
			oView.byId("idG2S").getModel("G2STableModel").setData([]);                                                                                                                                                                                                  
			oView.byId("idG2STotalFooter").getModel("G2STotalFooterTableModel").setData([]);                                                                                                                                                                            
			oView.byId("idSGETotalFooter").getModel("SGETotalFooterTableModel").setData([]);                                                                                                                                                                            
			oView.byId("idRecChkFooter").getModel("RecChkFooterTableModel").setData([]);                                                                                                                                                                                
			oView.byId("idS2T").getModel("S2TTableModel").setData([]);                                                                                                                                                                                                  
			oView.byId("idS2TTotalFooter").getModel("S2TTotalFooterTableModel").setData([]);                                                                                                                                                                            
			oView.byId("idTETotalFooter").getModel("TETotalFooterTableModel").setData([]);                                                                                                                                                                              
			oView.byId("idRecChkFooterS2T").getModel("RecChkFooterS2TTableModel").setData([]);                                                                                                                                                                          
		},                                                                                                                                                                                                                                                           
		//service calls to fetch data for all the tabs                                                                                                                                                                                                               
		_fetchAllTabData: function () {                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			let oView = this.getView(),                                                                                                                                                                                                                                 
				globalParameterData = oView.getModel("viewConfigDataModel").getData();                                                                                                                                                                                     
			if (!globalParameterData.globalParameters || !globalParameterData.globalParameters.ConsolidationChartofAccounts || !                                                                                                                                        
				globalParameterData.globalParameters.ConsolidationGroup) {                                                                                                                                                                                                 
				MessageBox.error(this.getI18nText("errorMaintainGlobalParameter"));                                                                                                                                                                                        
				return;                                                                                                                                                                                                                                                    
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			let oConsUnit = oView.byId("idConsUnit"),                                                                                                                                                                                                                   
				sConsUnit = oConsUnit.getSelectedKey(),                                                                                                                                                                                                                    
				idCurrType = oView.byId("idCurrency"),                                                                                                                                                                                                                     
				sCurrencyUnit = idCurrType.getSelectedKey(),                                                                                                                                                                                                               
				// sCurrText = (idCurrType.getSelectedItem()) ? idCurrType.getSelectedItem().getProperty("additionalText") : globalParameterData.globalParameters                                                                                                          
				// .CurrencyType,                                                                                                                                                                                                                                          
				// sCountry = (oConsUnit.getSelectedItem()) ? oConsUnit.getSelectedItem().getBindingContext().getObject().Country :                                                                                                                                        
				// globalParameterData.globalParameters.Country,                                                                                                                                                                                                           
				// sIntention = oView.byId("idIntentionComboBox").getSelectedKey(),                                                                                                                                                                                        
				oFiscalYear = oView.byId("idFiscalYearFilter"),                                                                                                                                                                                                            
				sFiscalYearVal = oFiscalYear.getDateValue().getFullYear(),                                                                                                                                                                                                 
				oPeriodTo = oView.byId("idPeriodToInput"),                                                                                                                                                                                                                 
				paramToYB = parseInt(oPeriodTo.getValue(), [10]),                                                                                                                                                                                                          
				oPeriodFrom = oView.byId("idPeriodFromInput"),                                                                                                                                                                                                             
				paramFromYB = parseInt(oPeriodFrom.getValue(), [10]),                                                                                                                                                                                                      
				sSwitch = "X",                                                                                                                                                                                                                                             
				oFilters;                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
			if (oView.byId("idIntentionComboBox").getEnabled() === false) {                                                                                                                                                                                             
				MessageBox.error(this.getI18nText("IntentionNotYetOpen") + sFiscalYearVal);                                                                                                                                                                                
				if (aModelTable.length > 0) {                                                                                                                                                                                                                              
					this._EmptyTableCall();                                                                                                                                                                                                                                   
				}                                                                                                                                                                                                                                                          
				return;                                                                                                                                                                                                                                                    
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			// Intention Filter Data                                                                                                                                                                                                                                    
			let oIntentionBinding = oView.byId("idIntentionComboBox").getSelectedItem().getBindingContext("intentionVHModel"),                                                                                                                                          
				oSelectedData = oIntentionBinding.getObject(),                                                                                                                                                                                                             
				iCurrentPeriod = parseInt(oSelectedData.CurrOpenPeriod, [10]);                                                                                                                                                                                             
			if (oSelectedData.status === this.getI18nText("YetToOpen")) {                                                                                                                                                                                               
				this.getBusyDialog().close();                                                                                                                                                                                                                              
				MessageBox.error((this.getModel("i18n").getResourceBundle().getText("ThisIntentionNotYetOpen", [oSelectedData.IntentDescription,                                                                                                                           
					oSelectedData.Gjahr                                                                                                                                                                                                                                       
				])));                                                                                                                                                                                                                                                      
				if (aModelTable.length > 0) {                                                                                                                                                                                                                              
					this._EmptyTableCall();                                                                                                                                                                                                                                   
				}                                                                                                                                                                                                                                                          
				return;                                                                                                                                                                                                                                                    
			}                                                                                                                                                                                                                                                           
			if (paramToYB > iCurrentPeriod) {                                                                                                                                                                                                                           
				this.getBusyDialog().close();                                                                                                                                                                                                                              
				MessageBox.error(this.getModel("i18n").getResourceBundle().getText("errorPeriodnotopen", [paramToYB, iCurrentPeriod]));                                                                                                                                    
				if (aModelTable.length > 0) {                                                                                                                                                                                                                              
					this._EmptyTableCall();                                                                                                                                                                                                                                   
				}                                                                                                                                                                                                                                                          
				return;                                                                                                                                                                                                                                                    
			}                                                                                                                                                                                                                                                           
			// Intention Filter Data                                                                                                                                                                                                                                    
			let iTaxIntentionVal = (oView.byId("idIntentionComboBox").getSelectedItem()) ? parseInt(oView.byId("idIntentionComboBox").getSelectedItem()                                                                                                                 
					.getBindingContext("intentionVHModel").getObject().TaxIntention, [10]) : globalParameterData.globalParameters.TaxIntention,                                                                                                                               
				//intentionValue = sIntention,//iSpecialPeriodVal > 12 ? iSpecialPeriodVal : '',                                                                                                                                                                           
				intentionValue = iTaxIntentionVal > 100 ? iTaxIntentionVal : '',                                                                                                                                                                                           
				intetnVal = (oView.byId("idIntentionComboBox").getSelectedItem()) ? oView.byId("idIntentionComboBox").getSelectedItem()                                                                                                                                    
				.getBindingContext("intentionVHModel").getObject().TaxIntention : globalParameterData.globalParameters.TaxIntention,                                                                                                                                       
                                                                                                                                                                                                                                                               
				// Filters                                                                                                                                                                                                                                                 
				oMandFilters = new Filter({                                                                                                                                                                                                                                
					filters: [new Filter("ConsolidationUnit", FilterOperator.EQ, sConsUnit),                                                                                                                                                                                  
						//	new Filter("ChartOfAccounts", FilterOperator.EQ, "CANA"),                                                                                                                                                                                             
						new Filter("ConsolidationChartofAccounts", FilterOperator.EQ, globalParameterData.globalParameters.ConsolidationChartofAccounts),                                                                                                                        
						new Filter("MainCurrency", FilterOperator.EQ, sCurrencyUnit)                                                                                                                                                                                             
					],                                                                                                                                                                                                                                                        
					and: true                                                                                                                                                                                                                                                 
				});                                                                                                                                                                                                                                                        
			oFilters = oMandFilters;                                                                                                                                                                                                                                    
			aModelTable = [];                                                                                                                                                                                                                                           
			//---------------------------------- Service Call - ER GAAP Equity section-------------------------------------                                                                                                                                             
			let sServiceURLGE = "/xEY1xSAV_C_ER_GAAP_Equity(p_ryear='" + sFiscalYearVal + "',p_fromperiod='" + paramFromYB +                                                                                                                                            
				"',p_toperiod='" +                                                                                                                                                                                                                                         
				paramToYB + "',p_taxintention='" + intentionValue + "')/Results";                                                                                                                                                                                          
			this._serviceCallGE(sServiceURLGE, oFilters);                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
			//---------------------------------- Service Call - ER GAAP Equity Footer section-------------------------------------                                                                                                                                      
			let sServiceURLGEDetails = "/xEY1xSAV_C_ER_GAAPEQ_Total(p_ryear='" + sFiscalYearVal + "',p_fromperiod='" + paramFromYB +                                                                                                                                    
				"',p_toperiod='" + paramToYB + "',p_taxintention='" + intentionValue + "')/Set";                                                                                                                                                                           
			this._serviceCallGEFooter(sServiceURLGEDetails, oFilters);                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
			//	---------------------------------- Service Call - G2S section-----------------------------------------------------------                                                                                                                                 
			let sServiceURLG2S = "/xEY1xSAV_C_ER_Gaap2Stat(p_toperiod='" + paramToYB +                                                                                                                                                                                  
				"',p_ryear='" + sFiscalYearVal + "',p_taxintention='" + intentionValue + "')/Set";                                                                                                                                                                         
			this._serviceCallG2S(oFilters, sServiceURLG2S);                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			//	---------------------------------- Service Call - G2S Total Footer section-----------------------------------------------------------                                                                                                                    
			let sServiceURLG2STotalDetails = "/xEY1xSAV_C_ER_Gaap2Stat_Total(p_toperiod='" + paramToYB + "',p_ryear='" + sFiscalYearVal +                                                                                                                               
				"',p_taxintention='" + intentionValue + "')/Set";                                                                                                                                                                                                          
			this._serviceCallG2STotalFooter(oFilters, sServiceURLG2STotalDetails);                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			//	---------------------------------- Service Call - SGEq Total Footer section-----------------------------------------------------------                                                                                                                   
			let sServiceURLSGETotalDetails = "/xEY1xSAV_C_ER_StatGaapEqTotal(p_toperiod='" + paramToYB + "',p_ryear='" + sFiscalYearVal +                                                                                                                               
				"',p_taxintention='" + intentionValue + "',p_fromperiod='" + paramFromYB + "')/Set";                                                                                                                                                                       
			this._serviceCallSGETotalFooter(oFilters, sServiceURLSGETotalDetails);                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			//	---------------------------------- Service Call - G2SRecCheck Footer section-----------------------------------------------------------                                                                                                                  
			let sServiceURLG2SRecChkDetails = "/xEY1xSAV_C_ER_G2S_RecChk(p_toperiod='" + paramToYB + "',p_ryear='" + sFiscalYearVal +                                                                                                                                   
				"',p_taxintention='" + intentionValue + "',p_fromperiod='" + paramFromYB + "',p_switch='" + sSwitch + "',p_intention='" +                                                                                                                                  
				intetnVal + "')/Set";                                                                                                                                                                                                                                      
			this._serviceCallG2SRecChkFooter(oFilters, sServiceURLG2SRecChkDetails);                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
			//---------------------------------- Service Call - S2T section-----------------------------------------------------------                                                                                                                                  
			let sServiceURLS2T = "/xEY1xSAV_C_ER_Stat2Tax(p_toperiod='" + paramToYB + "',p_ryear='" + sFiscalYearVal + "',p_taxintention='" +                                                                                                                           
				intentionValue + "')/Set";                                                                                                                                                                                                                                 
			this._serviceCallS2T(oFilters, sServiceURLS2T);                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
			//	---------------------------------- Service Call - S2T Total Footer section-----------------------------------------------------------                                                                                                                    
			let sServiceURLS2TTotalDetails = "/xEY1xSAV_C_ER_Stat2Tax_Total(p_toperiod='" + paramToYB + "',p_ryear='" + sFiscalYearVal +                                                                                                                                
				"',p_taxintention='" + intentionValue + "')/Set";                                                                                                                                                                                                          
			this._serviceCallS2TTotalFooter(oFilters, sServiceURLS2TTotalDetails);                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
			//	---------------------------------- Service Call - TEq Total Footer section-----------------------------------------------------------                                                                                                                    
			let sServiceURLTETotalDetails = "/xEY1xSAV_C_ER_TaxGaapEqTotal(p_toperiod='" + paramToYB + "',p_ryear='" + sFiscalYearVal +                                                                                                                                 
				"',p_taxintention='" + intentionValue + "',p_fromperiod='" + paramFromYB + "')/Set";                                                                                                                                                                       
			this._serviceCallTETotalFooter(oFilters, sServiceURLTETotalDetails);                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			//	---------------------------------- Service Call - S2TRecCheck Footer section-----------------------------------------------------------                                                                                                                  
			let sServiceURLS2TRecChkDetails = "/xEY1xSAV_C_ER_S2T_RecChk(p_toperiod='" + paramToYB + "',p_ryear='" + sFiscalYearVal +                                                                                                                                   
				"',p_taxintention='" + intentionValue + "',p_fromperiod='" + paramFromYB + "',p_switch='" + sSwitch + "',p_intention='" + intetnVal + "')/Set";                                                                                                            
			this._serviceCallS2TRecChkFooter(oFilters, sServiceURLS2TRecChkDetails);                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		/* =========================================================== */                                                                                                                                                                                            
		/* event handlers                                              */                                                                                                                                                                                            
		/* =========================================================== */                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
		onSearchButtonPressed: function (oEvent) {                                                                                                                                                                                                                   
			this._fetchAllTabData();                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
			// Trigger this only once - After the Dropdowns are binded                                                                                                                                                                                                  
			// this._fetchTiers();                                                                                                                                                                                                                                      
		},                                                                                                                                                                                                                                                           
		// <!--	~~~~~~~~~~~~~~~~~~~~~~~~~ Drill Down to Journal Entries	~~~~~~~~~~~~~~~~~~~~~~~~	-->                                                                                                                                                                 
		onPressJournalEntriesDetail: function (oEvent) {                                                                                                                                                                                                             
			// Generate Data for Journal Entries Filter                                                                                                                                                                                                                 
			var oJournalEntryData = this._createJournalEntriesFilterData(oEvent);                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			// If oJournalEntryData does not exist, then Do Not Execute code further                                                                                                                                                                                    
			if (!oJournalEntryData) {                                                                                                                                                                                                                                   
				return;                                                                                                                                                                                                                                                    
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			var oModel = new JSONModel(oJournalEntryData);                                                                                                                                                                                                              
			this.getOwnerComponent().setModel(oModel, "JournalEntryData");                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
			this.oRouter.navTo("JournalEntries");                                                                                                                                                                                                                       
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onBeforeVariantSaveFilterBar: function (oEvent) {                                                                                                                                                                                                            
			let oView = this.getView(),                                                                                                                                                                                                                                 
				oFilterBar = oView.byId("idEquityReconSmartFilterBar"),                                                                                                                                                                                                    
				oCnsdUnit = oView.byId("idConsUnit"),                                                                                                                                                                                                                      
				oFiscalYear = oView.byId("idFiscalYearFilter"),                                                                                                                                                                                                            
				oIntention = oView.byId("idIntentionComboBox"),                                                                                                                                                                                                            
				oCurrency = oView.byId("idCurrency"),                                                                                                                                                                                                                      
				oPeriodTo = oView.byId("idPeriodToInput");                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                               
			oFilterBar.setFilterData({                                                                                                                                                                                                                                  
				"_CUSTOM": {                                                                                                                                                                                                                                               
					"ConsolidationUnit": oCnsdUnit.getSelectedKey(),                                                                                                                                                                                                          
					"FiscalYear": oFiscalYear.getValue(),                                                                                                                                                                                                                     
					"Intention": oIntention.getSelectedKey(),                                                                                                                                                                                                                 
					"CurrType": oCurrency.getSelectedKey(),                                                                                                                                                                                                                   
					"PeriodTo": oPeriodTo.getValue(),                                                                                                                                                                                                                         
					"VariantID": oFilterBar.getCurrentVariantId()                                                                                                                                                                                                             
				}                                                                                                                                                                                                                                                          
			});                                                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
		onAfterVariantLoadFilterBar: function (oEvent) {                                                                                                                                                                                                             
			var oView = this.getView();                                                                                                                                                                                                                                 
			var oFilterBar = oView.byId("idEquityReconSmartFilterBar");                                                                                                                                                                                                 
			var oCnsdUnit = oView.byId("idConsUnit");                                                                                                                                                                                                                   
			var oFiscalYear = oView.byId("idFiscalYearFilter");                                                                                                                                                                                                         
			let oIntention = oView.byId("idIntentionComboBox");                                                                                                                                                                                                         
			var oCurrency = oView.byId("idCurrency");                                                                                                                                                                                                                   
			let oPeriodTo = this.getView().byId("idPeriodToInput");                                                                                                                                                                                                     
			var oFilterData = oFilterBar.getFilterData()._CUSTOM;                                                                                                                                                                                                       
                                                                                                                                                                                                                                                               
			//	Setting Data to filter fields                                                                                                                                                                                                                            
			oCnsdUnit.setSelectedKey(oFilterData.ConsolidationUnit);                                                                                                                                                                                                    
			oFiscalYear.setValue(oFilterData.FiscalYear);                                                                                                                                                                                                               
			oIntention.setSelectedKey(oFilterData.Intention);                                                                                                                                                                                                           
			oCurrency.setSelectedKey(oFilterData.CurrType);                                                                                                                                                                                                             
			oPeriodTo.setValue(formatter.convertStringToInt(oFilterData.PeriodTo));                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
			// If Consolidation Unit is loaded, then call Ledger Data                                                                                                                                                                                                   
			if (oFilterData.ConsolidationUnit) {                                                                                                                                                                                                                        
				this.fetchReconLedgerData();                                                                                                                                                                                                                               
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			// Fetch Currency Data for Dropdown                                                                                                                                                                                                                         
			if (oFilterData.CurrType) {                                                                                                                                                                                                                                 
				oCurrency.setVisible(true);                                                                                                                                                                                                                                
				this._fetchCurrencyData(true);                                                                                                                                                                                                                             
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			// if (oFilterData.ConsolidationUnit && oFilterData.FiscalYear && oFilterData.Intention) {                                                                                                                                                                  
			// this._fetchValidTaxRates({                                                                                                                                                                                                                               
			// 	ConsolidationUnit: oFilterData.ConsolidationUnit,                                                                                                                                                                                                       
			// 	PeriodTo: oFilterData.PeriodTo,                                                                                                                                                                                                                         
			// 	FiscalYear: oFilterData.FiscalYear.getFullYear()                                                                                                                                                                                                        
			// });                                                                                                                                                                                                                                                      
			// }                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
			// Intention Data to be loaded.                                                                                                                                                                                                                             
			// If Intention is 'Empty' in Saved Variant, still we need data in DropDown list.                                                                                                                                                                           
			//this._fetchIntentionData();                                                                                                                                                                                                                               
			let aParam = [oFilterData.ConsolidationUnit, oFilterData.FiscalYear.getFullYear()];                                                                                                                                                                         
			this._fetchIntentionStatus(aParam);                                                                                                                                                                                                                         
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onChangeDatePickerFilter: function (oEvent) {                                                                                                                                                                                                                
			let oDP = oEvent.getSource(),                                                                                                                                                                                                                               
				oReconLedgerData = this.getModel("viewConfigDataModel").getData(),                                                                                                                                                                                         
				sBunit = this.getView().byId("idConsUnit").getProperty("selectedKey");                                                                                                                                                                                     
			//oReconLedgerData.globalParameters.ConsolidationUnit;                                                                                                                                                                                                      
			if (oEvent.getParameter("valid")) {                                                                                                                                                                                                                         
				oDP.setValueState("None");                                                                                                                                                                                                                                 
				let sYear = oDP.getDateValue().getFullYear(),                                                                                                                                                                                                              
					aParam = [sBunit, sYear];                                                                                                                                                                                                                                 
				this._fetchIntentionStatus(aParam);                                                                                                                                                                                                                        
			} else {                                                                                                                                                                                                                                                    
				oDP.setValueState("Error");                                                                                                                                                                                                                                
			}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
			// Check if Tax Rate Maintained for selected intention.                                                                                                                                                                                                     
			// if (oEvent.getSource().getValue()) {                                                                                                                                                                                                                     
			// 	this._fetchValidTaxRates();                                                                                                                                                                                                                             
			// }                                                                                                                                                                                                                                                        
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onConsUnitChange: function (oEvent) {                                                                                                                                                                                                                        
			this._fetchCurrencyData(false);                                                                                                                                                                                                                             
			this.fetchReconLedgerData();                                                                                                                                                                                                                                
			//Added Method Call                                                                                                                                                                                                                                         
			let oBunit = this.getView().byId("idConsUnit").getSelectedKey(),                                                                                                                                                                                            
				aParam = [oBunit, this.getView().byId("idFiscalYearFilter").getDateValue().getFullYear()];                                                                                                                                                                 
			this._fetchIntentionStatus(aParam);                                                                                                                                                                                                                         
			// Check if Tax Rate Maintained for selected intention.                                                                                                                                                                                                     
			// if (oEvent.getSource().getValue()) {                                                                                                                                                                                                                     
			// 	this._fetchValidTaxRates();                                                                                                                                                                                                                             
			// }                                                                                                                                                                                                                                                        
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onChangeIntentionComboBox: function (oEvent) {                                                                                                                                                                                                               
			let oView = this.getView(),                                                                                                                                                                                                                                 
				oIntentionCtrl = oView.byId("idIntentionComboBox"),                                                                                                                                                                                                        
				oSelectedItem = oIntentionCtrl.getSelectedItem();                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			// Validation for Invalid data	                                                                                                                                                                                                                             
			if (!oSelectedItem) {                                                                                                                                                                                                                                       
				oIntentionCtrl.setSelectedItem("");                                                                                                                                                                                                                        
				return;                                                                                                                                                                                                                                                    
			}                                                                                                                                                                                                                                                           
			this._managePeriodFieldsEditability(true);                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
			// Check if Tax Rate Maintained for selected intention.                                                                                                                                                                                                     
			// if (oEvent.getSource().getValue()) {                                                                                                                                                                                                                     
			// 	this._fetchValidTaxRates();                                                                                                                                                                                                                             
			// }                                                                                                                                                                                                                                                        
		},                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		onLiveChangePeriodTo: function () {                                                                                                                                                                                                                          
			let oPeriodTo = this.getView().byId("idPeriodToInput");                                                                                                                                                                                                     
			let p_fromyb = parseInt(this.getView().byId("idPeriodFromInput").getValue(), [10]);                                                                                                                                                                         
			let p_toyb = parseInt(oPeriodTo.getValue(), [10]);                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
			oPeriodTo.setValueState("None");                                                                                                                                                                                                                            
			//	If PeriodTo < PeriodFrom, then do not execute further service call&nbsp;                                                                                                                                                                                 
			if (p_toyb < p_fromyb) {                                                                                                                                                                                                                                    
				oPeriodTo.setValueState("Error");                                                                                                                                                                                                                          
				oPeriodTo.setValueStateText(this.getI18nText("periodToLessThanPeriodFromErrorMsg"));                                                                                                                                                                       
				return;                                                                                                                                                                                                                                                    
			} else if (p_toyb > "012") {                                                                                                                                                                                                                                
				oPeriodTo.setValueState("Error");                                                                                                                                                                                                                          
				oPeriodTo.setValueStateText(this.getI18nText("periodToGreaterThanLastPeriod"));                                                                                                                                                                            
				return;                                                                                                                                                                                                                                                    
			} else {                                                                                                                                                                                                                                                    
				this._managePerodicIntentionStatus(p_toyb);                                                                                                                                                                                                                
			}                                                                                                                                                                                                                                                           
		}                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
	});                                                                                                                                                                                                                                                           
});                                                                                                                                                                                                                                                            